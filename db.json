{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"themes/indigo/source/css/style.less","path":"css/style.less","modified":0,"renderable":1},{"_id":"themes/indigo/source/img/brand.jpg","path":"img/brand.jpg","modified":0,"renderable":1},{"_id":"themes/indigo/source/img/cc.png","path":"img/cc.png","modified":0,"renderable":1},{"_id":"themes/indigo/source/img/img-err.png","path":"img/img-err.png","modified":0,"renderable":1},{"_id":"themes/indigo/source/img/img-loading.png","path":"img/img-loading.png","modified":0,"renderable":1},{"_id":"themes/indigo/source/js/main.js","path":"js/main.js","modified":0,"renderable":1},{"_id":"themes/indigo/source/css/fonts/roboto/Roboto-Bold.eot","path":"css/fonts/roboto/Roboto-Bold.eot","modified":0,"renderable":1},{"_id":"themes/indigo/source/css/fonts/roboto/Roboto-Bold.woff","path":"css/fonts/roboto/Roboto-Bold.woff","modified":0,"renderable":1},{"_id":"themes/indigo/source/css/fonts/roboto/Roboto-Bold.woff2","path":"css/fonts/roboto/Roboto-Bold.woff2","modified":0,"renderable":1},{"_id":"themes/indigo/source/css/fonts/roboto/Roboto-Light.eot","path":"css/fonts/roboto/Roboto-Light.eot","modified":0,"renderable":1},{"_id":"themes/indigo/source/css/fonts/roboto/Roboto-Light.woff","path":"css/fonts/roboto/Roboto-Light.woff","modified":0,"renderable":1},{"_id":"themes/indigo/source/css/fonts/roboto/Roboto-Light.woff2","path":"css/fonts/roboto/Roboto-Light.woff2","modified":0,"renderable":1},{"_id":"themes/indigo/source/css/fonts/roboto/Roboto-Medium.eot","path":"css/fonts/roboto/Roboto-Medium.eot","modified":0,"renderable":1},{"_id":"themes/indigo/source/css/fonts/roboto/Roboto-Medium.woff","path":"css/fonts/roboto/Roboto-Medium.woff","modified":0,"renderable":1},{"_id":"themes/indigo/source/css/fonts/roboto/Roboto-Medium.woff2","path":"css/fonts/roboto/Roboto-Medium.woff2","modified":0,"renderable":1},{"_id":"themes/indigo/source/css/fonts/roboto/Roboto-Regular.eot","path":"css/fonts/roboto/Roboto-Regular.eot","modified":0,"renderable":1},{"_id":"themes/indigo/source/css/fonts/roboto/Roboto-Regular.woff","path":"css/fonts/roboto/Roboto-Regular.woff","modified":0,"renderable":1},{"_id":"themes/indigo/source/css/fonts/roboto/Roboto-Regular.woff2","path":"css/fonts/roboto/Roboto-Regular.woff2","modified":0,"renderable":1},{"_id":"themes/indigo/source/css/fonts/roboto/Roboto-Thin.eot","path":"css/fonts/roboto/Roboto-Thin.eot","modified":0,"renderable":1},{"_id":"themes/indigo/source/css/fonts/roboto/Roboto-Thin.woff2","path":"css/fonts/roboto/Roboto-Thin.woff2","modified":0,"renderable":1},{"_id":"themes/indigo/source/css/fonts/roboto/Roboto-Thin.woff","path":"css/fonts/roboto/Roboto-Thin.woff","modified":0,"renderable":1},{"_id":"themes/indigo/source/css/fonts/fontawesome/fontawesome-webfont.eot","path":"css/fonts/fontawesome/fontawesome-webfont.eot","modified":0,"renderable":1},{"_id":"themes/indigo/source/css/fonts/fontawesome/FontAwesome.otf","path":"css/fonts/fontawesome/FontAwesome.otf","modified":0,"renderable":1},{"_id":"themes/indigo/source/css/fonts/fontawesome/fontawesome-webfont.woff","path":"css/fonts/fontawesome/fontawesome-webfont.woff","modified":0,"renderable":1},{"_id":"themes/indigo/source/css/fonts/fontawesome/fontawesome-webfont.woff2","path":"css/fonts/fontawesome/fontawesome-webfont.woff2","modified":0,"renderable":1},{"_id":"themes/indigo/source/css/fonts/roboto/Roboto-Bold.ttf","path":"css/fonts/roboto/Roboto-Bold.ttf","modified":0,"renderable":1},{"_id":"themes/indigo/source/css/fonts/roboto/Roboto-Light.ttf","path":"css/fonts/roboto/Roboto-Light.ttf","modified":0,"renderable":1},{"_id":"themes/indigo/source/css/fonts/roboto/Roboto-Medium.ttf","path":"css/fonts/roboto/Roboto-Medium.ttf","modified":0,"renderable":1},{"_id":"themes/indigo/source/css/fonts/roboto/Roboto-Regular.ttf","path":"css/fonts/roboto/Roboto-Regular.ttf","modified":0,"renderable":1},{"_id":"themes/indigo/source/css/fonts/roboto/Roboto-Thin.ttf","path":"css/fonts/roboto/Roboto-Thin.ttf","modified":0,"renderable":1},{"_id":"themes/indigo/source/css/fonts/fontawesome/fontawesome-webfont.ttf","path":"css/fonts/fontawesome/fontawesome-webfont.ttf","modified":0,"renderable":1},{"_id":"themes/indigo/source/css/fonts/fontawesome/fontawesome-webfont.svg","path":"css/fonts/fontawesome/fontawesome-webfont.svg","modified":0,"renderable":1},{"_id":"themes/indigo/source/img/avatar.png","path":"img/avatar.png","modified":0,"renderable":1},{"_id":"themes/indigo/source/img/favicon.ico","path":"img/favicon.ico","modified":0,"renderable":1},{"_id":"themes/indigo/source/favicon.ico","path":"favicon.ico","modified":0,"renderable":1}],"Cache":[{"_id":"themes/indigo/README.md","hash":"7666c83e3b7ba083723a7a37ad86e614ef6d0985","modified":1457327005266},{"_id":"themes/indigo/_config.yml","hash":"ff529d03f44f80a2009051c0bc47b24e359b8384","modified":1457327005267},{"_id":"themes/indigo/package.json","hash":"9c9d90b83a204a42178f6057c8c252c3af07a92e","modified":1457327005289},{"_id":"source/_posts/hello-world.md","hash":"8a02477044e2b77f1b262da2c48c01429e4a32e4","modified":1456927911000},{"_id":"themes/indigo/.git/HEAD","hash":"acbaef275e46a7f14c1ef456fff2c8bbe8c84724","modified":1456714851795},{"_id":"themes/indigo/.git/config","hash":"eb61f1f296ad2f17b5b8fcb825f470866c463bb7","modified":1456714851800},{"_id":"themes/indigo/.git/description","hash":"9635f1b7e12c045212819dd934d809ef07efa2f4","modified":1456714824161},{"_id":"themes/indigo/.git/index","hash":"b233f1dcbc3a9c6b9c846d4794d90d48b647ed2d","modified":1456714851854},{"_id":"themes/indigo/.git/packed-refs","hash":"a619b9234890342c2cff504ba4aa8dbd270f0db8","modified":1456714851780},{"_id":"themes/indigo/layout/archive.ejs","hash":"2703b07cc8ac64ae46d1d263f4653013c7e1666b","modified":1456714851812},{"_id":"themes/indigo/layout/category.ejs","hash":"2703b07cc8ac64ae46d1d263f4653013c7e1666b","modified":1456714851812},{"_id":"themes/indigo/layout/index.ejs","hash":"aa1b4456907bdb43e629be3931547e2d29ac58c8","modified":1456714851813},{"_id":"themes/indigo/layout/layout.ejs","hash":"42349777b0a546b88ed50ae995f5b34c1c734877","modified":1457327005285},{"_id":"themes/indigo/layout/page.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1456714851813},{"_id":"themes/indigo/layout/post.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1456714851814},{"_id":"themes/indigo/layout/tag.ejs","hash":"2703b07cc8ac64ae46d1d263f4653013c7e1666b","modified":1456714851815},{"_id":"themes/indigo/screenshots/hexo-theme-pad.png","hash":"d7c897b32e7eab0146bb2530433c9b8b7571d59c","modified":1456714851817},{"_id":"themes/indigo/screenshots/hexo-theme-phone-1.png","hash":"9b30409ec4c9b94b5582346323ed2c8e26dbc4c0","modified":1456714851820},{"_id":"themes/indigo/screenshots/hexo-theme-phone-2.png","hash":"b6807228992222a8fa095a940a41f40f841a5f6e","modified":1456714851821},{"_id":"themes/indigo/.git/hooks/applypatch-msg.sample","hash":"4de88eb95a5e93fd27e78b5fb3b5231a8d8917dd","modified":1456714824161},{"_id":"themes/indigo/.git/hooks/commit-msg.sample","hash":"ee1ed5aad98a435f2020b6de35c173b75d9affac","modified":1456714824162},{"_id":"themes/indigo/.git/hooks/post-update.sample","hash":"b614c2f63da7dca9f1db2e7ade61ef30448fc96c","modified":1456714824162},{"_id":"themes/indigo/.git/hooks/pre-applypatch.sample","hash":"f208287c1a92525de9f5462e905a9d31de1e2d75","modified":1456714824163},{"_id":"themes/indigo/.git/hooks/pre-commit.sample","hash":"36aed8976dcc08b5076844f0ec645b18bc37758f","modified":1456714824163},{"_id":"themes/indigo/.git/hooks/pre-push.sample","hash":"5c8518bfd1d1d3d2c1a7194994c0a16d8a313a41","modified":1456714824163},{"_id":"themes/indigo/.git/hooks/pre-rebase.sample","hash":"5885a56ab4fca8075a05a562d005e922cde9853b","modified":1456714824164},{"_id":"themes/indigo/.git/hooks/update.sample","hash":"39355a075977d05708ef74e1b66d09a36e486df1","modified":1456714824164},{"_id":"themes/indigo/.git/hooks/prepare-commit-msg.sample","hash":"2b6275eda365cad50d167fe3a387c9bc9fedd54f","modified":1456714824164},{"_id":"themes/indigo/.git/logs/HEAD","hash":"9eacbc9ffe68e1d5f95fe832854d02ed8a3d5c0c","modified":1456714851797},{"_id":"themes/indigo/.git/info/exclude","hash":"c879df015d97615050afa7b9641e3352a1e701ac","modified":1456714824165},{"_id":"themes/indigo/layout/_partial/after-footer.ejs","hash":"aa21e3522d23938e805a3658d456a3636502c301","modified":1457327005268},{"_id":"themes/indigo/layout/_partial/archive-post.ejs","hash":"30f2db93230675cd9bc45ce5bd9cbc8bf270f983","modified":1457327005268},{"_id":"themes/indigo/layout/_partial/archive.ejs","hash":"d38648a2848e797db5d10fe5e1ade731285de5da","modified":1457327005268},{"_id":"themes/indigo/layout/_partial/article.ejs","hash":"c54b6ffea327fb37f1f74bcb44bf076d55d49423","modified":1457327005269},{"_id":"themes/indigo/layout/_partial/cnzz.ejs","hash":"dbee64698919aeaeb0923c44b3f8c5402c7b8fed","modified":1457327005269},{"_id":"themes/indigo/layout/_partial/footer.ejs","hash":"b25d13571c1d7cd77ef8642d3803164fe82cfda4","modified":1457327005269},{"_id":"themes/indigo/layout/_partial/google-analytics.ejs","hash":"1ccc627d7697e68fddc367c73ac09920457e5b35","modified":1457327005275},{"_id":"themes/indigo/layout/_partial/head.ejs","hash":"958a760a9400c204b06c3327e691e0a827a971b1","modified":1457327005276},{"_id":"themes/indigo/layout/_partial/loading.ejs","hash":"8b3e037dd5f3d4564012689c5cd6f63caf73df0f","modified":1457327005277},{"_id":"themes/indigo/layout/_partial/header.ejs","hash":"cfb7d1016ad9a519483c404290eee722c4625b65","modified":1457327005276},{"_id":"themes/indigo/layout/_partial/left-col.ejs","hash":"0f1a1f00b0baaba5c266af40de1e8ba69a71aa9d","modified":1457327005277},{"_id":"themes/indigo/layout/_partial/mathjax.ejs","hash":"c539b64a558513136f36a36ab1246a7884a59167","modified":1457327005277},{"_id":"themes/indigo/layout/_partial/script.ejs","hash":"28ec2ae3e8ff9356e5c9f20f7721b9418885c2ca","modified":1457327005284},{"_id":"themes/indigo/source/css/style.less","hash":"1d6490c9e956140574ac910b4d3552343cb93476","modified":1457327005432},{"_id":"themes/indigo/source/img/brand.jpg","hash":"f86bc62db55040934b524a34624e55c552e6245f","modified":1456696345000},{"_id":"themes/indigo/source/img/cc.png","hash":"ebce75a62b40976a72d43f0bd937d859ac24d87c","modified":1456714851852},{"_id":"themes/indigo/source/img/img-err.png","hash":"23a63ea26eb3c1d5e677d9883cf36cc1a1a1228b","modified":1456714851852},{"_id":"themes/indigo/source/img/logo.jpg","hash":"a089e42acab93864d33e16801b0ac5dc1617c373","modified":1456714851853},{"_id":"themes/indigo/source/img/img-loading.png","hash":"a9cd5cd11866824f31e3d1c5e23badfeb3f73031","modified":1456714851852},{"_id":"themes/indigo/source/js/main.js","hash":"214cd2079bba06cc583c49df80fbf1b9f687a19c","modified":1457327005473},{"_id":"themes/indigo/screenshots/hexo-theme-pc.png","hash":"497742866f4b550c05e9cb0d353c08b4f9e9d171","modified":1456714851819},{"_id":"themes/indigo/.git/objects/pack/pack-092e74cd85b32bdcbc19847c2cd9db76c252062e.idx","hash":"2365335037dfe48a1a6f9b213f1edaa2e2626113","modified":1456714851031},{"_id":"themes/indigo/.git/refs/heads/master","hash":"7f9ecf3663dbc3d179540d30c18bb25d64b49930","modified":1456714851796},{"_id":"themes/indigo/layout/_partial/post/category.ejs","hash":"27fab3e6ccc41c075dc4c5ba3ca9e7f3b6247945","modified":1457327005278},{"_id":"themes/indigo/layout/_partial/post/date.ejs","hash":"d388863c3fbdbaadce38a3dd33d7a537b14b8b82","modified":1457327005278},{"_id":"themes/indigo/layout/_partial/post/duoshuo.ejs","hash":"f6b4c4eaafb5ac386273354b5f64a26139b7a3b0","modified":1457327005278},{"_id":"themes/indigo/layout/_partial/post/nav.ejs","hash":"976b970a6a1f6140a1a1b30a335588ad9af72319","modified":1457327005279},{"_id":"themes/indigo/layout/_partial/post/share.ejs","hash":"d09cd22c2985f9e8a712970deb3a9d8290cc9108","modified":1457327005279},{"_id":"themes/indigo/layout/_partial/post/tag.ejs","hash":"60139e37b41769d218e5cf6f6040c41bd2293728","modified":1457327005279},{"_id":"themes/indigo/layout/_partial/post/tags.ejs","hash":"f8e019f8183fc1771f18e344029bc8ecb86272e0","modified":1457327005283},{"_id":"themes/indigo/layout/_partial/post/title.ejs","hash":"47967f75b47c7fac22432a3d75c6978081ccd1cd","modified":1457327005283},{"_id":"themes/indigo/source/css/_partial/archives.less","hash":"70792112a5d220416f136c161438f1959540d7bb","modified":1457327005295},{"_id":"themes/indigo/source/css/_partial/article.less","hash":"76d9ee4e5f838848b5d7426e396add1ea60ec4bc","modified":1457327005296},{"_id":"themes/indigo/source/css/_partial/fontawesome.less","hash":"e224c01e7528d3daa1f98df583ea6c49ba52d43a","modified":1457327005296},{"_id":"themes/indigo/source/css/_partial/gotop.less","hash":"bad63006b3bd4849bf53ad38482af0d9971061d3","modified":1457327005297},{"_id":"themes/indigo/source/css/_partial/header.less","hash":"9398ee93315299aeb8144c0958e899f4ffea96d5","modified":1457327005297},{"_id":"themes/indigo/source/css/_partial/highlight.less","hash":"2bb977cd0b66e1237cb746e03b50c7db9940a98a","modified":1457327005297},{"_id":"themes/indigo/source/css/_partial/loading.less","hash":"0361039b2abdeb1b41e504fa437df962cda055d2","modified":1457327005303},{"_id":"themes/indigo/source/css/_partial/postlist.less","hash":"54a4553f6d2aac95d29285603d91a3a86d5fad99","modified":1457327005304},{"_id":"themes/indigo/source/css/_partial/layout.less","hash":"e442d62898e1fc455524ca03ba35a582ae8612f8","modified":1457327005303},{"_id":"themes/indigo/source/css/_partial/share.less","hash":"5c830c4b6a5c263acfc342f6e669b117a2745f81","modified":1457327005305},{"_id":"themes/indigo/source/css/_partial/roboto.less","hash":"3e457942995da8840e7662fa6cb551a7e12ea294","modified":1457327005304},{"_id":"themes/indigo/source/css/_partial/tags.less","hash":"36e77ccb39b080aab19d9d87fd20882d5ac84ee9","modified":1457327005305},{"_id":"themes/indigo/source/css/_partial/waves.less","hash":"a8b41b0b0c8ff2f6cf95f7f9784611dd8c212ffe","modified":1457327005306},{"_id":"themes/indigo/source/css/_partial/variable.less","hash":"6a960949f6249a41d5b9abb07a8b40d523003128","modified":1457327005306},{"_id":"themes/indigo/.git/logs/refs/heads/master","hash":"9eacbc9ffe68e1d5f95fe832854d02ed8a3d5c0c","modified":1456714851797},{"_id":"themes/indigo/.git/refs/remotes/origin/HEAD","hash":"d9427cda09aba1cdde5c69c2b13c905bddb0bc51","modified":1456714851791},{"_id":"themes/indigo/source/css/fonts/roboto/Roboto-Bold.eot","hash":"a76cd602f5188b9fbd4ba7443dcb9c064e3dbf10","modified":1456714851836},{"_id":"themes/indigo/source/css/fonts/roboto/Roboto-Bold.woff","hash":"ee99cd87a59a9a5d4092c83232bb3eec67547425","modified":1456714851837},{"_id":"themes/indigo/source/css/fonts/roboto/Roboto-Bold.woff2","hash":"933b866d09c2b087707a98dab64b3888865eeb96","modified":1456714851838},{"_id":"themes/indigo/source/css/fonts/roboto/Roboto-Light.eot","hash":"42fe156996197e5eb0c0264c5d1bb3b4681f4595","modified":1456714851839},{"_id":"themes/indigo/source/css/fonts/roboto/Roboto-Light.woff","hash":"6300f659be9e834ab263efe2fb3c581d48b1e7b2","modified":1456714851840},{"_id":"themes/indigo/source/css/fonts/roboto/Roboto-Light.woff2","hash":"bbdc28b887400fcb340b504ec2904993af42a5d7","modified":1456714851841},{"_id":"themes/indigo/source/css/fonts/roboto/Roboto-Medium.eot","hash":"1517f4b6e1c5d0e5198f937557253aac8fab0416","modified":1456714851841},{"_id":"themes/indigo/source/css/fonts/roboto/Roboto-Medium.woff","hash":"d45f84922131364989ad6578c7a06b6b4fc22c34","modified":1456714851843},{"_id":"themes/indigo/source/css/fonts/roboto/Roboto-Medium.woff2","hash":"6cc1b73571af9e827c4e7e91418f476703cd4c4b","modified":1456714851844},{"_id":"themes/indigo/source/css/fonts/roboto/Roboto-Regular.eot","hash":"77ae3e980ec03863ebe2587a8ef9ddfd06941db0","modified":1456714851844},{"_id":"themes/indigo/source/css/fonts/roboto/Roboto-Regular.woff","hash":"74734dde8d94e7268170f9b994dedfbdcb5b3a15","modified":1456714851846},{"_id":"themes/indigo/source/css/fonts/roboto/Roboto-Regular.woff2","hash":"ed1558b0541f5e01ce48c7db1588371b990eec19","modified":1456714851847},{"_id":"themes/indigo/source/css/fonts/roboto/Roboto-Thin.eot","hash":"0790a51a848dbe7292c98f9d0459218bf1a8ffdd","modified":1456714851847},{"_id":"themes/indigo/source/css/fonts/roboto/Roboto-Thin.woff2","hash":"2449e3dac5ddb7c3da8bb07450493b62d052758c","modified":1456714851850},{"_id":"themes/indigo/source/css/fonts/roboto/Roboto-Thin.woff","hash":"fbc3e71d456c96667d8082ab910e3946ef89240b","modified":1456714851849},{"_id":"themes/indigo/source/css/fonts/fontawesome/fontawesome-webfont.eot","hash":"986eed8dca049714e43eeebcb3932741a4bec76d","modified":1456714851830},{"_id":"themes/indigo/source/css/fonts/fontawesome/FontAwesome.otf","hash":"42c179eef588854b5ec151bcf6a3f58aa8b79b11","modified":1456714851829},{"_id":"themes/indigo/source/css/fonts/fontawesome/fontawesome-webfont.woff","hash":"4a313eb93b959cc4154c684b915b0a31ddb68d84","modified":1456714851834},{"_id":"themes/indigo/source/css/fonts/fontawesome/fontawesome-webfont.woff2","hash":"638c652d623280a58144f93e7b552c66d1667a11","modified":1456714851835},{"_id":"themes/indigo/source/css/fonts/roboto/Roboto-Bold.ttf","hash":"47327df0f35e7cd7c8645874897a7449697544ae","modified":1456714851837},{"_id":"themes/indigo/source/css/fonts/roboto/Roboto-Light.ttf","hash":"e321c183e2b75ee19813892b7bac8d7c411cb88a","modified":1456714851840},{"_id":"themes/indigo/source/css/fonts/roboto/Roboto-Medium.ttf","hash":"6060ca726b9760b76f7c347dce9d2fa1fe42ec92","modified":1456714851842},{"_id":"themes/indigo/source/css/fonts/roboto/Roboto-Regular.ttf","hash":"824b5480c977a8166e177e5357d13164ccc45f47","modified":1456714851845},{"_id":"themes/indigo/source/css/fonts/roboto/Roboto-Thin.ttf","hash":"173ed64528b4d010a76d8d38deb1d7e7eed58eda","modified":1456714851849},{"_id":"themes/indigo/.git/logs/refs/remotes/origin/HEAD","hash":"9eacbc9ffe68e1d5f95fe832854d02ed8a3d5c0c","modified":1456714851795},{"_id":"themes/indigo/source/css/fonts/fontawesome/fontawesome-webfont.ttf","hash":"6484f1af6b485d5096b71b344e67f4164c33dd1f","modified":1456714851833},{"_id":"themes/indigo/source/css/fonts/fontawesome/fontawesome-webfont.svg","hash":"550ef5c1253c8376f2ead32b654eb58d3c106ca3","modified":1457327005311},{"_id":"themes/indigo/.git/objects/pack/pack-092e74cd85b32bdcbc19847c2cd9db76c252062e.pack","hash":"67a5a410e81012091b54ae6c71883a49b680027c","modified":1456714851401},{"_id":"public/2016/02/29/hello-world/index.html","hash":"970b510e6cc09d164668d3287c9002be3920ad59","modified":1456725320691},{"_id":"public/archives/index.html","hash":"08feda7bd726a891a915d3fa40259c0610da4e49","modified":1457332798311},{"_id":"public/archives/2016/index.html","hash":"409d786a79caa6424a43988c5cd402651ba80a10","modified":1457332798311},{"_id":"public/index.html","hash":"fc9bd80643d485859cd3bdb52a7f1b92dfead909","modified":1457332798312},{"_id":"public/archives/2016/02/index.html","hash":"2ab94b18090dd42c467458b7103adb58349bd77d","modified":1456725320692},{"_id":"public/img/cc.png","hash":"ebce75a62b40976a72d43f0bd937d859ac24d87c","modified":1457332798323},{"_id":"public/img/brand.jpg","hash":"f86bc62db55040934b524a34624e55c552e6245f","modified":1457332798358},{"_id":"public/img/img-err.png","hash":"23a63ea26eb3c1d5e677d9883cf36cc1a1a1228b","modified":1457332798323},{"_id":"public/img/logo.jpg","hash":"a089e42acab93864d33e16801b0ac5dc1617c373","modified":1456714898089},{"_id":"public/img/img-loading.png","hash":"a9cd5cd11866824f31e3d1c5e23badfeb3f73031","modified":1457332798323},{"_id":"public/css/fonts/roboto/Roboto-Bold.eot","hash":"a76cd602f5188b9fbd4ba7443dcb9c064e3dbf10","modified":1457332798323},{"_id":"public/css/fonts/roboto/Roboto-Bold.woff","hash":"ee99cd87a59a9a5d4092c83232bb3eec67547425","modified":1457332798323},{"_id":"public/css/fonts/roboto/Roboto-Bold.woff2","hash":"933b866d09c2b087707a98dab64b3888865eeb96","modified":1457332798323},{"_id":"public/css/fonts/roboto/Roboto-Light.eot","hash":"42fe156996197e5eb0c0264c5d1bb3b4681f4595","modified":1457332798323},{"_id":"public/css/fonts/roboto/Roboto-Light.woff","hash":"6300f659be9e834ab263efe2fb3c581d48b1e7b2","modified":1457332798323},{"_id":"public/css/fonts/roboto/Roboto-Light.woff2","hash":"bbdc28b887400fcb340b504ec2904993af42a5d7","modified":1457332798323},{"_id":"public/css/fonts/roboto/Roboto-Medium.eot","hash":"1517f4b6e1c5d0e5198f937557253aac8fab0416","modified":1457332798323},{"_id":"public/css/fonts/roboto/Roboto-Medium.woff","hash":"d45f84922131364989ad6578c7a06b6b4fc22c34","modified":1457332798323},{"_id":"public/css/fonts/roboto/Roboto-Medium.woff2","hash":"6cc1b73571af9e827c4e7e91418f476703cd4c4b","modified":1457332798324},{"_id":"public/css/fonts/roboto/Roboto-Regular.woff","hash":"74734dde8d94e7268170f9b994dedfbdcb5b3a15","modified":1457332798324},{"_id":"public/css/fonts/roboto/Roboto-Regular.eot","hash":"77ae3e980ec03863ebe2587a8ef9ddfd06941db0","modified":1457332798324},{"_id":"public/css/fonts/roboto/Roboto-Regular.woff2","hash":"ed1558b0541f5e01ce48c7db1588371b990eec19","modified":1457332798324},{"_id":"public/css/fonts/roboto/Roboto-Thin.eot","hash":"0790a51a848dbe7292c98f9d0459218bf1a8ffdd","modified":1457332798324},{"_id":"public/css/fonts/roboto/Roboto-Thin.woff2","hash":"2449e3dac5ddb7c3da8bb07450493b62d052758c","modified":1457332798324},{"_id":"public/css/fonts/roboto/Roboto-Thin.woff","hash":"fbc3e71d456c96667d8082ab910e3946ef89240b","modified":1457332798324},{"_id":"public/css/fonts/fontawesome/fontawesome-webfont.eot","hash":"986eed8dca049714e43eeebcb3932741a4bec76d","modified":1457332798358},{"_id":"public/css/fonts/fontawesome/FontAwesome.otf","hash":"42c179eef588854b5ec151bcf6a3f58aa8b79b11","modified":1457332798359},{"_id":"public/css/fonts/fontawesome/fontawesome-webfont.woff","hash":"4a313eb93b959cc4154c684b915b0a31ddb68d84","modified":1457332798360},{"_id":"public/css/fonts/fontawesome/fontawesome-webfont.woff2","hash":"638c652d623280a58144f93e7b552c66d1667a11","modified":1457332798360},{"_id":"public/css/fonts/roboto/Roboto-Bold.ttf","hash":"47327df0f35e7cd7c8645874897a7449697544ae","modified":1457332798360},{"_id":"public/css/fonts/roboto/Roboto-Light.ttf","hash":"e321c183e2b75ee19813892b7bac8d7c411cb88a","modified":1457332798360},{"_id":"public/css/fonts/roboto/Roboto-Medium.ttf","hash":"6060ca726b9760b76f7c347dce9d2fa1fe42ec92","modified":1457332798360},{"_id":"public/css/fonts/roboto/Roboto-Regular.ttf","hash":"824b5480c977a8166e177e5357d13164ccc45f47","modified":1457332798361},{"_id":"public/css/fonts/roboto/Roboto-Thin.ttf","hash":"173ed64528b4d010a76d8d38deb1d7e7eed58eda","modified":1457332798361},{"_id":"public/js/main.js","hash":"4ce291d60161e2a0c8176ebd94e9f03ac648467e","modified":1457332798366},{"_id":"public/css/fonts/fontawesome/fontawesome-webfont.ttf","hash":"6484f1af6b485d5096b71b344e67f4164c33dd1f","modified":1457332798366},{"_id":"public/css/fonts/fontawesome/fontawesome-webfont.svg","hash":"550ef5c1253c8376f2ead32b654eb58d3c106ca3","modified":1457332798386},{"_id":"public/css/style.css","hash":"6708de8d61bcc6163174ac50efd21f7523ed903c","modified":1457332798625},{"_id":"themes/indigo/source/img/facicon.ico","hash":"2fe7741fee10e9016740bc4243d140a9fe706b0a","modified":1456713144403},{"_id":"themes/indigo/source/img/avatar.png","hash":"37946615e6cf6976b8e24fa6a089f89dfe1f4371","modified":1456696345000},{"_id":"public/img/facicon.ico","hash":"2fe7741fee10e9016740bc4243d140a9fe706b0a","modified":1456715266681},{"_id":"public/img/avatar.png","hash":"37946615e6cf6976b8e24fa6a089f89dfe1f4371","modified":1457332798375},{"_id":"themes/indigo/source/img/favicon.ico","hash":"2fe7741fee10e9016740bc4243d140a9fe706b0a","modified":1456713144403},{"_id":"public/img/favicon.ico","hash":"2fe7741fee10e9016740bc4243d140a9fe706b0a","modified":1457332798324},{"_id":"themes/indigo/favicon.ico","hash":"2fe7741fee10e9016740bc4243d140a9fe706b0a","modified":1456713144403},{"_id":"source/tags/index.md","hash":"34834066ebeca680acabc07f2049e291309a2e43","modified":1456717443011},{"_id":"public/tags/index.html","hash":"ce87cc0c0fa478639cc26aa9f1ff7ca7314cef99","modified":1457332798310},{"_id":"themes/indigo/source/favicon.ico","hash":"2fe7741fee10e9016740bc4243d140a9fe706b0a","modified":1456713144403},{"_id":"public/favicon.ico","hash":"2fe7741fee10e9016740bc4243d140a9fe706b0a","modified":1457332798324},{"_id":"themes/indigo/source/favicon.png","hash":"998380c9674dd438cc0468fac935ce92cb7e301b","modified":1456720611482},{"_id":"public/favicon.png","hash":"998380c9674dd438cc0468fac935ce92cb7e301b","modified":1456720690249},{"_id":"public/2016/03/02/hello-world/index.html","hash":"6f9755c8568cbebab15a468584da8bd4cae32a76","modified":1456927945909},{"_id":"public/archives/2016/03/index.html","hash":"0136071f52ee7a8e486563f371f86b88134d8b13","modified":1457332798311},{"_id":"source/.DS_Store","hash":"9a8513302ec078c6fa024e344da84ffcf1698026","modified":1456929254000},{"_id":"source/_posts/å¼€å±±ç¬¬ä¸€ç¯‡.md","hash":"2beac7e8f1d38c9eabcfeb06c7080bb6667c78c1","modified":1457331672388},{"_id":"source/_posts/.DS_Store","hash":"df2fbeb1400acda0909a32c1cf6bf492f1121e07","modified":1456929183000},{"_id":"public/2016/03/02/å¼€å±±ç¬¬ä¸€ç¯‡/index.html","hash":"0f0aa44e251d897f926f6886086c68ee8006cd8e","modified":1457331471712},{"_id":"public/tags/æ‚/index.html","hash":"687dab6ce4198de882c2c6ba222f639747c99fde","modified":1457332798313},{"_id":"source/_posts/è‹±é›„è”ç›Ÿä¸­çš„éšæœºè¡Œä¸ºä¼˜åŒ–.md","hash":"a61b0cbf2565df764789e2a87fec1df07ff80d5c","modified":1457332870956},{"_id":"public/tags/ç¿»è¯‘/index.html","hash":"b6b916eac943ef3f7d122677cb3e4660534408aa","modified":1457332798313},{"_id":"public/2016/03/02/è‹±é›„è”ç›Ÿä¸­çš„éšæœºè¡Œä¸ºä¼˜åŒ–/index.html","hash":"c2eba761725f987214fb890390e9b3d813bd4a7d","modified":1457329636111},{"_id":"public/2016/03/07/è‹±é›„è”ç›Ÿä¸­çš„éšæœºè¡Œä¸ºä¼˜åŒ–/index.html","hash":"f8f29fc3ba545aa7134c224167f1aa748f6b7ffa","modified":1457332880454},{"_id":"public/2016/03/03/å¼€å±±ç¬¬ä¸€ç¯‡/index.html","hash":"5537860da3adb8b7f2fde6d9e0ab85bf0ccbd4da","modified":1457332798310}],"Category":[],"Data":[],"Page":[{"type":"tags","noDate":true,"comments":0,"_content":"","source":"tags/index.md","raw":"type: \"tags\"\nnoDate: true\ncomments: false\n---","date":"2016-02-29T03:44:03.011Z","updated":"2016-02-29T03:44:03.011Z","path":"tags/index.html","_id":"cil7fy6vz00007whllozu6e81","title":"","layout":"page","content":"","excerpt":"","more":""}],"Post":[{"title":"å¼€å±±ç¬¬ä¸€ç¯‡","date":"2016-03-03T01:30:24.000Z","_content":"\n## å…³äºåšå®¢\n\nç”¨è¿‡å¥½å¤šåšå®¢ï¼Œå¦‚Cnblogã€CSDNã€ITeyeç­‰ç­‰ï¼Œåæ¥è§‰å¾—ç”¨Githubæ›´Geekä¸€ç‚¹ï¼Œäºæ˜¯å­¦ä¹ [gizak](https://github.com/gizak)æäº†ä¸€ä¸ª[ä»‹ä¸ª](https://2hf.github.io/)ã€‚åæ¥ï¼Œåœ¨[éƒ­å¸ˆå“¥](https://guojianxiang.com/)çš„æ€‚æ¿ä¸‹ï¼Œæäº†å°é˜¿é‡Œäº‘ä¸»æœºæŠŠç©ï¼Œå› ä¸ºæœ‰ä¹‹å‰çš„ç»éªŒï¼Œæ‰€ä»¥æ¯”è¾ƒæ„‰å¿«é€‰æ‹©äº†[Hexo](http://hexo.io/)æ¥æ­å»ºè‡ªå·±çš„åšå®¢ã€‚æ‹–å»¶äº†å¥½ä¹…ï¼Œä¸Šå‘¨æœ«ç»ˆäºä¸‹å®šå†³å¿ƒå¥½å¥½å¼„ä¸€å¼„ã€‚\n<!--more-->\n\nHexoçš„ä¸»é¢˜ååˆ†ä¸°å¯Œï¼Œå®˜æ–¹çš„ä¸»é¢˜å‘[è¿™é‡Œ(è‡ªå¤‡æ¢¯å­)](https://hexo.io/themes/)çœ‹é½ã€‚è‡³äºæˆ‘ï¼Œé€‰ç”¨çš„æ˜¯[indigo](https://github.com/yscoder/hexo-theme-indigo)ï¼Œå› ä¸ºMaterial Designçš„é£æ ¼å¾ˆèˆ’æœï¼Œè€Œä¸”ç§»åŠ¨è®¾å¤‡é€‚é…ä¹Ÿå¾ˆå¥½ï¼ŒåŠŸèƒ½åŸºæœ¬æ»¡è¶³ï¼Œä¸ªæ€§åŒ–å®šåˆ¶ä¹Ÿæ–¹ä¾¿ï¼ˆä¸»è¦æ˜¯ä¿®æ”¹èµ·æ¥æ–¹ä¾¿â€¦â€¦_(:3 ã€âˆ )_ï¼‰ã€‚åˆšæ­å»ºå®Œæˆçš„æ—¶å€™ï¼Œæˆ‘å°†æ•´ä¸ªåšå®¢çš„æºç éƒ½æ”¾åœ¨äº†GitHubä¸Šé¢ï¼Œçœ‹[è¿™ä¸ªé¡¹ç›®](https://github.com/2hf/elbarco.cn/tree/dev)ï¼Œ`dev`åˆ†æ”¯æ˜¯å¤‡ä»½ï¼Œ`master`åˆ†æ”¯æ˜¯ç¬¬ä¸€æ¬¡ç”Ÿæˆçš„åšå®¢å†…å®¹ã€‚Feel free to build your own blog based on that.\n\n## å…³äºæˆ‘\n\n90åï¼Œç”·ï¼Œå•èº«ç‹—ï¼Œç¨‹åºçŒ¿ã€‚ç›®å‰å¸éƒ½æŸåˆ›ä¸šå‹äº’è”ç½‘å…¬å¸å°±èŒï¼Œäº‘è®¡ç®—ç›¸å…³çš„Javaæ”»åŸç‹®ï¼Œæ‰€ä»¥åˆ°åº•æ˜¯ğŸ¶è¿˜æ˜¯ğŸ¦ï¸ï¼Œå‚»å‚»åˆ†ä¸æ¸…æ¥šã€‚å–œæ¬¢åšæŠ€æœ¯ï¼Œçƒ­çˆ±äº’è”ç½‘ï¼Œæ‹¥æŠ±å¼€æºã€‚ä¸€ä¸ªäººæƒ¯äº†ï¼Œä¹Ÿçˆ±å®…ã€‚çˆ±å¥½ååˆ†å¹¿æ³›ï¼Œç¾å‰§ã€ç”µå½±ã€éŸ³ä¹ã€æ—…è¡Œã€æŠ˜è…¾ã€‚å…¶ä»–å…³é”®å­—ï¼Œå¼ºè¿«ç—‡ï¼ˆå°½ç®¡æˆ‘æ˜¯å°„æ‰‹åº§ä¸æ˜¯å¤„å¥³åº§ï¼‰ã€è½»å¾®äººæ ¼åˆ†è£‚ã€å¶å°”çŠ¯äºŒâ€¦â€¦å„ä½çœ‹å®˜ï¼Œéšä¾¿æ„Ÿå—ä¸‹å°±å¥½ã€‚è¿™é‡Œçš„æˆ‘ï¼Œæ— å…³ç´§è¦ã€‚\n\n## å…³äºåŸŸå\n\nç›®å‰åŸŸåä¸º`0x4b5.top`ï¼Œæ•°å­—è¡¨ç¤ºäº†æˆ‘çš„ç”Ÿæ—¥ï¼Œæ— ä»–ã€‚æ­£åœ¨å¤‡æ¡ˆçš„åŸŸå`elbarco.cn`ï¼Œé€šè¿‡åå°†æ­£å¼å¯ç”¨ã€‚`El barco`ï¼ˆéŸ³è¯‘ï¼šåŸƒå°”å·´ç§‘ï¼‰ï¼Œè¥¿ç­ç‰™è¯­`èˆ¹`çš„æ„æ€ï¼Œæœ‹å‹ä»¬å–Šæˆ‘`å°èˆ¹`ï¼Œä¼°è®¡æ˜¯å› ä¸ºæˆ‘æ˜¯`å¼ å¸†`ã€‚å®¶äººå–çš„è¿™åé‡åç‡æé«˜ï¼Œé€‰ä¸ªåŸŸåæ— ä»ä¸‹æ‰‹ï¼Œæ‰€ä»¥æ‰æƒ³åˆ°äº†ç”¨`El barco`ï¼ŒBTWï¼Œæœ¬åŸŸåä¸ä»€ä¹ˆ`elbarco.com`æ¯«æ— å…³ç³»ï¼Œç‰¹æ­¤å£°æ˜ã€‚ä¹Ÿå¸Œæœ›åœ¨è¿™é‡Œï¼Œæˆ‘èƒ½åšé‚£æ²‰èˆŸä¾§ç•”åƒå¸†ä¸­çš„ä¸€å‘˜ï¼Œæœ‰æ‰€åˆ†äº«ï¼Œæœ‰æ‰€è¿›æ­¥ã€‚\n\næœ€åï¼Œæ„Ÿè°¢å„ä½çœ‹å®˜è€çˆ·ã€‚\n\n","source":"_posts/å¼€å±±ç¬¬ä¸€ç¯‡.md","raw":"---\ntitle: å¼€å±±ç¬¬ä¸€ç¯‡\ndate: 2016-03-03 09:30:24\ntags: æ‚\n---\n\n## å…³äºåšå®¢\n\nç”¨è¿‡å¥½å¤šåšå®¢ï¼Œå¦‚Cnblogã€CSDNã€ITeyeç­‰ç­‰ï¼Œåæ¥è§‰å¾—ç”¨Githubæ›´Geekä¸€ç‚¹ï¼Œäºæ˜¯å­¦ä¹ [gizak](https://github.com/gizak)æäº†ä¸€ä¸ª[ä»‹ä¸ª](https://2hf.github.io/)ã€‚åæ¥ï¼Œåœ¨[éƒ­å¸ˆå“¥](https://guojianxiang.com/)çš„æ€‚æ¿ä¸‹ï¼Œæäº†å°é˜¿é‡Œäº‘ä¸»æœºæŠŠç©ï¼Œå› ä¸ºæœ‰ä¹‹å‰çš„ç»éªŒï¼Œæ‰€ä»¥æ¯”è¾ƒæ„‰å¿«é€‰æ‹©äº†[Hexo](http://hexo.io/)æ¥æ­å»ºè‡ªå·±çš„åšå®¢ã€‚æ‹–å»¶äº†å¥½ä¹…ï¼Œä¸Šå‘¨æœ«ç»ˆäºä¸‹å®šå†³å¿ƒå¥½å¥½å¼„ä¸€å¼„ã€‚\n<!--more-->\n\nHexoçš„ä¸»é¢˜ååˆ†ä¸°å¯Œï¼Œå®˜æ–¹çš„ä¸»é¢˜å‘[è¿™é‡Œ(è‡ªå¤‡æ¢¯å­)](https://hexo.io/themes/)çœ‹é½ã€‚è‡³äºæˆ‘ï¼Œé€‰ç”¨çš„æ˜¯[indigo](https://github.com/yscoder/hexo-theme-indigo)ï¼Œå› ä¸ºMaterial Designçš„é£æ ¼å¾ˆèˆ’æœï¼Œè€Œä¸”ç§»åŠ¨è®¾å¤‡é€‚é…ä¹Ÿå¾ˆå¥½ï¼ŒåŠŸèƒ½åŸºæœ¬æ»¡è¶³ï¼Œä¸ªæ€§åŒ–å®šåˆ¶ä¹Ÿæ–¹ä¾¿ï¼ˆä¸»è¦æ˜¯ä¿®æ”¹èµ·æ¥æ–¹ä¾¿â€¦â€¦_(:3 ã€âˆ )_ï¼‰ã€‚åˆšæ­å»ºå®Œæˆçš„æ—¶å€™ï¼Œæˆ‘å°†æ•´ä¸ªåšå®¢çš„æºç éƒ½æ”¾åœ¨äº†GitHubä¸Šé¢ï¼Œçœ‹[è¿™ä¸ªé¡¹ç›®](https://github.com/2hf/elbarco.cn/tree/dev)ï¼Œ`dev`åˆ†æ”¯æ˜¯å¤‡ä»½ï¼Œ`master`åˆ†æ”¯æ˜¯ç¬¬ä¸€æ¬¡ç”Ÿæˆçš„åšå®¢å†…å®¹ã€‚Feel free to build your own blog based on that.\n\n## å…³äºæˆ‘\n\n90åï¼Œç”·ï¼Œå•èº«ç‹—ï¼Œç¨‹åºçŒ¿ã€‚ç›®å‰å¸éƒ½æŸåˆ›ä¸šå‹äº’è”ç½‘å…¬å¸å°±èŒï¼Œäº‘è®¡ç®—ç›¸å…³çš„Javaæ”»åŸç‹®ï¼Œæ‰€ä»¥åˆ°åº•æ˜¯ğŸ¶è¿˜æ˜¯ğŸ¦ï¸ï¼Œå‚»å‚»åˆ†ä¸æ¸…æ¥šã€‚å–œæ¬¢åšæŠ€æœ¯ï¼Œçƒ­çˆ±äº’è”ç½‘ï¼Œæ‹¥æŠ±å¼€æºã€‚ä¸€ä¸ªäººæƒ¯äº†ï¼Œä¹Ÿçˆ±å®…ã€‚çˆ±å¥½ååˆ†å¹¿æ³›ï¼Œç¾å‰§ã€ç”µå½±ã€éŸ³ä¹ã€æ—…è¡Œã€æŠ˜è…¾ã€‚å…¶ä»–å…³é”®å­—ï¼Œå¼ºè¿«ç—‡ï¼ˆå°½ç®¡æˆ‘æ˜¯å°„æ‰‹åº§ä¸æ˜¯å¤„å¥³åº§ï¼‰ã€è½»å¾®äººæ ¼åˆ†è£‚ã€å¶å°”çŠ¯äºŒâ€¦â€¦å„ä½çœ‹å®˜ï¼Œéšä¾¿æ„Ÿå—ä¸‹å°±å¥½ã€‚è¿™é‡Œçš„æˆ‘ï¼Œæ— å…³ç´§è¦ã€‚\n\n## å…³äºåŸŸå\n\nç›®å‰åŸŸåä¸º`0x4b5.top`ï¼Œæ•°å­—è¡¨ç¤ºäº†æˆ‘çš„ç”Ÿæ—¥ï¼Œæ— ä»–ã€‚æ­£åœ¨å¤‡æ¡ˆçš„åŸŸå`elbarco.cn`ï¼Œé€šè¿‡åå°†æ­£å¼å¯ç”¨ã€‚`El barco`ï¼ˆéŸ³è¯‘ï¼šåŸƒå°”å·´ç§‘ï¼‰ï¼Œè¥¿ç­ç‰™è¯­`èˆ¹`çš„æ„æ€ï¼Œæœ‹å‹ä»¬å–Šæˆ‘`å°èˆ¹`ï¼Œä¼°è®¡æ˜¯å› ä¸ºæˆ‘æ˜¯`å¼ å¸†`ã€‚å®¶äººå–çš„è¿™åé‡åç‡æé«˜ï¼Œé€‰ä¸ªåŸŸåæ— ä»ä¸‹æ‰‹ï¼Œæ‰€ä»¥æ‰æƒ³åˆ°äº†ç”¨`El barco`ï¼ŒBTWï¼Œæœ¬åŸŸåä¸ä»€ä¹ˆ`elbarco.com`æ¯«æ— å…³ç³»ï¼Œç‰¹æ­¤å£°æ˜ã€‚ä¹Ÿå¸Œæœ›åœ¨è¿™é‡Œï¼Œæˆ‘èƒ½åšé‚£æ²‰èˆŸä¾§ç•”åƒå¸†ä¸­çš„ä¸€å‘˜ï¼Œæœ‰æ‰€åˆ†äº«ï¼Œæœ‰æ‰€è¿›æ­¥ã€‚\n\næœ€åï¼Œæ„Ÿè°¢å„ä½çœ‹å®˜è€çˆ·ã€‚\n\n","slug":"å¼€å±±ç¬¬ä¸€ç¯‡","published":1,"updated":"2016-03-07T06:21:12.388Z","_id":"cilay2b4q0000lvmztlmf5lji","comments":1,"layout":"post","photos":[],"link":"","content":"<h2 id=\"å…³äºåšå®¢\"><a href=\"#å…³äºåšå®¢\" class=\"headerlink\" title=\"å…³äºåšå®¢\"></a>å…³äºåšå®¢</h2><p>ç”¨è¿‡å¥½å¤šåšå®¢ï¼Œå¦‚Cnblogã€CSDNã€ITeyeç­‰ç­‰ï¼Œåæ¥è§‰å¾—ç”¨Githubæ›´Geekä¸€ç‚¹ï¼Œäºæ˜¯å­¦ä¹ <a href=\"https://github.com/gizak\" target=\"_blank\" rel=\"external\">gizak</a>æäº†ä¸€ä¸ª<a href=\"https://2hf.github.io/\" target=\"_blank\" rel=\"external\">ä»‹ä¸ª</a>ã€‚åæ¥ï¼Œåœ¨<a href=\"https://guojianxiang.com/\" target=\"_blank\" rel=\"external\">éƒ­å¸ˆå“¥</a>çš„æ€‚æ¿ä¸‹ï¼Œæäº†å°é˜¿é‡Œäº‘ä¸»æœºæŠŠç©ï¼Œå› ä¸ºæœ‰ä¹‹å‰çš„ç»éªŒï¼Œæ‰€ä»¥æ¯”è¾ƒæ„‰å¿«é€‰æ‹©äº†<a href=\"http://hexo.io/\" target=\"_blank\" rel=\"external\">Hexo</a>æ¥æ­å»ºè‡ªå·±çš„åšå®¢ã€‚æ‹–å»¶äº†å¥½ä¹…ï¼Œä¸Šå‘¨æœ«ç»ˆäºä¸‹å®šå†³å¿ƒå¥½å¥½å¼„ä¸€å¼„ã€‚<br><a id=\"more\"></a></p>\n<p>Hexoçš„ä¸»é¢˜ååˆ†ä¸°å¯Œï¼Œå®˜æ–¹çš„ä¸»é¢˜å‘<a href=\"https://hexo.io/themes/\" target=\"_blank\" rel=\"external\">è¿™é‡Œ(è‡ªå¤‡æ¢¯å­)</a>çœ‹é½ã€‚è‡³äºæˆ‘ï¼Œé€‰ç”¨çš„æ˜¯<a href=\"https://github.com/yscoder/hexo-theme-indigo\" target=\"_blank\" rel=\"external\">indigo</a>ï¼Œå› ä¸ºMaterial Designçš„é£æ ¼å¾ˆèˆ’æœï¼Œè€Œä¸”ç§»åŠ¨è®¾å¤‡é€‚é…ä¹Ÿå¾ˆå¥½ï¼ŒåŠŸèƒ½åŸºæœ¬æ»¡è¶³ï¼Œä¸ªæ€§åŒ–å®šåˆ¶ä¹Ÿæ–¹ä¾¿ï¼ˆä¸»è¦æ˜¯ä¿®æ”¹èµ·æ¥æ–¹ä¾¿â€¦â€¦<em>(:3 ã€âˆ )</em>ï¼‰ã€‚åˆšæ­å»ºå®Œæˆçš„æ—¶å€™ï¼Œæˆ‘å°†æ•´ä¸ªåšå®¢çš„æºç éƒ½æ”¾åœ¨äº†GitHubä¸Šé¢ï¼Œçœ‹<a href=\"https://github.com/2hf/elbarco.cn/tree/dev\" target=\"_blank\" rel=\"external\">è¿™ä¸ªé¡¹ç›®</a>ï¼Œ<code>dev</code>åˆ†æ”¯æ˜¯å¤‡ä»½ï¼Œ<code>master</code>åˆ†æ”¯æ˜¯ç¬¬ä¸€æ¬¡ç”Ÿæˆçš„åšå®¢å†…å®¹ã€‚Feel free to build your own blog based on that.</p>\n<h2 id=\"å…³äºæˆ‘\"><a href=\"#å…³äºæˆ‘\" class=\"headerlink\" title=\"å…³äºæˆ‘\"></a>å…³äºæˆ‘</h2><p>90åï¼Œç”·ï¼Œå•èº«ç‹—ï¼Œç¨‹åºçŒ¿ã€‚ç›®å‰å¸éƒ½æŸåˆ›ä¸šå‹äº’è”ç½‘å…¬å¸å°±èŒï¼Œäº‘è®¡ç®—ç›¸å…³çš„Javaæ”»åŸç‹®ï¼Œæ‰€ä»¥åˆ°åº•æ˜¯ğŸ¶è¿˜æ˜¯ğŸ¦ï¸ï¼Œå‚»å‚»åˆ†ä¸æ¸…æ¥šã€‚å–œæ¬¢åšæŠ€æœ¯ï¼Œçƒ­çˆ±äº’è”ç½‘ï¼Œæ‹¥æŠ±å¼€æºã€‚ä¸€ä¸ªäººæƒ¯äº†ï¼Œä¹Ÿçˆ±å®…ã€‚çˆ±å¥½ååˆ†å¹¿æ³›ï¼Œç¾å‰§ã€ç”µå½±ã€éŸ³ä¹ã€æ—…è¡Œã€æŠ˜è…¾ã€‚å…¶ä»–å…³é”®å­—ï¼Œå¼ºè¿«ç—‡ï¼ˆå°½ç®¡æˆ‘æ˜¯å°„æ‰‹åº§ä¸æ˜¯å¤„å¥³åº§ï¼‰ã€è½»å¾®äººæ ¼åˆ†è£‚ã€å¶å°”çŠ¯äºŒâ€¦â€¦å„ä½çœ‹å®˜ï¼Œéšä¾¿æ„Ÿå—ä¸‹å°±å¥½ã€‚è¿™é‡Œçš„æˆ‘ï¼Œæ— å…³ç´§è¦ã€‚</p>\n<h2 id=\"å…³äºåŸŸå\"><a href=\"#å…³äºåŸŸå\" class=\"headerlink\" title=\"å…³äºåŸŸå\"></a>å…³äºåŸŸå</h2><p>ç›®å‰åŸŸåä¸º<code>0x4b5.top</code>ï¼Œæ•°å­—è¡¨ç¤ºäº†æˆ‘çš„ç”Ÿæ—¥ï¼Œæ— ä»–ã€‚æ­£åœ¨å¤‡æ¡ˆçš„åŸŸå<code>elbarco.cn</code>ï¼Œé€šè¿‡åå°†æ­£å¼å¯ç”¨ã€‚<code>El barco</code>ï¼ˆéŸ³è¯‘ï¼šåŸƒå°”å·´ç§‘ï¼‰ï¼Œè¥¿ç­ç‰™è¯­<code>èˆ¹</code>çš„æ„æ€ï¼Œæœ‹å‹ä»¬å–Šæˆ‘<code>å°èˆ¹</code>ï¼Œä¼°è®¡æ˜¯å› ä¸ºæˆ‘æ˜¯<code>å¼ å¸†</code>ã€‚å®¶äººå–çš„è¿™åé‡åç‡æé«˜ï¼Œé€‰ä¸ªåŸŸåæ— ä»ä¸‹æ‰‹ï¼Œæ‰€ä»¥æ‰æƒ³åˆ°äº†ç”¨<code>El barco</code>ï¼ŒBTWï¼Œæœ¬åŸŸåä¸ä»€ä¹ˆ<code>elbarco.com</code>æ¯«æ— å…³ç³»ï¼Œç‰¹æ­¤å£°æ˜ã€‚ä¹Ÿå¸Œæœ›åœ¨è¿™é‡Œï¼Œæˆ‘èƒ½åšé‚£æ²‰èˆŸä¾§ç•”åƒå¸†ä¸­çš„ä¸€å‘˜ï¼Œæœ‰æ‰€åˆ†äº«ï¼Œæœ‰æ‰€è¿›æ­¥ã€‚</p>\n<p>æœ€åï¼Œæ„Ÿè°¢å„ä½çœ‹å®˜è€çˆ·ã€‚</p>\n","excerpt":"<h2 id=\"å…³äºåšå®¢\"><a href=\"#å…³äºåšå®¢\" class=\"headerlink\" title=\"å…³äºåšå®¢\"></a>å…³äºåšå®¢</h2><p>ç”¨è¿‡å¥½å¤šåšå®¢ï¼Œå¦‚Cnblogã€CSDNã€ITeyeç­‰ç­‰ï¼Œåæ¥è§‰å¾—ç”¨Githubæ›´Geekä¸€ç‚¹ï¼Œäºæ˜¯å­¦ä¹ <a href=\"https://github.com/gizak\">gizak</a>æäº†ä¸€ä¸ª<a href=\"https://2hf.github.io/\">ä»‹ä¸ª</a>ã€‚åæ¥ï¼Œåœ¨<a href=\"https://guojianxiang.com/\">éƒ­å¸ˆå“¥</a>çš„æ€‚æ¿ä¸‹ï¼Œæäº†å°é˜¿é‡Œäº‘ä¸»æœºæŠŠç©ï¼Œå› ä¸ºæœ‰ä¹‹å‰çš„ç»éªŒï¼Œæ‰€ä»¥æ¯”è¾ƒæ„‰å¿«é€‰æ‹©äº†<a href=\"http://hexo.io/\">Hexo</a>æ¥æ­å»ºè‡ªå·±çš„åšå®¢ã€‚æ‹–å»¶äº†å¥½ä¹…ï¼Œä¸Šå‘¨æœ«ç»ˆäºä¸‹å®šå†³å¿ƒå¥½å¥½å¼„ä¸€å¼„ã€‚<br>","more":"</p>\n<p>Hexoçš„ä¸»é¢˜ååˆ†ä¸°å¯Œï¼Œå®˜æ–¹çš„ä¸»é¢˜å‘<a href=\"https://hexo.io/themes/\">è¿™é‡Œ(è‡ªå¤‡æ¢¯å­)</a>çœ‹é½ã€‚è‡³äºæˆ‘ï¼Œé€‰ç”¨çš„æ˜¯<a href=\"https://github.com/yscoder/hexo-theme-indigo\">indigo</a>ï¼Œå› ä¸ºMaterial Designçš„é£æ ¼å¾ˆèˆ’æœï¼Œè€Œä¸”ç§»åŠ¨è®¾å¤‡é€‚é…ä¹Ÿå¾ˆå¥½ï¼ŒåŠŸèƒ½åŸºæœ¬æ»¡è¶³ï¼Œä¸ªæ€§åŒ–å®šåˆ¶ä¹Ÿæ–¹ä¾¿ï¼ˆä¸»è¦æ˜¯ä¿®æ”¹èµ·æ¥æ–¹ä¾¿â€¦â€¦<em>(:3 ã€âˆ )</em>ï¼‰ã€‚åˆšæ­å»ºå®Œæˆçš„æ—¶å€™ï¼Œæˆ‘å°†æ•´ä¸ªåšå®¢çš„æºç éƒ½æ”¾åœ¨äº†GitHubä¸Šé¢ï¼Œçœ‹<a href=\"https://github.com/2hf/elbarco.cn/tree/dev\">è¿™ä¸ªé¡¹ç›®</a>ï¼Œ<code>dev</code>åˆ†æ”¯æ˜¯å¤‡ä»½ï¼Œ<code>master</code>åˆ†æ”¯æ˜¯ç¬¬ä¸€æ¬¡ç”Ÿæˆçš„åšå®¢å†…å®¹ã€‚Feel free to build your own blog based on that.</p>\n<h2 id=\"å…³äºæˆ‘\"><a href=\"#å…³äºæˆ‘\" class=\"headerlink\" title=\"å…³äºæˆ‘\"></a>å…³äºæˆ‘</h2><p>90åï¼Œç”·ï¼Œå•èº«ç‹—ï¼Œç¨‹åºçŒ¿ã€‚ç›®å‰å¸éƒ½æŸåˆ›ä¸šå‹äº’è”ç½‘å…¬å¸å°±èŒï¼Œäº‘è®¡ç®—ç›¸å…³çš„Javaæ”»åŸç‹®ï¼Œæ‰€ä»¥åˆ°åº•æ˜¯ğŸ¶è¿˜æ˜¯ğŸ¦ï¸ï¼Œå‚»å‚»åˆ†ä¸æ¸…æ¥šã€‚å–œæ¬¢åšæŠ€æœ¯ï¼Œçƒ­çˆ±äº’è”ç½‘ï¼Œæ‹¥æŠ±å¼€æºã€‚ä¸€ä¸ªäººæƒ¯äº†ï¼Œä¹Ÿçˆ±å®…ã€‚çˆ±å¥½ååˆ†å¹¿æ³›ï¼Œç¾å‰§ã€ç”µå½±ã€éŸ³ä¹ã€æ—…è¡Œã€æŠ˜è…¾ã€‚å…¶ä»–å…³é”®å­—ï¼Œå¼ºè¿«ç—‡ï¼ˆå°½ç®¡æˆ‘æ˜¯å°„æ‰‹åº§ä¸æ˜¯å¤„å¥³åº§ï¼‰ã€è½»å¾®äººæ ¼åˆ†è£‚ã€å¶å°”çŠ¯äºŒâ€¦â€¦å„ä½çœ‹å®˜ï¼Œéšä¾¿æ„Ÿå—ä¸‹å°±å¥½ã€‚è¿™é‡Œçš„æˆ‘ï¼Œæ— å…³ç´§è¦ã€‚</p>\n<h2 id=\"å…³äºåŸŸå\"><a href=\"#å…³äºåŸŸå\" class=\"headerlink\" title=\"å…³äºåŸŸå\"></a>å…³äºåŸŸå</h2><p>ç›®å‰åŸŸåä¸º<code>0x4b5.top</code>ï¼Œæ•°å­—è¡¨ç¤ºäº†æˆ‘çš„ç”Ÿæ—¥ï¼Œæ— ä»–ã€‚æ­£åœ¨å¤‡æ¡ˆçš„åŸŸå<code>elbarco.cn</code>ï¼Œé€šè¿‡åå°†æ­£å¼å¯ç”¨ã€‚<code>El barco</code>ï¼ˆéŸ³è¯‘ï¼šåŸƒå°”å·´ç§‘ï¼‰ï¼Œè¥¿ç­ç‰™è¯­<code>èˆ¹</code>çš„æ„æ€ï¼Œæœ‹å‹ä»¬å–Šæˆ‘<code>å°èˆ¹</code>ï¼Œä¼°è®¡æ˜¯å› ä¸ºæˆ‘æ˜¯<code>å¼ å¸†</code>ã€‚å®¶äººå–çš„è¿™åé‡åç‡æé«˜ï¼Œé€‰ä¸ªåŸŸåæ— ä»ä¸‹æ‰‹ï¼Œæ‰€ä»¥æ‰æƒ³åˆ°äº†ç”¨<code>El barco</code>ï¼ŒBTWï¼Œæœ¬åŸŸåä¸ä»€ä¹ˆ<code>elbarco.com</code>æ¯«æ— å…³ç³»ï¼Œç‰¹æ­¤å£°æ˜ã€‚ä¹Ÿå¸Œæœ›åœ¨è¿™é‡Œï¼Œæˆ‘èƒ½åšé‚£æ²‰èˆŸä¾§ç•”åƒå¸†ä¸­çš„ä¸€å‘˜ï¼Œæœ‰æ‰€åˆ†äº«ï¼Œæœ‰æ‰€è¿›æ­¥ã€‚</p>\n<p>æœ€åï¼Œæ„Ÿè°¢å„ä½çœ‹å®˜è€çˆ·ã€‚</p>"},{"title":"è‹±é›„è”ç›Ÿä¸­çš„éšæœºè¡Œä¸ºä¼˜åŒ–","date":"2016-03-07T05:48:24.000Z","_content":"> åŸæ–‡åœ°å€ï¼š[ä¼ é€é—¨](http://engineering.riotgames.com/news/random-acts-optimization)\n> åŸåˆ›ç¿»è¯‘ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„\n\n\n![](http://7xrgsx.com1.z0.glb.clouddn.com/particlesheader2.png)\n\nå¯¹äºåƒè‹±é›„è”ç›Ÿè¿™æ ·ä¸æ–­æ¼”è¿›çš„äº§å“çš„å¼€å‘è€…è€Œè¨€ï¼Œéœ€è¦ä¸æ–­çš„è‡´åŠ›äºä¸ç³»ç»Ÿçš„ç†µä½œæ–—äº‰ï¼Œå› ä¸ºä»–ä»¬å°†è¶Šæ¥è¶Šå¤šçš„å†…å®¹æ·»åŠ åˆ°èµ„æºæœ‰é™çš„æœåŠ¡å™¨ä¸­ã€‚æ–°çš„å†…å®¹å¸¦äº†æ–°çš„éšæ€§æˆæœ¬â€”â€”ä¸ä»…æ˜¯æ›´å¤šçš„å®æ–½æˆæœ¬ï¼ŒåŒæ—¶ä¹ŸåŒ…æ‹¬ç”±äºåˆ›é€ äº†æ›´å¤šçš„çº¹ç†ã€ä»¿çœŸå’Œå¤„ç†é€ æˆçš„å†…å­˜å’Œæ€§èƒ½æˆæœ¬ã€‚å¦‚æœæˆ‘ä»¬å¿½ç•¥ï¼ˆæˆ–è€…é”™è¯¯ä¼°ç®—ï¼‰äº†è¿™äº›æˆæœ¬ï¼Œåˆ™æ•´ä½“æ¸¸æˆæ€§èƒ½ä¸ä½³ï¼Œå¯ç©æ€§å‡å°‘ã€‚æ•…éšœä½¿äººåŒæ¶ï¼Œå»¶è¿Ÿä½¿äººæ„¤æ€’ï¼Œå¸§ç‡ä¸‹é™è®©äººæ²®ä¸§ã€‚\n<!--more-->\n\næˆ‘æ˜¯è‡´åŠ›äºæé«˜è‹±é›„è”ç›Ÿæ€§èƒ½å›¢é˜Ÿä¸­çš„ä¸€å‘˜ã€‚æˆ‘ä»¬ä¸ºå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨åšå¿«ç…§ï¼Œå‘ç°é—®é¢˜ (æ€§èƒ½ç›¸å…³å’Œå…¶ä»–)ï¼Œç„¶åä¿®å¤é—®é¢˜ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬å°†åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å­¦åˆ°çš„ä¸œè¥¿åé¦ˆå…¶ä»–å›¢é˜Ÿï¼Œå¹¶ä¸”ç»™ä»–ä»¬æä¾›å·¥å…·ï¼Œä½¿ä»–ä»¬åœ¨å½±å“ç”¨æˆ·ä¹‹å‰æ¥æ£€æµ‹å¹¶å®šä½ä»–ä»¬è‡ªå·±çš„æ€§èƒ½é—®é¢˜ã€‚æˆ‘ä»¬ä¸æ–­çš„æé«˜è‹±é›„è”ç›Ÿçš„æ€§èƒ½ä¸ºè‰ºæœ¯å®¶å’Œè®¾è®¡å¸ˆæ·»åŠ æ–°çš„ä¸œè¥¿æä¾›äº†ç©ºé—´ï¼šå½“ä»–ä»¬ä½¿æ¸¸æˆæ›´åºå¤§æ›´ä¼˜ç§€çš„åŒæ—¶ï¼Œæˆ‘ä»¬ä½¿ä¹‹æ›´å¿«ã€‚\n\nè¿™æ˜¯å…³äºæˆ‘ä»¬å›¢é˜Ÿå¦‚ä½•ä¼˜åŒ–è‹±é›„è”ç›Ÿæ€§èƒ½ç³»åˆ—çš„ç¬¬ä¸€ç¯‡æ–‡ç« ï¼Œåç»­æˆ‘ä»¬å°†ä¸æ–­æŒç»­æ›´æ–°ã€‚è¿™æ˜¯ä¸€é¡¹å›æŠ¥ä¸°åšçš„æŒ‘æˆ˜ï¼Œè¿™ç¯‡æ–‡ç« å°†æ·±å…¥ä»‹ç»æˆ‘ä»¬åœ¨ç²’å­ç³»ç»Ÿä¸­é‡åˆ°çš„ä¸€äº›æœ‰è¶£çš„æŒ‘æˆ˜â€”â€”æ­£å¦‚åœ¨ä¸‹å›¾ä¸­ï¼Œä½ å¯ä»¥çœ‹åˆ°ç²’å­ç³»ç»Ÿåœ¨æ¸¸æˆä¸­æ‰®æ¼”äº†ååˆ†é‡è¦çš„è§’è‰²ã€‚\n\n![GIFå›¾](http://7xrgsx.com1.z0.glb.clouddn.com/TeamParticles.gif)\n\nä¸Šå›¾æ˜¯åœ¨è‹±é›„è”ç›Ÿæ¸¸æˆä¸­é«˜ç²’å­å¯†åº¦çš„ä¸€ä¸ªä¾‹å­ã€‚\n\nä¼˜åŒ–ï¼Œå¹¶ä¸æ˜¯åœ¨ç¨‹åºé›†ä¸­é‡å†™å¤§é‡çš„ä»£ç â€”â€”å°½ç®¡æœ‰äº›æ—¶å€™æ˜¯è¿™æ ·çš„ã€‚æˆ‘ä»¬ä»…å˜æ›´é‚£äº›ä¸ä»…èƒ½å¤Ÿæé«˜æ€§èƒ½ï¼Œè€Œä¸”ç»´æŠ¤æ­£ç¡®æ€§çš„ä»£ç ï¼Œå¦‚æœæœ‰å¯èƒ½çš„è¯ï¼Œè¿˜ä¼šæé«˜ä»£ç è´¨é‡ã€‚æœ€åä¸€é¡¹ç•¥æ˜¾æŒ‘å‰”ï¼šä»»ä½•ä¸æ˜“è¯»ã€ä¸æ˜“ç»´æŠ¤çš„ä»£ç éƒ½ä¼šäº§ç”ŸæŠ€æœ¯å€ºåŠ¡ï¼Œè¿™ä¸ªæˆ‘ä»¬ç¨åå†è°ˆã€‚\n\nä¼˜åŒ–å·²æœ‰çš„ä»£ç åº“ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†ä¸‰ä¸ªåŸºæœ¬æ­¥éª¤ï¼šé‰´åˆ«ã€ç†è§£å’Œè¿­ä»£ã€‚\n\n*æ­¥éª¤ä¸€ï¼šé‰´åˆ«*\n\nåœ¨å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦ç¡®è®¤å“ªäº›ä»£ç éœ€è¦è¿›è¡Œä¼˜åŒ–ã€‚å³ä½¿æœ‰äº›ä»£ç çœ‹èµ·æ¥æ˜æ˜¾æ€§èƒ½è¾ƒå·®ï¼Œä½†æ˜¯ç”±äºå…¶å¯¹æ•´ä½“æ€§èƒ½å½±å“æå°ï¼Œä¼˜åŒ–è¿™ç±»ä»£ç æ”¶ç›Šæå°‘ï¼ˆå°¤å…¶å½“èŠ±è´¹åœ¨ä¸Šé¢çš„æ—¶é—´å’Œç²¾åŠ›åœ¨å…¶ä»–æ–¹é¢å¯ä»¥åšåˆ°æ›´å¥½çš„æ”¶ç›Šï¼‰ã€‚æˆ‘ä»¬ä½¿ç”¨ä»£ç æ£€æµ‹å·¥å…·å’Œé‡‡æ ·åˆ†æå™¨æ¥å¸®åŠ©è¯†åˆ«éæ€§èƒ½éƒ¨åˆ†çš„åŸºæœ¬ä»£ç ã€‚\n\n*æ­¥éª¤äºŒï¼šç†è§£*\n\nä¸€æ—¦æˆ‘ä»¬å¾—çŸ¥ä»£ç åº“çš„å“ªéƒ¨åˆ†ä»£ç æ€§èƒ½è¾ƒå·®ï¼Œæˆ‘ä»¬ä¾¿ä¼šè¯¦ç»†çš„æŸ¥çœ‹è¿™éƒ¨åˆ†ä»£ç ä»¥æ±‚å®Œå…¨ç†è§£ä»£ç ã€‚ç†è§£ä»£ç æ„å‘³ç€ç†è§£è¿™äº›ä»£ç çš„å«ä¹‰åŠåŸæœ¬çš„ç›®çš„ã€‚æ¥ç€ï¼Œæˆ‘ä»¬å°±èƒ½çŸ¥æ‚‰ä¸ºä½•è¿™äº›ä»£ç äº§ç”Ÿç“¶é¢ˆäº†ã€‚\n\n*æ­¥éª¤ä¸‰ï¼šè¿­ä»£*\n\nå½“æˆ‘ä»¬ç†è§£äº†ä¸ºä½•ç‰¹å®šéƒ¨åˆ†ä»£ç æ‰§è¡Œè¾ƒæ…¢åŠä»£ç æœ¬æ„è¦æ‰§è¡Œçš„å†…å®¹ï¼Œæˆ‘ä»¬å°±æœ‰äº†è¶³å¤Ÿçš„ä¿¡æ¯æ¥è®¾è®¡å’Œå¼€å‘ä¸€å¥—å¯è¡Œçš„è§£å†³æ–¹æ¡ˆã€‚ä½¿ç”¨é‰´åˆ«æ­¥éª¤ä¸­çš„å·¥å…·å’Œå¾—åˆ°çš„å¿«ç…§æ•°æ®ï¼Œæˆ‘ä»¬å°†æ–°ä»£ç å’Œæ—§ä»£ç çš„æ€§èƒ½åšäº†æ¯”è¾ƒã€‚å¦‚æœè§£å†³æ–¹æ¡ˆæ•ˆæœå‡ºä¼—ï¼Œæˆ‘ä»¬ä¼šå½»åº•çš„è¿›è¡Œæµ‹è¯•ä»¥ç¡®ä¿ä¸å¼•å…¥æ¥æ–°çš„bugï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥å°±å¯ä»¥å‡»æŒåº†è´ºäº†ï¼Œå› ä¸ºæˆ‘ä»¬å·²ç»ä¸ºå…¶ä»–å†…éƒ¨æµ‹è¯•åšå¥½äº†å……åˆ†çš„å‡†å¤‡ã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæ–°çš„ä»£ç ä¸è§çš„è¶³å¤Ÿå¿«ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸æ–­è¿­ä»£è§£å†³æ–¹æ¡ˆï¼ŒçŸ¥é“æ–°çš„ä»£ç èƒ½è¾¾åˆ°ä¼˜åŒ–çš„ç›®çš„ã€‚\n\nç°åœ¨ï¼Œè®©æˆ‘ä»¬çœ‹ä¸‹åœ¨è‹±é›„è”ç›Ÿä»£ç åº“ä¸­è¿™å‡ ä¸ªæ­¥éª¤çš„å®æ–½ç»†èŠ‚ï¼Œå¹¶ä»¥æœ€è¿‘ä¼˜åŒ–çš„ç²’å­ç³»ç»Ÿé€æ­¥ä»‹ç»ã€‚\n\n## æ­¥éª¤1:é‰´åˆ«\n\næ‹³å¤´çš„å·¥ç¨‹å¸ˆä½¿ç”¨å¤§é‡çš„åˆ†æå·¥å…·æ¥æ£€æŸ¥æ¸¸æˆå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨çš„æ€§èƒ½ã€‚æˆ‘ä»¬å…ˆæŸ¥çœ‹æ¥å®¢æˆ·ç«¯çš„å¸§ç‡å’Œé€šè¿‡Waffleså¾—åˆ°çš„é«˜çº§åˆ†æä¿¡æ¯ï¼ˆé€šè¿‡å·¥å…·çš„ç‰¹å®šå‡½æ•°è·å¾—çš„è¾“å‡ºä¿¡æ¯ï¼‰ï¼Œè¿™ä¸ªå†…éƒ¨å·¥å…·å¯ä»¥è®©æˆ‘ä»¬åœ¨å†…éƒ¨æ„å»ºçš„å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¿æŒè”é€šã€‚æ­¤å¤–ï¼ŒWafflesè¿˜å…·å¤‡å…¶ä»–åŠŸèƒ½ï¼Œå¦‚åœ¨æµ‹è¯•è¿‡ç¨‹ä¸­è§¦å‘è°ƒè¯•ã€æ£€æŸ¥æ¸¸æˆå†…éƒ¨æ•°æ®å¦‚å¯¼èˆªåˆ†æ ¼å’Œæš‚åœæˆ–è€…å‡ç¼“æ¸¸æˆè¿‡ç¨‹ã€‚\n\n![](http://7xrgsx.com1.z0.glb.clouddn.com/Waffles.png)\nWafflesæˆªå›¾\n\nWafflesæä¾›äº†ä¸€ä¸ªå®æ—¶å±•ç¤ºç•Œé¢ï¼Œå¹¶æä¾›è¯¦ç»†çš„æ€§èƒ½ä¿¡æ¯ã€‚ä¸Šå›¾æ˜¯Waffleså¦‚ä½•å±•ç°å®¢æˆ·ç«¯æ€§èƒ½è¡¨ç°çš„ç»å…¸ä¾‹å­ï¼Œä¸Šè¾¹å›¾å½¢ï¼ˆç»¿è‰²æŸ±çŠ¶å›¾ï¼‰ä»¥æ¯«ç§’ä¸ºå•ä½è¡¨ç¤ºäº†å¸§ç‡â€”â€”è¶Šé«˜çš„æŸ±çŠ¶å›¾è¡¨ç¤ºè¶Šä½çš„å¸§ç‡ã€‚éå¸¸æ…¢çš„å¸§ç‡åœ¨æ¸¸æˆä¸­æ˜¯å¯ä»¥æ„Ÿå—å¾—åˆ°çš„ã€‚æŸ±çŠ¶å›¾ä¸‹é¢æ˜¯é‡è¦åŠŸèƒ½çš„åˆ†å±‚è§†å›¾ï¼Œé€šè¿‡ç‚¹å‡»ä»»ä½•ç»¿è‰²æŸ±çŠ¶å›¾ï¼Œå·¥ç¨‹å¸ˆéƒ½ä¼šçœ‹åˆ°å½±å“è¯¥å¸§ç‡çš„è¯¦ç»†ä¿¡æ¯ã€‚é€šè¿‡è¿™é‡Œï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºäº›ç«¯å€ªï¼Œå³å“ªéƒ¨åˆ†ä»£ç è¿è¡Œæ—¶å¯¼è‡´æ€§èƒ½è¾ƒå·®çš„å…³é”®ã€‚\n\næˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªç®€å•çš„å®åœ¨ä»£ç åº“å†…æ‰‹å·¥æ£€æµ‹ä¸€äº›é‡è¦å‡½æ•°æ¥æä¾›è¿™ä»½æ€§èƒ½ç›¸å…³çš„ä¿¡æ¯ã€‚åœ¨å¯¹å¤–å‘å¸ƒçš„æ¸¸æˆç‰ˆæœ¬ä¸­ï¼Œè¿™ä¸ªå®å¹¶æ²¡æœ‰è¢«æ‰“åŒ…ç¼–è¯‘ï¼Œä½†åœ¨æµ‹è¯•ç‰ˆæœ¬æ‰“åŒ…ä¸­ï¼Œè¿™ä¸ªå®ä½œä¸ºä¸€ä¸ªå¾ˆå°çš„classå­˜åœ¨ï¼Œå®ƒåˆ›å»ºäº†ä¸€ä¸ªäº‹ä»¶ï¼Œå­˜æ”¾äºé…ç½®æ–‡ä»¶ç¼“å†²åŒºã€‚è¯¥äº‹ä»¶åŒ…å«ä¸€ä¸ªå­—ç¬¦ä¸²è¯†åˆ«ç ã€ä¸€ä¸ªçº¿ç¨‹IDã€ä¸€ä¸ªæ—¶é—´æˆ³å’Œå…¶ä»–å¿…è¦çš„ä¿¡æ¯ï¼ˆæ¯”å¦‚å®ƒè¿˜å¯ä»¥å­˜å‚¨åœ¨å…¶ç”Ÿå‘½å‘¨æœŸå†…æ‰€æœ‰å‘ç”Ÿçš„å†…å­˜é…ç½®æ•°ï¼‰ã€‚å½“å¯¹è±¡è¶…å‡ºèŒƒå›´åï¼Œææ„å™¨ä¼šåœ¨é…ç½®ç¼“å†²åŒºä¸­æ›´æ–°è¯¥äº‹ä»¶è‡ªæ„é€ ä»¥æ¥çš„è¿è¡Œæ—¶é—´ã€‚åœ¨éšåçš„æ—¶é—´ï¼Œå¯ä»¥è¾“å‡ºå’Œè§£ææ­¤é…ç½®æ–‡ä»¶ç¼“å†²åŒºâ€”â€”ç†æƒ³çš„æƒ…å†µæ˜¯åœ¨å¦ä¸€ä¸ªè¿›ç¨‹è¿›è¡Œä»¥å°½é‡å‡å°‘å¯¹æ¸¸æˆæœ¬èº«çš„å½±å“ã€‚\n\n![](http://7xrgsx.com1.z0.glb.clouddn.com/ChromeTracing1.png)\nChrome Tracing\n\nåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†åˆ†æç¼“å†²åŒºè¾“å‡ºåˆ°æ–‡ä»¶ï¼Œå¹¶ä¸”è¯»å…¥åˆ°æ„å»ºåœ¨Chromeæµè§ˆä¸­å¯è§†åŒ–å·¥å…·ä¸­ï¼ˆå…³äºè·Ÿè¸ªå·¥å…·çš„æ›´å¤šä¿¡æ¯ï¼Œå¯ä»¥ç‚¹å‡»[è¿™é‡Œ](https://github.com/catapult-project/catapult/wiki/Trace-Viewer-Getting-Started)ï¼Œä½ å¯ä»¥åœ¨è‡ªå·±çš„Chromeæµè§ˆå™¨ä¸­é€šè¿‡åœ¨åœ°å€æ æ•²å…¥\"chrome://tracing/\"è¿›è¡Œå°è¯•ã€‚è¿™ä¸ªæ‰©å±•ç¨‹åºè¢«è®¾è®¡ç”¨æ¥è¿›è¡Œç½‘é¡µæ€§èƒ½åˆ†æï¼Œè¾“å…¥æ ¼å¼æ—¶JSONï¼Œæ‰€ä»¥ä½ å¯ä»¥è½»æ¾çš„æ ¹æ®ä½ è‡ªå·±çš„æ•°æ®æ„é€ è¾“å…¥ï¼‰ã€‚é€šè¿‡å›¾å½¢åŒ–åçš„ç»“æœï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å“ªäº›æ˜¯æ‰§è¡Œè¾ƒæ…¢çš„å‡½æ•°ï¼Œæˆ–è€…åœ¨é‚£é‡Œä¸æ–­æœ‰å¤§é‡çš„å°å‡½æ•°è¢«è°ƒç”¨ï¼šè¿™äº›éƒ½æ˜¯æ¬¡ä¼˜ä»£ç çš„è¿¹è±¡ã€‚\n\nè®©æˆ‘æ¥å±•ç¤ºè¯¦ç»†æ“ä½œï¼šä¸Šé¢çš„è§†å›¾æ˜¯Chrome Tracingçš„è§†å›¾ï¼Œå›¾ä¸­å±•ç¤ºäº†å®¢æˆ·ç«¯ä¸Šä¸¤ä¸ªè¿è¡Œçš„çº¿ç¨‹ã€‚ä¸Šéƒ¨åˆ†çš„æ˜¯ä¸»çº¿ç¨‹ï¼Œæ‰§è¡Œå¤§å¤šæ•°çš„å¤„ç†å·¥ä½œï¼Œåº•éƒ¨çš„æ˜¯ç²’å­çº¿ç¨‹ï¼Œç”¨æ¥æ‰§è¡Œç²’å­å¤„ç†ã€‚æ¯ä¸€ä¸ªç€è‰²çš„æ¨ªæ¡å‡å¯¹åº”ä¸€ä¸ªå‡½æ•°ï¼Œæ¨ªæ¡çš„é•¿åº¦æŒ‡ç¤ºäº†å…¶æ‰§è¡Œæ—¶é—´ã€‚è¢«è°ƒç”¨çš„å‡½æ•°ç”±ç«–ç›´æ ˆç»“æ„å±•ç¤ºï¼Œçˆ¶å‡½æ•°åœ¨å­å‡½æ•°ä¹‹ä¸Šã€‚è¿™ä¸ªå·¥å…·æä¾›ç»™æˆ‘ä»¬ä¸€ç§éå¸¸ç¥å¥‡æ–¹å¼æ¥å¯è§†åŒ–æ‰§è¡Œå¤æ‚åº¦ä»¥åŠå¸§çš„ç­¾åæ—¶é—´ã€‚å½“æˆ‘ä»¬å‘ç°ä¸€ä¸ªæ¬¡ä¼˜ä»£ç åŒºåŸŸï¼Œæˆ‘ä»¬å¯ä»¥æ”¾å¤§ç²’å­åŒºåŸŸä»¥æ±‚æŸ¥çœ‹æ›´å¤šç»†èŠ‚ã€‚\n\n![](http://7xrgsx.com1.z0.glb.clouddn.com/ChromeTracing2.png)\nChrome Tracingæ”¾å¤§æ•ˆæœå›¾\n\nè®©æˆ‘ä»¬æ”¾å¤§å›¾å½¢ä¸­é—´éƒ¨åˆ†ã€‚ä»ä¸Šé¢çš„çº¿ç¨‹ä¸­æˆ‘å¯ä»¥çœ‹åˆ°ä¸€ä¸ªéå¸¸åœºçš„ç­‰å¾…ï¼Œåªæœ‰å½“ä¸‹é¢çš„ç²’å­æ¨¡æ‹Ÿå‡½æ•°æ‰§è¡Œå®Œæ¯•æ‰ç»“æŸã€‚æ¨¡æ‹ŸåŠŸèƒ½åŒ…å«å¤§é‡ä¸åŒå‡½æ•°ï¼ˆç€è‰²çš„æ¨ªæ¡ï¼‰çš„è°ƒç”¨ã€‚æ¯ä¸€ç±»éƒ½æ˜¯ç²’å­ç³»ç»Ÿçš„æ›´æ–°åŠŸèƒ½ï¼Œç”¨äºå°†ä½ç½®ã€ æ–¹å‘å’Œæ¯ä¸ªç²’å­åœ¨è¯¥ç³»ç»Ÿä¸­å…¶ä»–å¯è§æ€§çŠ¶æ€è¿›è¡Œæ›´æ–°ã€‚ä¸€ä¸ªæ˜æ˜¾çš„ä¼˜åŒ–æ–¹å¼æ˜¯å°†æ¨¡æ‹Ÿå‡½æ•°æ”¹é€ æˆå¤šçº¿ç¨‹æ–¹å¼ï¼Œå³å¯è¿è¡Œåœ¨ä¸»çº¿ç¨‹ä¸­ï¼Œä¹Ÿå¯ä»¥åœ¨ç²’å­çº¿ç¨‹ä¸­æ‰§è¡Œï¼Œå¯¹äºæœ¬ä¾‹ï¼Œæˆ‘ä»¬ä»…å…³æ³¨ä¸ä¼˜åŒ–æ¨¡æ‹Ÿä»£ç æœ¬èº«ã€‚\n\næ—¢ç„¶ç°åœ¨æˆ‘ä»¬çŸ¥é“å»ä½•å¤„æŸ¥çœ‹æ€§èƒ½é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥åˆ‡æ¢åˆ°æ ·æœ¬åˆ†æã€‚è¿™ç±»åˆ†æå‘¨æœŸæ€§çš„è¯»å–å’Œå­˜å‚¨[ç¨‹åºè®¡æ•°å™¨](https://en.wikipedia.org/wiki/Program_counter)å’Œè¿è¡Œä¸­çš„è¿›ç¨‹çš„æ ˆä¿¡æ¯ï¼ˆå¯é€‰ï¼‰ã€‚ä¸€æ®µæ—¶é—´åï¼Œè¿™ä¸ªä¿¡æ¯å¯ä»¥ç»™å‡ºä¸€ä¸ªéšæœºæ¦‚è¿°ï¼Œæ¦‚è¿°ä¸­æè¿°äº†ä»£ç åº“å†…çš„è€—æ—¶ã€‚è¾ƒæ…¢çš„å‡½æ•°ä¼šå¾—åˆ°æ›´å¤šçš„æ ·æœ¬ï¼Œæ›´æœ‰ç”¨çš„æ˜¯ï¼Œç”¨æ—¶æœ€é•¿çš„å•ä¸ªå‡½æ•°ä¼šç´¯ç§¯æ›´å¤šçš„æ ·æœ¬ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä¸ä»…å¯ä»¥çœ‹åˆ°å“ªäº›å‡½æ•°æ‰§è¡Œæœ€æ…¢ï¼ŒåŒæ—¶å¯ä»¥çœ‹åˆ°å“ªå‡ è¡Œä»£ç æ‰§è¡Œæœ€æ…¢ã€‚å¦‚ä»Šæœ‰å¾ˆå¤šä¸é”™çš„æ ·æœ¬åˆ†æå·¥å…·å¯ä¾›é€‰æ‹©ï¼Œä»å…è´¹çš„[Very Sleepy](http://www.codersnotes.com/sleepy)åˆ°æ›´å¤šç‰¹æ€§æ”¯æŒçš„å•†ä¸šè½¯ä»¶ï¼Œå¦‚Intelçš„[VTune](https://software.intel.com/en-us/intel-vtune-amplifier-xe)ã€‚\n\né€šè¿‡åœ¨æ¸¸æˆå®¢æˆ·ç«¯ä¸Šè¿è¡ŒVTuneæ¥æ£€æŸ¥ç²’å­çº¿ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¦‚ä¸‹åˆ—è¡¨ä¸­è¿è¡Œæœ€æ…¢çš„å‡½æ•°ã€‚\n\n![](http://7xrgsx.com1.z0.glb.clouddn.com/VTune.PNG)\n\nVTuneä¸­çš„Hot Functions\n\nä¸Šé¢çš„è¡¨æ ¼å±•ç°äº†ä¸€äº›ç²’å­ç›¸å…³çš„å‡½æ•°ã€‚ä½œä¸ºå‚è€ƒï¼Œæœ€ä¸Šé¢ä¸¤ä¸ªè¾ƒå¤§çš„å‡½æ•°ç”¨äºä¸ºæ¯ä¸ªç²’å­æ›´æ–°çŸ©é˜µå’Œä½ç½®ã€æ–¹å‘ç›¸å…³çš„çŠ¶æ€ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œæˆ‘ä»¬æ¥çœ‹åœ¨ç¬¬ä¸‰å’Œç¬¬ä¹é¡¹AnimatedVariableWithRandomFactor<>ä¸­çš„Evaluateå‡½æ•°ï¼Œå‡½æ•°å¾ˆå°ï¼ˆå¹¶ä¸”å®¹æ˜“ç†è§£ï¼‰ï¼Œä½†æ˜¯ç›¸å¯¹è€Œè¨€æ¯”è¾ƒè€—æ—¶ã€‚\n\n## æ­¥éª¤2:ç†è§£\n\nç°åœ¨ï¼Œæˆ‘ä»¬é€‰æ‹©äº†ä¸€ä¸ªéœ€è¦ä¼˜åŒ–çš„å‡½æ•°ï¼Œåˆ™éœ€è¦ç†è§£è¿™ä¸ªå‡½æ•°è¦åšçš„äº‹æƒ…å’Œä¸ºä»€ä¹ˆè¿™ä¹ˆåšçš„åŸå› ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼ŒAnimatedVariablesè¢«è‹±é›„è”ç›Ÿç¾æœ¯å¸ˆç”¨æ¥å®šä¹‰ç²’å­ç‰¹å¾æ˜¯å¦‚ä½•éšç€æ—¶é—´å˜åŒ–ã€‚ä¸€æ—¦ä¸€ä¸ªç¾æœ¯å¸ˆä¸ºä¸€ä¸ªç‰¹å®šçš„ç²’å­å¯è§æ€§æŒ‡å®šå…³é”®å¸§å€¼åï¼Œä»£ç ä¸­ä¾¿ä¼šæ’å…¥è¿™äº›æ•°æ®æ¥äº§ç”Ÿä¸€æ¡æ›²çº¿ã€‚æ’å€¼æ–¹æ³•æ˜¯çº¿æ€§æ’å€¼æˆ–ä¸€é˜¶æˆ–äºŒæ¬¡é›†æˆã€‚åŠ¨ç”»æ›²çº¿è¢«å¤§é‡çš„ä½¿ç”¨â€”â€”å°½åœ¨å¬å”¤å¸ˆå³¡è°·ï¼ˆè¯‘è€…æ³¨ï¼šè‹±é›„è”ç›Ÿçš„åœ°å›¾ä¹‹ä¸€ï¼Œä¹Ÿæ˜¯æœ€çƒ­é—¨çš„åœ°å›¾ï¼‰ä¸­å°±æœ‰æ¥è¿‘40000çš„åŠ¨ç”»æ›²çº¿â€”â€”æ¶µç›–äº†ä»ç²’å­é¢œè‰²æ‰©å±•åˆ°æ—‹è½¬é€Ÿåº¦æ–¹æ–¹é¢é¢ã€‚Evaluateå‡½æ•°åœ¨æ¯åœºæ¸¸æˆä¸­ä¼šè¢«è°ƒç”¨æ•°ä»¥äº¿è®¡æ¬¡ã€‚æ­¤å¤–ï¼ŒLOLä¸­çš„ç²’å­ç³»ç»Ÿæ˜¯æ¸¸æˆä½“éªŒä¸­å¾ˆé‡è¦çš„ä¸€éƒ¨åˆ†ï¼Œæ‰€ä»¥å®ƒä»¬çš„è¡Œä¸ºä¸èƒ½åšå‡ºä»»ä½•æ”¹å˜ã€‚\n\nè¿™ä¸ªç±»å…¶å®å·²ç»åšè¿‡äº†ä¼˜åŒ–ï¼Œé€šè¿‡æŸ¥è¡¨çš„æ–¹å¼ï¼Œå¯¹æ¯ä¸ªtimestepæ‰€éœ€è¦çš„å€¼éƒ½é¢„å…ˆè®¡ç®—è¿‡å¹¶å­˜å‚¨åœ¨ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œæ‰€ä»¥åœ¨è¯»å–è¿™äº›æ•°å€¼æ—¶ä¸å¿…å†æ¬¡è®¡ç®—ï¼Œæ‰€ä»¥å‡å°‘äº†è®¡ç®—çš„è€—æ—¶ã€‚è¿™æ˜¯ä¸€ä¸ªæ˜æ™ºçš„é€‰æ‹©ï¼Œå› ä¸ºæ›²çº¿çš„ä¸€é˜¶å’ŒäºŒæ¬¡é›†æˆæ˜¯ä¸€ä¸ªæ˜‚è´µçš„è¿›ç¨‹ã€‚ä¸ºæ¯ä¸ªç³»ç»Ÿä¸­çš„æ¯ä¸ªç²’å­ä¸Šçš„åŠ¨ç”»å˜é‡è¿›è¡Œè¿™ä¸ªæ“ä½œä¼šä½¿å¾—å¤„ç†è¿‡ç¨‹å¤§å¤§å‡å°‘ã€‚\n\n![](http://7xrgsx.com1.z0.glb.clouddn.com/graphpointgraphsmaller.png)\n\nåŠ¨ç”»å˜é‡æ›²çº¿çš„æŸ¥è¯¢è¡¨\n\nåœ¨æŸ¥è¯¢æ€§èƒ½é—®é¢˜æ—¶ï¼Œé€šè¿‡æ‰¾åˆ°æœ€åçš„åœºæ™¯æ¥æ”¾å¤§é—®é¢˜å¾€å¾€æ˜¯ä¸€ä¸ªååˆ†æœ‰ç”¨çš„æŠ€å·§ã€‚ä¸ºäº†æ¨¡æ‹Ÿç²’å­å¤„ç†å‡ç¼“ï¼Œæˆ‘å¼€å§‹äº†ä¸€åœºå•ä¸ªç©å®¶çš„æ¸¸æˆï¼Œæ¸¸æˆä¸­æœ‰9ä¸ªä¸­æœŸçº§åˆ«çš„ç”µè„‘ï¼Œå¹¶ä¸”åœ¨ä¸‹è·¯æŒ‘èµ·äº†ä¸€åœºæ··ä¹±çš„å›¢æˆ˜ã€‚æ¥ç€ï¼Œæˆ‘åœ¨å›¢æˆ˜æœŸé—´åœ¨å®¢æˆ·ç«¯ä¸Šè¿è¡Œäº†VTuneï¼Œè®°å½•äº†å¤§é‡çš„æ•°æ®ç”¨äºåˆ†æã€‚è¿™äº›æ•°æ®ç»™å‡ºäº†åœ¨Evaluateä»£ç ä¸­çš„å½’å› æ ·æœ¬ï¼ˆå¦‚ä¸‹å›¾æ‰€ç¤ºï¼‰ã€‚\n\nä¸‹å›¾ä¸­æˆ‘æˆªå–äº†ç¬¬91-95è¡Œä»£ç ï¼Œä¸ºäº†æ›´å¥½çš„è¯´æ˜ç¬¬90è¡Œè°ƒç”¨Evaluateçš„æƒ…å½¢ã€‚\n\n![](http://7xrgsx.com1.z0.glb.clouddn.com/VTune2.png)\n\nVTuneä¸­çš„åˆ†ææ ·æœ¬\n\nå¯¹äºä¸ç†Ÿæ‚‰VTuneçš„äººæ¥è¯´ï¼Œå…¶å®è¿™ä¸ªè¯•å›¾å±•ç¤ºçš„å°±æ˜¯è§£ææœŸé—´æ‰€æ”¶é›†çš„ä»£ç ã€‚å³ä¾§çš„çº¢è‰²æ¨ªæ¡æŒ‡ç¤ºäº†å‘½ä¸­æ¬¡æ•°ï¼Œæ¨ªæ¡è¶Šé•¿å°±æ„å‘³ç€å‘½ä¸­æ¬¡æ•°è¶Šå¤šï¼Œè€Œå‘½ä¸­æ¬¡æ•°è¶Šå¤šè¡¨ç¤ºè¿™ä¸€è¡Œæ‰§è¡Œè¶Šæ…¢ã€‚æŒ¨ç€æ¨ªæ¡çš„æ—¶é—´æ˜¯å¤„ç†è¿™è¡Œä»£ç æ‰€ç”¨çš„é¢„ä¼°æ—¶é—´ã€‚ä½ ä¹Ÿå¯ä»¥å°±æŸä¸ªç‰¹å®šå‡½æ•°çš„åˆ°ä¸€ä¸ªå‡†ç¡®è§†å›¾æ¥æŸ¥çœ‹æ˜¯ä»€ä¹ˆå› ç´ â€œè´¡çŒ®â€äº†æ‰§è¡Œç¼“æ…¢ã€‚\n\nå¦‚æœå°±çº¢è‰²çš„æ¨ªæ¡æ¥çœ‹ï¼Œç¬¬95è¡Œä»£ç å°±æ˜¯é—®é¢˜æ‰€åœ¨ã€‚ä½†æ˜¯è¿™æ®µä»£ç æ‰€åšçš„ä»…ä»…æ˜¯åœ¨Vector3fä¸­å¤åˆ¶å‡ºæ‹¼å†™é”™è¯¯çš„æŸ¥è¯¢è¡¨ï¼Œä¸ºä»€ä¹ˆè¿™ä¸ªå‡½æ•°æˆä¸ºæœ€æ…¢çš„éƒ¨åˆ†å‘¢ï¼Ÿä¸ºä»€ä¹ˆ12å­—èŠ‚çš„å¤åˆ¶è¿™ä¹ˆæ…¢ï¼Ÿ\n\nç­”æ¡ˆåœ¨äºç°ä»£CPUè®¿é—®å†…å­˜çš„æ–¹å¼ä¸­ã€‚CPUéå¸¸å¿ å®çš„éµå¾ªäº†æ‘©å°”å®šå¾‹ï¼Œæ¯å¹´éƒ½ä¼šæé€Ÿ60%ï¼Œè€Œå†…å­˜é€Ÿåº¦æ¯å¹´çš„å¢é€Ÿåªæœ‰å¯æ€œçš„10%ã€‚\n\n![](http://7xrgsx.com1.z0.glb.clouddn.com/processor_memory_gap.jpg)\n\nå›¾å‡ºè‡ªã€Šè®¡ç®—æœºä½“ç³»ç»“æ„ï¼šé‡åŒ–ç ”ç©¶æ–¹æ³•ã€‹By John L. Hennessy, David A. Patterson, Andrea C. Arpaci-Dusseau\n\nç¼“å­˜å¯ä»¥å‡å°æ€§èƒ½å·®è·ï¼Œè¿è¡Œè‹±é›„è”ç›Ÿçš„å¤§å¤šæ•°CPUéƒ½æœ‰3çº§ç¼“å­˜ï¼Œä¸€çº§ç¼“å­˜æœ€å¿«ä½†å®¹é‡æœ€å°ï¼Œä¸‰çº§ç¼“å­˜æœ€æ…¢ä½†å®¹é‡ç›¸å¯¹æœ€å¤§ã€‚ä»ä¸€çº§ç¼“å­˜è¯»å–æ•°æ®åªéœ€è¦4ä¸ªå‘¨æœŸï¼Œè€Œè¯»å–ä¸»å†…å­˜å´éœ€è¦å¤§çº¦300ä¸ªå‘¨æœŸç”šè‡³æ›´å¤šã€‚ä½ å¯ä»¥åœ¨300ä¸ªå‘¨æœŸå†…åšå¤§é‡å¤„ç†å·¥ä½œã€‚\n\næœ€åˆæŸ¥è¯¢è¡¨çš„è§£å†³æ–¹æ¡ˆçš„é—®é¢˜åœ¨äºï¼Œè™½ç„¶ä»æŸ¥è¯¢è¡¨ä¸­çš„é¡ºåºè¯»å–å€¼çš„æ“ä½œæ˜¯éå¸¸å¿«çš„(ç”±äºç¡¬ä»¶é¢„å–)ï¼Œä½†æ˜¯æˆ‘ä»¬æ­£åœ¨å¤„ç†çš„é¢—ç²’å¹¶ä¸æ˜¯æŒ‰ç…§æ—¶é—´é¡ºåºå­˜å‚¨ï¼Œæ‰€ä»¥å®é™…æŸ¥æ‰¾é¡ºåºæ˜¯éšæœºçš„ã€‚è¿™é€šå¸¸ä¼šå¯¼è‡´CPUç­‰å¾…ä»ä¸»å­˜å‚¨è®¾å¤‡è¯»å–æ•°æ®æ—¶äº§ç”Ÿå»¶è¿Ÿã€‚è™½ç„¶300ä¸ªå‘¨æœŸæ¯”ä¸€çº§æˆ–è€…äºŒçº§é›†æˆä»£ä»·æ›´ä½ï¼Œä½†æˆ‘ä»¬è¿˜æ˜¯éœ€è¦çŸ¥é“è¿™ä¸ªå‡½æ•°åœ¨æ¸¸æˆä¸­çš„ä½¿ç”¨é¢‘ç‡å¦‚ä½•ï¼Œå› ä¸ºæ¯•ç«Ÿè¿™ä¸ªå‡½æ•°åœ¨æ¸¸æˆä¸­è¢«å¤§é‡çš„ä½¿ç”¨ã€‚\n\nä¸ºäº†æ¢æ±‚çœŸç›¸ï¼Œæˆ‘ä»¬åœ¨ä»£ç ä¸­æ·»åŠ ä¸€äº›é¢å¤–çš„å†…å®¹æ¥æ”¶é›†AnimatedVariablesçš„æ•°é‡å’Œç±»å‹ã€‚ç»“æœè¡¨ç¤ºï¼Œåœ¨38000ä¸ªAnimatedVariablesä¸­ï¼š\n\n* 37500ä¸ªæ˜¯çº¿æ€§æ’å€¼ï¼›100ä¸ªæ˜¯ä¸€çº§ï¼Œ400ä¸ªæ˜¯äºŒçº§\n* 31500ä¸ªä»…æœ‰ä¸€ä¸ªå…³é”®å€¼ï¼›2500ä¸ªæœ‰3ä¸ªå…³é”®å€¼ï¼›1500æœ‰2ä¸ªæˆ–è€…4ä¸ªå…³é”®å€¼\n\næ‰€ä»¥æœ€å¸¸è§çš„é€”å¾„æ˜¯é’ˆå¯¹å•é”®å€¼ã€‚å› ä¸ºä»£ç æ€»æ˜¯ç”ŸæˆæŸ¥è¯¢è¡¨ï¼Œè¿™å°±äº§ç”Ÿäº†ä¸€ä¸ªä¸éœ€è¦ä¼ æ’­çš„å•æ•°å€¼è¡¨ã€‚ä¹Ÿå°±æ„å‘³ç€æ¯æ¬¡æŸ¥è¯¢ï¼ˆæ€»æ˜¯è¿”å›ç›¸åŒå€¼ï¼‰ä¸€èˆ¬ä¼šäº§ç”Ÿç¼“å­˜ä¸¢å¤±ï¼Œè¿›è€Œå¯¼è‡´å¤§é‡çš„å†…å­˜å’ŒCPUå‘¨æœŸæµªè´¹ã€‚\n\né€šå¸¸æ¥è®²ï¼Œä»£ç æˆä¸ºç“¶é¢ˆä¸€åŠæœ‰å››ä¸ªåŸå› ï¼š\n\n* è°ƒç”¨é¢‘ç‡è¿‡é«˜\n* ç®—æ³•é€‰æ‹©ä¸ä½³ï¼šå¦‚O(n^2)vsO(n)\n* åšäº†ä¸å¿…è¦çš„å·¥ä½œæˆ–è€…å¤ªé¢‘ç¹çš„æ‰§è¡Œå¿…è¦çš„æ“ä½œ\n* æ•°æ®è¾ƒå·®ï¼šæˆ–è€…æ˜¯æ•°æ®é‡å¤ªå¤§ï¼Œæˆ–è€…æ˜¯æ•°æ®åˆ†å¸ƒå’Œè®¿é—®æ¨¡å¼è¾ƒå·®\n\nè¿™é‡Œäº§ç”Ÿçš„é—®é¢˜åŸå› ä¸æ˜¯ç”±äºä»£ç è®¾è®¡ä¸å¥½æˆ–è€…å¼€å‘è´¨é‡å¯¼è‡´ã€‚è§£å†³æ–¹æ¡ˆæ˜¯å¥½çš„ï¼Œä½†æ˜¯åœ¨è¢«ç¾æœ¯å¸ˆå¤§é‡ä½¿ç”¨ä¹‹åï¼Œæ™®é€šè·¯å¾„æ˜¯é’ˆå¯¹å•å€¼çš„ï¼Œè€Œè¿™äº›ç®€å•çš„é—®é¢˜åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­æ˜¯å¾ˆä¸æ˜æ˜¾çš„ã€‚\n\né¡ºä¾¿è¯´ä¸€å¥ï¼Œæˆ‘å­¦ä¼šäº†ä½œä¸ºä¸€åç¨‹åºå‘˜æœ€é‡è¦çš„äº‹æƒ…ä¹‹ä¸€ä¾¿æ˜¯å°Šé‡ä½ æ­£åœ¨å¤„ç†çš„ä»£ç ã€‚ä»£ç æœ‰å¯èƒ½çœ‹èµ·å¾ˆç–¯ç‹‚ï¼Œä½†æ˜¯è¿™æ ·å†™çš„ç›®çš„å¯èƒ½æ˜¯åŸºäºä¸€ä¸ªå¥½çš„å‡ºå‘ç‚¹ã€‚åœ¨æ²¡æœ‰å®Œå…¨ç†è§£ä»£ç å¦‚ä½•ä½¿ç”¨å’Œå…¶ä¸ºä½•è®¾è®¡ä¹‹å‰ä¸è¦é”™è¯¯çš„è®¤ä¸ºè¿™äº›ä»£ç æ˜¯ä¸‘é™‹æ„šè ¢çš„ã€‚\n\n![](http://7xrgsx.com1.z0.glb.clouddn.com/codesoftly_comic.jpg)\n\næ¥è‡ªï¼š[http://codesoftly.com/2010/03/ha-code-entropy-explained.html](http://codesoftly.com/2010/03/ha-code-entropy-explained.html)\n\n## æ­¥éª¤3:è¿­ä»£\n\nç°åœ¨æˆ‘ä»¬äº†è§£äº†å“ªéƒ¨åˆ†ä»£ç æ‰§è¡Œè¾ƒæ…¢ã€è¿™éƒ¨åˆ†ä»£ç æœ¬æ„æ˜¯ä»€ä¹ˆå’Œä¸ºä½•æ‰§è¡Œè¾ƒæ…¢ï¼Œæ˜¯æ—¶å€™å¼€å§‹æ„æƒ³è§£å†³æ–¹æ¡ˆäº†ã€‚æ¯ä¸ªå¸¸è§çš„æ‰§è¡Œè·¯å¾„éƒ½æ˜¯ä¸ºå•ç‹¬å˜é‡è®¾è®¡ï¼Œæˆ‘ä»¬è¿˜çŸ¥é“æ•°é‡å°‘çš„é”®çš„çº¿æ€§æ’å€¼éå¸¸å¿«ï¼ˆåœ¨å°‘é‡é«˜é€Ÿç¼“å­˜ä¸­ä½œç®€å•çš„è®¡ç®—ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨è€ƒè™‘è¿™ç§æƒ…å†µçš„åŸºç¡€ä¸Šè¿›è¡Œé‡æ–°è®¾è®¡ã€‚æœ€åï¼Œæˆ‘ä»¬å¯ä»¥å›åˆ°å‰é¢ç½•è§é›†æˆæ›²çº¿çš„é¢„è®¡ç®—æŸ¥è¯¢è¡¨ä¸Šã€‚\n\nåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå½“æˆ‘ä»¬ä¸ä½¿ç”¨æŸ¥è¯¢è¡¨æ—¶ï¼Œé¦–å…ˆæ„é€ è¿™äº›è¡¨æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œæ‰€ä»¥ä¼šé‡Šæ”¾å¤§é‡æ„ä¹‰éå‡¡çš„å†…å­˜ï¼ˆå¤§å¤šæ•°è¡¨å…·æœ‰256ä¸ªæ¡ç›®æˆ–è€…æ›´å¤šï¼Œæ¯ä¸ªæ¡ç›®å¯è¾¾12å­—èŠ‚çš„å¤§å°ï¼Œè¿™ç›¸å½“äºå¤§çº¦æ¯å¼ è¡¨3kbï¼‰ã€‚æ‰€ä»¥ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨é¢å¤–çš„ä¸€äº›å†…å­˜æ¥æ·»åŠ ç¼“å­˜çš„æ¡ç›®å’Œå­˜å‚¨çš„å•å€¼çš„æ•°é‡ã€‚\n\nä¹‹å‰çš„ä»£ç çœ‹èµ·æ¥æ˜¯è¿™ä¸ªæ ·å­çš„ï¼š\n\n```c++\ntemplate <typename T>\nclass AnimatedVariable\n{\n    // <snip>\nprivate:\n    std::vector<float> mTimes;\n    std::vector<T>     mValues;\n};\n\ntemplate <typename T>\nclass AnimatedVariablePrecomputed\n{\n    // <snip>\nprivate:\n    std::vector<T> mPrecomutedValues;\n};\n\n```\nAnimatedVariablePrecomputedå¯¹è±¡åœ¨AnimatedVariableä¸­è¿›è¡Œæ„é€ ï¼Œä»å®ƒçš„æŒ‡å®šå¤§å°æ’å€¼å’Œæ„å»ºä¸€ä¸ªè¡¨ã€‚Evaluate()ä»…åœ¨é¢„è®¡ç®—å¯¹è±¡ä¸­è¢«è°ƒç”¨ã€‚\n\næˆ‘ä»¬ä¿®æ”¹äº†ä¸€ä¸‹AnimatedVariableç±»ï¼Œç°åœ¨çœ‹èµ·æ¥æ˜¯è¿™ä¸ªæ ·å­çš„ï¼š\n\n```c++\ntemplate <typename T>\nclass AnimatedVariable\n{\n    // <snip>\nprivate:\n    int mNumValues;\n    T mSingleValue;\n\n    struct Key\n    {\n        float mTime;\n        T     mvalue;\n    };\n    std::vector<Key> mKeys;\n    AnimatedVariablePrecomputed<T> *mPrecomputed;\n};\n\n```\næˆ‘ä»¬æ·»åŠ äº†ä¸€ä¸ªç¼“å­˜å€¼mSingleValueï¼Œå’Œä¸€ä¸ªæ•´æ•°mNumValuesï¼Œç”¨äºå‘Šè¯‰æˆ‘ä»¬ä½•æ—¶æ‰ä½¿ç”¨mSingleValueã€‚å¦‚æœmNumValuesæ˜¯1ï¼ˆå³å¯¹åº”å•å€¼çš„æƒ…å†µï¼‰ï¼ŒEvaluate()ä¼šç›´æ¥è¿”å›mSingleValueçš„å€¼â€”â€”ä¸éœ€è¦å…¶ä»–å¤šä½™çš„å¤„ç†ã€‚ä½ è¿˜å¯ä»¥æ³¨æ„åˆ°æ’å…¥æ—¶é—´å’Œå€¼æ„é€ çš„Keyèƒ½å¤Ÿå‡å°‘ç¼“å­˜æœªå‘½ä¸­çš„æƒ…å†µã€‚\n\næŒ‡å‘æ­¤ç±»çš„æ•°æ®å‘é‡å¤§å°ç°åœ¨èŒƒå›´ä»24åˆ°36ä¸ªå­—èŠ‚ä¸ç­‰ï¼Œå…·ä½“å–å†³äºæ¨¡æ¿ç±»å‹ï¼ˆåŒæ—¶ä¹Ÿä¾èµ–ä¸å¹³å°ï¼Œstd::vector<>çš„å¤§å°ä¹Ÿä¼šä¸åŒï¼‰ã€‚\n\nEvaluate()ä¹‹å‰çš„ä»£ç çœ‹èµ·æ¥æ˜¯è¿™æ ·å­çš„ï¼š\n\n```c++\ntemplate <typename T>\nT AnimatedVariablePrecomputed<T>::Evaluate(float time) const\n{\n    in numValues = mPrecomputedValues.size();\n    RIOT_ASSERT(numValues > 1);\n\n    int index = static_cast<int>(time * numValues);\n    // clamp to valid table entry to handle the 1.0 boundary or out of bounds input\n    index = Clamp(index, 0, numValues - 1);\n    return mPrecomputedValues[index];\n}\n```\n\nä¿®æ”¹åçš„Evaluate()æ–¹æ³•ä»£ç å¦‚ä¸‹ï¼Œè¿™æ˜¯åœ¨VTuneä¸­å±•ç¤ºçš„ã€‚ä½ å¯ä»¥çœ‹åˆ°ä¸‰ä¸ªå¯èƒ½çš„æ‰§è¡Œcaseï¼šå•å€¼ï¼ˆçº¢è‰²éƒ¨åˆ†ï¼‰ï¼Œçº¿æ€§æ’å€¼ï¼ˆè“è‰²éƒ¨åˆ†ï¼‰å’Œé¢„è®¡ç®—æŸ¥è¯¢ï¼ˆç»¿è‰²éƒ¨åˆ†ï¼‰ã€‚\n\n![](http://7xrgsx.com1.z0.glb.clouddn.com/VTune3.PNG)\n\nåœ¨VTuneä¸­å±•ç¤ºçš„ä¼˜åŒ–è¿‡çš„ä»£ç ç‰‡æ®µ\n\nä¿®æ”¹åçš„ä»£ç æ‰§è¡Œé€Ÿåº¦å¤§çº¦å¿«äº†3å€ï¼šåœ¨æœ€æ…¢çš„å‡½æ•°åˆ—è¡¨ä¸­è¯¥å‡½æ•°ä»ç¬¬ä¸‰ä½é™åˆ°äº†ç¬¬22ä½ï¼ä¸ä»…æ‰§è¡Œæ›´å¿«ï¼ŒåŒæ—¶è¿˜é™ä½äº†å†…å­˜çš„ä½¿ç”¨ï¼Œå¤§çº¦å‡å°‘äº†750kbã€‚è¿™è¿˜ä¸ç®—å®Œï¼Œä¸ä»…å‡½æ•°æ‰§è¡Œæ›´å¿«ï¼Œå å†…å­˜æ›´å°‘ï¼ŒåŒæ—¶æé«˜äº†çº¿æ€§æ’å€¼çš„å‡†ç¡®åº¦ã€‚å¯è°“ä¸€çŸ³ä¸‰é¸Ÿã€‚\n\nè¿™é‡Œå¹¶æ²¡æœ‰æåˆ°çš„å†…å®¹ï¼ˆå°½ç®¡æ–‡ç« å·²ç»è¶³å¤Ÿé•¿äº†ï¼‰æ˜¯æˆ‘å¦‚ä½•é€šè¿‡ä¸æ–­è¿­ä»£æ‰¾åˆ°äº†è¿™ä¸ªè§£å†³æ–¹æ¡ˆã€‚æˆ‘æœ€åˆçš„å°è¯•å‡å°‘åœ¨ç²’å­ç”Ÿå‘½å‘¨æœŸå†…æ ·æœ¬è¡¨çš„å¤§å°ã€‚è¿™ä¸ªæ–¹æ¡ˆå‡ ä¹æœ‰æ•ˆâ€”â€”ä½†æœ‰äº›ç§»åŠ¨è¾ƒå¿«çš„ç²’å­ç”±äºæ ·æœ¬è¡¨çš„å‡å°‘ï¼Œå˜çš„å‚å·®ä¸é½ã€‚å¹¸è¿çš„æ˜¯ï¼Œè¿™ä¸ªç°è±¡å¾ˆå¿«å°±è¢«å‘ç°äº†ï¼Œä½¿å¾—æˆ‘ä¾ç„¶èƒ½å¤Ÿå°†æ–¹æ¡ˆæ›´æ¢ä¸ºæœ¬æ–‡ä¸­æåˆ°çš„æ–¹æ³•ã€‚å½“ç„¶è¿˜æœ‰ä¸€äº›å…¶ä»–çš„ä»£ç ä¿®æ”¹ï¼Œä½†æ˜¯å¯¹äºæ€§èƒ½æé«˜å¹¶æ²¡æœ‰ç›´æ¥æ•ˆæœï¼Œä¹Ÿæœ‰äº›ä»£ç çš„ä¿®æ”¹ç”šè‡³é€ æˆäº†ä»£ç æ‰§è¡Œæ›´æ…¢ã€‚\n\n## æ€»ç»“\n\næœ¬æ–‡ä¸­ä»‹ç»çš„æ˜¯è‹±é›„è”ç›Ÿæ¸¸æˆä»£ç åº“ä¸­ä»£ç ä¼˜åŒ–çš„ä¸€ä¸ªå…¸å‹æ¡ˆä¾‹ã€‚è™½ç„¶å˜åŠ¨æ›´å°ï¼Œä½†æ˜¯è¿™ä¸ªæ”¹åŠ¨ä½¿å¾—å†…å­˜èŠ‚çº¦äº†750kbï¼Œç²’å­çº¿ç¨‹æ¯”è¾ƒä¹‹å‰è¿è¡Œå¿«äº†1åˆ°2æ¯«ç§’ï¼Œè¿™ä½¿å¾—ä¸»çº¿ç¨‹æ‰§è¡Œçš„æ›´å¿«ã€‚\n\nå½“ç¨‹åºå‘˜å¯»æ±‚ä¼˜åŒ–çš„æ—¶å€™ï¼Œè™½ç„¶çœ‹ä¼¼æ˜¾è€Œæ˜“è§ï¼Œä½†è¿™é‡Œæåˆ°çš„ä¸‰ä¸ªé˜¶æ®µéƒ½å¸¸å¸¸ä¼šè¢«å¿½è§†ã€‚è¿™é‡Œåªæ˜¯ä¸ºäº†å¼ºè°ƒä¸€ä¸‹ï¼š\n\n1. é‰´åˆ«ï¼šåˆ†æåº”ç”¨å¹¶æ‰¾å‡ºæ€§èƒ½æœ€å·®çš„éƒ¨åˆ†\n2. ç†è§£ï¼šç†è§£ä»£ç çš„æœ¬æ„å’Œæ‰§è¡Œç¼“æ…¢çš„åŸå› \n3. è¿­ä»£ï¼šåŸºäºä¸Šé¢ä¸¤ä¸ªé˜¶æ®µçš„åˆ°çš„æˆæœè¿›è¡Œä»£ç çš„ä¿®æ”¹ã€è¿­ä»£ï¼Œå¹¶é‡æ–°åˆ†æã€‚é‡å¤è¿™ä¸‰ä¸ªæ­¥éª¤ç›´åˆ°è¶³å¤Ÿå¿«ã€‚\n\nä¸Šé¢æåˆ°çš„è§£å†³æ–¹æ¡ˆä¸è§å¾—æ˜¯æœ€å¿«çš„è§£å†³æ–¹æ¡ˆï¼Œä½†è‡³å°‘æ–¹å‘æ˜¯æ­£ç¡®çš„â€”â€”æ€§èƒ½æå‡çš„å®‰å…¨è·¯å¾„æ˜¯é€šè¿‡è¿­ä»£æ”¹è¿›ã€‚\n\næœ¬æ–‡ä½œè€…ï¼šTony Albrecht\n\n\n\n\n\n\n\n","source":"_posts/è‹±é›„è”ç›Ÿä¸­çš„éšæœºè¡Œä¸ºä¼˜åŒ–.md","raw":"---\ntitle: è‹±é›„è”ç›Ÿä¸­çš„éšæœºè¡Œä¸ºä¼˜åŒ–\ndate: 2016-03-07 13:48:24\ntags: ç¿»è¯‘\n---\n> åŸæ–‡åœ°å€ï¼š[ä¼ é€é—¨](http://engineering.riotgames.com/news/random-acts-optimization)\n> åŸåˆ›ç¿»è¯‘ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„\n\n\n![](http://7xrgsx.com1.z0.glb.clouddn.com/particlesheader2.png)\n\nå¯¹äºåƒè‹±é›„è”ç›Ÿè¿™æ ·ä¸æ–­æ¼”è¿›çš„äº§å“çš„å¼€å‘è€…è€Œè¨€ï¼Œéœ€è¦ä¸æ–­çš„è‡´åŠ›äºä¸ç³»ç»Ÿçš„ç†µä½œæ–—äº‰ï¼Œå› ä¸ºä»–ä»¬å°†è¶Šæ¥è¶Šå¤šçš„å†…å®¹æ·»åŠ åˆ°èµ„æºæœ‰é™çš„æœåŠ¡å™¨ä¸­ã€‚æ–°çš„å†…å®¹å¸¦äº†æ–°çš„éšæ€§æˆæœ¬â€”â€”ä¸ä»…æ˜¯æ›´å¤šçš„å®æ–½æˆæœ¬ï¼ŒåŒæ—¶ä¹ŸåŒ…æ‹¬ç”±äºåˆ›é€ äº†æ›´å¤šçš„çº¹ç†ã€ä»¿çœŸå’Œå¤„ç†é€ æˆçš„å†…å­˜å’Œæ€§èƒ½æˆæœ¬ã€‚å¦‚æœæˆ‘ä»¬å¿½ç•¥ï¼ˆæˆ–è€…é”™è¯¯ä¼°ç®—ï¼‰äº†è¿™äº›æˆæœ¬ï¼Œåˆ™æ•´ä½“æ¸¸æˆæ€§èƒ½ä¸ä½³ï¼Œå¯ç©æ€§å‡å°‘ã€‚æ•…éšœä½¿äººåŒæ¶ï¼Œå»¶è¿Ÿä½¿äººæ„¤æ€’ï¼Œå¸§ç‡ä¸‹é™è®©äººæ²®ä¸§ã€‚\n<!--more-->\n\næˆ‘æ˜¯è‡´åŠ›äºæé«˜è‹±é›„è”ç›Ÿæ€§èƒ½å›¢é˜Ÿä¸­çš„ä¸€å‘˜ã€‚æˆ‘ä»¬ä¸ºå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨åšå¿«ç…§ï¼Œå‘ç°é—®é¢˜ (æ€§èƒ½ç›¸å…³å’Œå…¶ä»–)ï¼Œç„¶åä¿®å¤é—®é¢˜ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬å°†åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å­¦åˆ°çš„ä¸œè¥¿åé¦ˆå…¶ä»–å›¢é˜Ÿï¼Œå¹¶ä¸”ç»™ä»–ä»¬æä¾›å·¥å…·ï¼Œä½¿ä»–ä»¬åœ¨å½±å“ç”¨æˆ·ä¹‹å‰æ¥æ£€æµ‹å¹¶å®šä½ä»–ä»¬è‡ªå·±çš„æ€§èƒ½é—®é¢˜ã€‚æˆ‘ä»¬ä¸æ–­çš„æé«˜è‹±é›„è”ç›Ÿçš„æ€§èƒ½ä¸ºè‰ºæœ¯å®¶å’Œè®¾è®¡å¸ˆæ·»åŠ æ–°çš„ä¸œè¥¿æä¾›äº†ç©ºé—´ï¼šå½“ä»–ä»¬ä½¿æ¸¸æˆæ›´åºå¤§æ›´ä¼˜ç§€çš„åŒæ—¶ï¼Œæˆ‘ä»¬ä½¿ä¹‹æ›´å¿«ã€‚\n\nè¿™æ˜¯å…³äºæˆ‘ä»¬å›¢é˜Ÿå¦‚ä½•ä¼˜åŒ–è‹±é›„è”ç›Ÿæ€§èƒ½ç³»åˆ—çš„ç¬¬ä¸€ç¯‡æ–‡ç« ï¼Œåç»­æˆ‘ä»¬å°†ä¸æ–­æŒç»­æ›´æ–°ã€‚è¿™æ˜¯ä¸€é¡¹å›æŠ¥ä¸°åšçš„æŒ‘æˆ˜ï¼Œè¿™ç¯‡æ–‡ç« å°†æ·±å…¥ä»‹ç»æˆ‘ä»¬åœ¨ç²’å­ç³»ç»Ÿä¸­é‡åˆ°çš„ä¸€äº›æœ‰è¶£çš„æŒ‘æˆ˜â€”â€”æ­£å¦‚åœ¨ä¸‹å›¾ä¸­ï¼Œä½ å¯ä»¥çœ‹åˆ°ç²’å­ç³»ç»Ÿåœ¨æ¸¸æˆä¸­æ‰®æ¼”äº†ååˆ†é‡è¦çš„è§’è‰²ã€‚\n\n![GIFå›¾](http://7xrgsx.com1.z0.glb.clouddn.com/TeamParticles.gif)\n\nä¸Šå›¾æ˜¯åœ¨è‹±é›„è”ç›Ÿæ¸¸æˆä¸­é«˜ç²’å­å¯†åº¦çš„ä¸€ä¸ªä¾‹å­ã€‚\n\nä¼˜åŒ–ï¼Œå¹¶ä¸æ˜¯åœ¨ç¨‹åºé›†ä¸­é‡å†™å¤§é‡çš„ä»£ç â€”â€”å°½ç®¡æœ‰äº›æ—¶å€™æ˜¯è¿™æ ·çš„ã€‚æˆ‘ä»¬ä»…å˜æ›´é‚£äº›ä¸ä»…èƒ½å¤Ÿæé«˜æ€§èƒ½ï¼Œè€Œä¸”ç»´æŠ¤æ­£ç¡®æ€§çš„ä»£ç ï¼Œå¦‚æœæœ‰å¯èƒ½çš„è¯ï¼Œè¿˜ä¼šæé«˜ä»£ç è´¨é‡ã€‚æœ€åä¸€é¡¹ç•¥æ˜¾æŒ‘å‰”ï¼šä»»ä½•ä¸æ˜“è¯»ã€ä¸æ˜“ç»´æŠ¤çš„ä»£ç éƒ½ä¼šäº§ç”ŸæŠ€æœ¯å€ºåŠ¡ï¼Œè¿™ä¸ªæˆ‘ä»¬ç¨åå†è°ˆã€‚\n\nä¼˜åŒ–å·²æœ‰çš„ä»£ç åº“ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†ä¸‰ä¸ªåŸºæœ¬æ­¥éª¤ï¼šé‰´åˆ«ã€ç†è§£å’Œè¿­ä»£ã€‚\n\n*æ­¥éª¤ä¸€ï¼šé‰´åˆ«*\n\nåœ¨å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦ç¡®è®¤å“ªäº›ä»£ç éœ€è¦è¿›è¡Œä¼˜åŒ–ã€‚å³ä½¿æœ‰äº›ä»£ç çœ‹èµ·æ¥æ˜æ˜¾æ€§èƒ½è¾ƒå·®ï¼Œä½†æ˜¯ç”±äºå…¶å¯¹æ•´ä½“æ€§èƒ½å½±å“æå°ï¼Œä¼˜åŒ–è¿™ç±»ä»£ç æ”¶ç›Šæå°‘ï¼ˆå°¤å…¶å½“èŠ±è´¹åœ¨ä¸Šé¢çš„æ—¶é—´å’Œç²¾åŠ›åœ¨å…¶ä»–æ–¹é¢å¯ä»¥åšåˆ°æ›´å¥½çš„æ”¶ç›Šï¼‰ã€‚æˆ‘ä»¬ä½¿ç”¨ä»£ç æ£€æµ‹å·¥å…·å’Œé‡‡æ ·åˆ†æå™¨æ¥å¸®åŠ©è¯†åˆ«éæ€§èƒ½éƒ¨åˆ†çš„åŸºæœ¬ä»£ç ã€‚\n\n*æ­¥éª¤äºŒï¼šç†è§£*\n\nä¸€æ—¦æˆ‘ä»¬å¾—çŸ¥ä»£ç åº“çš„å“ªéƒ¨åˆ†ä»£ç æ€§èƒ½è¾ƒå·®ï¼Œæˆ‘ä»¬ä¾¿ä¼šè¯¦ç»†çš„æŸ¥çœ‹è¿™éƒ¨åˆ†ä»£ç ä»¥æ±‚å®Œå…¨ç†è§£ä»£ç ã€‚ç†è§£ä»£ç æ„å‘³ç€ç†è§£è¿™äº›ä»£ç çš„å«ä¹‰åŠåŸæœ¬çš„ç›®çš„ã€‚æ¥ç€ï¼Œæˆ‘ä»¬å°±èƒ½çŸ¥æ‚‰ä¸ºä½•è¿™äº›ä»£ç äº§ç”Ÿç“¶é¢ˆäº†ã€‚\n\n*æ­¥éª¤ä¸‰ï¼šè¿­ä»£*\n\nå½“æˆ‘ä»¬ç†è§£äº†ä¸ºä½•ç‰¹å®šéƒ¨åˆ†ä»£ç æ‰§è¡Œè¾ƒæ…¢åŠä»£ç æœ¬æ„è¦æ‰§è¡Œçš„å†…å®¹ï¼Œæˆ‘ä»¬å°±æœ‰äº†è¶³å¤Ÿçš„ä¿¡æ¯æ¥è®¾è®¡å’Œå¼€å‘ä¸€å¥—å¯è¡Œçš„è§£å†³æ–¹æ¡ˆã€‚ä½¿ç”¨é‰´åˆ«æ­¥éª¤ä¸­çš„å·¥å…·å’Œå¾—åˆ°çš„å¿«ç…§æ•°æ®ï¼Œæˆ‘ä»¬å°†æ–°ä»£ç å’Œæ—§ä»£ç çš„æ€§èƒ½åšäº†æ¯”è¾ƒã€‚å¦‚æœè§£å†³æ–¹æ¡ˆæ•ˆæœå‡ºä¼—ï¼Œæˆ‘ä»¬ä¼šå½»åº•çš„è¿›è¡Œæµ‹è¯•ä»¥ç¡®ä¿ä¸å¼•å…¥æ¥æ–°çš„bugï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥å°±å¯ä»¥å‡»æŒåº†è´ºäº†ï¼Œå› ä¸ºæˆ‘ä»¬å·²ç»ä¸ºå…¶ä»–å†…éƒ¨æµ‹è¯•åšå¥½äº†å……åˆ†çš„å‡†å¤‡ã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæ–°çš„ä»£ç ä¸è§çš„è¶³å¤Ÿå¿«ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸æ–­è¿­ä»£è§£å†³æ–¹æ¡ˆï¼ŒçŸ¥é“æ–°çš„ä»£ç èƒ½è¾¾åˆ°ä¼˜åŒ–çš„ç›®çš„ã€‚\n\nç°åœ¨ï¼Œè®©æˆ‘ä»¬çœ‹ä¸‹åœ¨è‹±é›„è”ç›Ÿä»£ç åº“ä¸­è¿™å‡ ä¸ªæ­¥éª¤çš„å®æ–½ç»†èŠ‚ï¼Œå¹¶ä»¥æœ€è¿‘ä¼˜åŒ–çš„ç²’å­ç³»ç»Ÿé€æ­¥ä»‹ç»ã€‚\n\n## æ­¥éª¤1:é‰´åˆ«\n\næ‹³å¤´çš„å·¥ç¨‹å¸ˆä½¿ç”¨å¤§é‡çš„åˆ†æå·¥å…·æ¥æ£€æŸ¥æ¸¸æˆå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨çš„æ€§èƒ½ã€‚æˆ‘ä»¬å…ˆæŸ¥çœ‹æ¥å®¢æˆ·ç«¯çš„å¸§ç‡å’Œé€šè¿‡Waffleså¾—åˆ°çš„é«˜çº§åˆ†æä¿¡æ¯ï¼ˆé€šè¿‡å·¥å…·çš„ç‰¹å®šå‡½æ•°è·å¾—çš„è¾“å‡ºä¿¡æ¯ï¼‰ï¼Œè¿™ä¸ªå†…éƒ¨å·¥å…·å¯ä»¥è®©æˆ‘ä»¬åœ¨å†…éƒ¨æ„å»ºçš„å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¿æŒè”é€šã€‚æ­¤å¤–ï¼ŒWafflesè¿˜å…·å¤‡å…¶ä»–åŠŸèƒ½ï¼Œå¦‚åœ¨æµ‹è¯•è¿‡ç¨‹ä¸­è§¦å‘è°ƒè¯•ã€æ£€æŸ¥æ¸¸æˆå†…éƒ¨æ•°æ®å¦‚å¯¼èˆªåˆ†æ ¼å’Œæš‚åœæˆ–è€…å‡ç¼“æ¸¸æˆè¿‡ç¨‹ã€‚\n\n![](http://7xrgsx.com1.z0.glb.clouddn.com/Waffles.png)\nWafflesæˆªå›¾\n\nWafflesæä¾›äº†ä¸€ä¸ªå®æ—¶å±•ç¤ºç•Œé¢ï¼Œå¹¶æä¾›è¯¦ç»†çš„æ€§èƒ½ä¿¡æ¯ã€‚ä¸Šå›¾æ˜¯Waffleså¦‚ä½•å±•ç°å®¢æˆ·ç«¯æ€§èƒ½è¡¨ç°çš„ç»å…¸ä¾‹å­ï¼Œä¸Šè¾¹å›¾å½¢ï¼ˆç»¿è‰²æŸ±çŠ¶å›¾ï¼‰ä»¥æ¯«ç§’ä¸ºå•ä½è¡¨ç¤ºäº†å¸§ç‡â€”â€”è¶Šé«˜çš„æŸ±çŠ¶å›¾è¡¨ç¤ºè¶Šä½çš„å¸§ç‡ã€‚éå¸¸æ…¢çš„å¸§ç‡åœ¨æ¸¸æˆä¸­æ˜¯å¯ä»¥æ„Ÿå—å¾—åˆ°çš„ã€‚æŸ±çŠ¶å›¾ä¸‹é¢æ˜¯é‡è¦åŠŸèƒ½çš„åˆ†å±‚è§†å›¾ï¼Œé€šè¿‡ç‚¹å‡»ä»»ä½•ç»¿è‰²æŸ±çŠ¶å›¾ï¼Œå·¥ç¨‹å¸ˆéƒ½ä¼šçœ‹åˆ°å½±å“è¯¥å¸§ç‡çš„è¯¦ç»†ä¿¡æ¯ã€‚é€šè¿‡è¿™é‡Œï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºäº›ç«¯å€ªï¼Œå³å“ªéƒ¨åˆ†ä»£ç è¿è¡Œæ—¶å¯¼è‡´æ€§èƒ½è¾ƒå·®çš„å…³é”®ã€‚\n\næˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªç®€å•çš„å®åœ¨ä»£ç åº“å†…æ‰‹å·¥æ£€æµ‹ä¸€äº›é‡è¦å‡½æ•°æ¥æä¾›è¿™ä»½æ€§èƒ½ç›¸å…³çš„ä¿¡æ¯ã€‚åœ¨å¯¹å¤–å‘å¸ƒçš„æ¸¸æˆç‰ˆæœ¬ä¸­ï¼Œè¿™ä¸ªå®å¹¶æ²¡æœ‰è¢«æ‰“åŒ…ç¼–è¯‘ï¼Œä½†åœ¨æµ‹è¯•ç‰ˆæœ¬æ‰“åŒ…ä¸­ï¼Œè¿™ä¸ªå®ä½œä¸ºä¸€ä¸ªå¾ˆå°çš„classå­˜åœ¨ï¼Œå®ƒåˆ›å»ºäº†ä¸€ä¸ªäº‹ä»¶ï¼Œå­˜æ”¾äºé…ç½®æ–‡ä»¶ç¼“å†²åŒºã€‚è¯¥äº‹ä»¶åŒ…å«ä¸€ä¸ªå­—ç¬¦ä¸²è¯†åˆ«ç ã€ä¸€ä¸ªçº¿ç¨‹IDã€ä¸€ä¸ªæ—¶é—´æˆ³å’Œå…¶ä»–å¿…è¦çš„ä¿¡æ¯ï¼ˆæ¯”å¦‚å®ƒè¿˜å¯ä»¥å­˜å‚¨åœ¨å…¶ç”Ÿå‘½å‘¨æœŸå†…æ‰€æœ‰å‘ç”Ÿçš„å†…å­˜é…ç½®æ•°ï¼‰ã€‚å½“å¯¹è±¡è¶…å‡ºèŒƒå›´åï¼Œææ„å™¨ä¼šåœ¨é…ç½®ç¼“å†²åŒºä¸­æ›´æ–°è¯¥äº‹ä»¶è‡ªæ„é€ ä»¥æ¥çš„è¿è¡Œæ—¶é—´ã€‚åœ¨éšåçš„æ—¶é—´ï¼Œå¯ä»¥è¾“å‡ºå’Œè§£ææ­¤é…ç½®æ–‡ä»¶ç¼“å†²åŒºâ€”â€”ç†æƒ³çš„æƒ…å†µæ˜¯åœ¨å¦ä¸€ä¸ªè¿›ç¨‹è¿›è¡Œä»¥å°½é‡å‡å°‘å¯¹æ¸¸æˆæœ¬èº«çš„å½±å“ã€‚\n\n![](http://7xrgsx.com1.z0.glb.clouddn.com/ChromeTracing1.png)\nChrome Tracing\n\nåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†åˆ†æç¼“å†²åŒºè¾“å‡ºåˆ°æ–‡ä»¶ï¼Œå¹¶ä¸”è¯»å…¥åˆ°æ„å»ºåœ¨Chromeæµè§ˆä¸­å¯è§†åŒ–å·¥å…·ä¸­ï¼ˆå…³äºè·Ÿè¸ªå·¥å…·çš„æ›´å¤šä¿¡æ¯ï¼Œå¯ä»¥ç‚¹å‡»[è¿™é‡Œ](https://github.com/catapult-project/catapult/wiki/Trace-Viewer-Getting-Started)ï¼Œä½ å¯ä»¥åœ¨è‡ªå·±çš„Chromeæµè§ˆå™¨ä¸­é€šè¿‡åœ¨åœ°å€æ æ•²å…¥\"chrome://tracing/\"è¿›è¡Œå°è¯•ã€‚è¿™ä¸ªæ‰©å±•ç¨‹åºè¢«è®¾è®¡ç”¨æ¥è¿›è¡Œç½‘é¡µæ€§èƒ½åˆ†æï¼Œè¾“å…¥æ ¼å¼æ—¶JSONï¼Œæ‰€ä»¥ä½ å¯ä»¥è½»æ¾çš„æ ¹æ®ä½ è‡ªå·±çš„æ•°æ®æ„é€ è¾“å…¥ï¼‰ã€‚é€šè¿‡å›¾å½¢åŒ–åçš„ç»“æœï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å“ªäº›æ˜¯æ‰§è¡Œè¾ƒæ…¢çš„å‡½æ•°ï¼Œæˆ–è€…åœ¨é‚£é‡Œä¸æ–­æœ‰å¤§é‡çš„å°å‡½æ•°è¢«è°ƒç”¨ï¼šè¿™äº›éƒ½æ˜¯æ¬¡ä¼˜ä»£ç çš„è¿¹è±¡ã€‚\n\nè®©æˆ‘æ¥å±•ç¤ºè¯¦ç»†æ“ä½œï¼šä¸Šé¢çš„è§†å›¾æ˜¯Chrome Tracingçš„è§†å›¾ï¼Œå›¾ä¸­å±•ç¤ºäº†å®¢æˆ·ç«¯ä¸Šä¸¤ä¸ªè¿è¡Œçš„çº¿ç¨‹ã€‚ä¸Šéƒ¨åˆ†çš„æ˜¯ä¸»çº¿ç¨‹ï¼Œæ‰§è¡Œå¤§å¤šæ•°çš„å¤„ç†å·¥ä½œï¼Œåº•éƒ¨çš„æ˜¯ç²’å­çº¿ç¨‹ï¼Œç”¨æ¥æ‰§è¡Œç²’å­å¤„ç†ã€‚æ¯ä¸€ä¸ªç€è‰²çš„æ¨ªæ¡å‡å¯¹åº”ä¸€ä¸ªå‡½æ•°ï¼Œæ¨ªæ¡çš„é•¿åº¦æŒ‡ç¤ºäº†å…¶æ‰§è¡Œæ—¶é—´ã€‚è¢«è°ƒç”¨çš„å‡½æ•°ç”±ç«–ç›´æ ˆç»“æ„å±•ç¤ºï¼Œçˆ¶å‡½æ•°åœ¨å­å‡½æ•°ä¹‹ä¸Šã€‚è¿™ä¸ªå·¥å…·æä¾›ç»™æˆ‘ä»¬ä¸€ç§éå¸¸ç¥å¥‡æ–¹å¼æ¥å¯è§†åŒ–æ‰§è¡Œå¤æ‚åº¦ä»¥åŠå¸§çš„ç­¾åæ—¶é—´ã€‚å½“æˆ‘ä»¬å‘ç°ä¸€ä¸ªæ¬¡ä¼˜ä»£ç åŒºåŸŸï¼Œæˆ‘ä»¬å¯ä»¥æ”¾å¤§ç²’å­åŒºåŸŸä»¥æ±‚æŸ¥çœ‹æ›´å¤šç»†èŠ‚ã€‚\n\n![](http://7xrgsx.com1.z0.glb.clouddn.com/ChromeTracing2.png)\nChrome Tracingæ”¾å¤§æ•ˆæœå›¾\n\nè®©æˆ‘ä»¬æ”¾å¤§å›¾å½¢ä¸­é—´éƒ¨åˆ†ã€‚ä»ä¸Šé¢çš„çº¿ç¨‹ä¸­æˆ‘å¯ä»¥çœ‹åˆ°ä¸€ä¸ªéå¸¸åœºçš„ç­‰å¾…ï¼Œåªæœ‰å½“ä¸‹é¢çš„ç²’å­æ¨¡æ‹Ÿå‡½æ•°æ‰§è¡Œå®Œæ¯•æ‰ç»“æŸã€‚æ¨¡æ‹ŸåŠŸèƒ½åŒ…å«å¤§é‡ä¸åŒå‡½æ•°ï¼ˆç€è‰²çš„æ¨ªæ¡ï¼‰çš„è°ƒç”¨ã€‚æ¯ä¸€ç±»éƒ½æ˜¯ç²’å­ç³»ç»Ÿçš„æ›´æ–°åŠŸèƒ½ï¼Œç”¨äºå°†ä½ç½®ã€ æ–¹å‘å’Œæ¯ä¸ªç²’å­åœ¨è¯¥ç³»ç»Ÿä¸­å…¶ä»–å¯è§æ€§çŠ¶æ€è¿›è¡Œæ›´æ–°ã€‚ä¸€ä¸ªæ˜æ˜¾çš„ä¼˜åŒ–æ–¹å¼æ˜¯å°†æ¨¡æ‹Ÿå‡½æ•°æ”¹é€ æˆå¤šçº¿ç¨‹æ–¹å¼ï¼Œå³å¯è¿è¡Œåœ¨ä¸»çº¿ç¨‹ä¸­ï¼Œä¹Ÿå¯ä»¥åœ¨ç²’å­çº¿ç¨‹ä¸­æ‰§è¡Œï¼Œå¯¹äºæœ¬ä¾‹ï¼Œæˆ‘ä»¬ä»…å…³æ³¨ä¸ä¼˜åŒ–æ¨¡æ‹Ÿä»£ç æœ¬èº«ã€‚\n\næ—¢ç„¶ç°åœ¨æˆ‘ä»¬çŸ¥é“å»ä½•å¤„æŸ¥çœ‹æ€§èƒ½é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥åˆ‡æ¢åˆ°æ ·æœ¬åˆ†æã€‚è¿™ç±»åˆ†æå‘¨æœŸæ€§çš„è¯»å–å’Œå­˜å‚¨[ç¨‹åºè®¡æ•°å™¨](https://en.wikipedia.org/wiki/Program_counter)å’Œè¿è¡Œä¸­çš„è¿›ç¨‹çš„æ ˆä¿¡æ¯ï¼ˆå¯é€‰ï¼‰ã€‚ä¸€æ®µæ—¶é—´åï¼Œè¿™ä¸ªä¿¡æ¯å¯ä»¥ç»™å‡ºä¸€ä¸ªéšæœºæ¦‚è¿°ï¼Œæ¦‚è¿°ä¸­æè¿°äº†ä»£ç åº“å†…çš„è€—æ—¶ã€‚è¾ƒæ…¢çš„å‡½æ•°ä¼šå¾—åˆ°æ›´å¤šçš„æ ·æœ¬ï¼Œæ›´æœ‰ç”¨çš„æ˜¯ï¼Œç”¨æ—¶æœ€é•¿çš„å•ä¸ªå‡½æ•°ä¼šç´¯ç§¯æ›´å¤šçš„æ ·æœ¬ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä¸ä»…å¯ä»¥çœ‹åˆ°å“ªäº›å‡½æ•°æ‰§è¡Œæœ€æ…¢ï¼ŒåŒæ—¶å¯ä»¥çœ‹åˆ°å“ªå‡ è¡Œä»£ç æ‰§è¡Œæœ€æ…¢ã€‚å¦‚ä»Šæœ‰å¾ˆå¤šä¸é”™çš„æ ·æœ¬åˆ†æå·¥å…·å¯ä¾›é€‰æ‹©ï¼Œä»å…è´¹çš„[Very Sleepy](http://www.codersnotes.com/sleepy)åˆ°æ›´å¤šç‰¹æ€§æ”¯æŒçš„å•†ä¸šè½¯ä»¶ï¼Œå¦‚Intelçš„[VTune](https://software.intel.com/en-us/intel-vtune-amplifier-xe)ã€‚\n\né€šè¿‡åœ¨æ¸¸æˆå®¢æˆ·ç«¯ä¸Šè¿è¡ŒVTuneæ¥æ£€æŸ¥ç²’å­çº¿ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¦‚ä¸‹åˆ—è¡¨ä¸­è¿è¡Œæœ€æ…¢çš„å‡½æ•°ã€‚\n\n![](http://7xrgsx.com1.z0.glb.clouddn.com/VTune.PNG)\n\nVTuneä¸­çš„Hot Functions\n\nä¸Šé¢çš„è¡¨æ ¼å±•ç°äº†ä¸€äº›ç²’å­ç›¸å…³çš„å‡½æ•°ã€‚ä½œä¸ºå‚è€ƒï¼Œæœ€ä¸Šé¢ä¸¤ä¸ªè¾ƒå¤§çš„å‡½æ•°ç”¨äºä¸ºæ¯ä¸ªç²’å­æ›´æ–°çŸ©é˜µå’Œä½ç½®ã€æ–¹å‘ç›¸å…³çš„çŠ¶æ€ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œæˆ‘ä»¬æ¥çœ‹åœ¨ç¬¬ä¸‰å’Œç¬¬ä¹é¡¹AnimatedVariableWithRandomFactor<>ä¸­çš„Evaluateå‡½æ•°ï¼Œå‡½æ•°å¾ˆå°ï¼ˆå¹¶ä¸”å®¹æ˜“ç†è§£ï¼‰ï¼Œä½†æ˜¯ç›¸å¯¹è€Œè¨€æ¯”è¾ƒè€—æ—¶ã€‚\n\n## æ­¥éª¤2:ç†è§£\n\nç°åœ¨ï¼Œæˆ‘ä»¬é€‰æ‹©äº†ä¸€ä¸ªéœ€è¦ä¼˜åŒ–çš„å‡½æ•°ï¼Œåˆ™éœ€è¦ç†è§£è¿™ä¸ªå‡½æ•°è¦åšçš„äº‹æƒ…å’Œä¸ºä»€ä¹ˆè¿™ä¹ˆåšçš„åŸå› ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼ŒAnimatedVariablesè¢«è‹±é›„è”ç›Ÿç¾æœ¯å¸ˆç”¨æ¥å®šä¹‰ç²’å­ç‰¹å¾æ˜¯å¦‚ä½•éšç€æ—¶é—´å˜åŒ–ã€‚ä¸€æ—¦ä¸€ä¸ªç¾æœ¯å¸ˆä¸ºä¸€ä¸ªç‰¹å®šçš„ç²’å­å¯è§æ€§æŒ‡å®šå…³é”®å¸§å€¼åï¼Œä»£ç ä¸­ä¾¿ä¼šæ’å…¥è¿™äº›æ•°æ®æ¥äº§ç”Ÿä¸€æ¡æ›²çº¿ã€‚æ’å€¼æ–¹æ³•æ˜¯çº¿æ€§æ’å€¼æˆ–ä¸€é˜¶æˆ–äºŒæ¬¡é›†æˆã€‚åŠ¨ç”»æ›²çº¿è¢«å¤§é‡çš„ä½¿ç”¨â€”â€”å°½åœ¨å¬å”¤å¸ˆå³¡è°·ï¼ˆè¯‘è€…æ³¨ï¼šè‹±é›„è”ç›Ÿçš„åœ°å›¾ä¹‹ä¸€ï¼Œä¹Ÿæ˜¯æœ€çƒ­é—¨çš„åœ°å›¾ï¼‰ä¸­å°±æœ‰æ¥è¿‘40000çš„åŠ¨ç”»æ›²çº¿â€”â€”æ¶µç›–äº†ä»ç²’å­é¢œè‰²æ‰©å±•åˆ°æ—‹è½¬é€Ÿåº¦æ–¹æ–¹é¢é¢ã€‚Evaluateå‡½æ•°åœ¨æ¯åœºæ¸¸æˆä¸­ä¼šè¢«è°ƒç”¨æ•°ä»¥äº¿è®¡æ¬¡ã€‚æ­¤å¤–ï¼ŒLOLä¸­çš„ç²’å­ç³»ç»Ÿæ˜¯æ¸¸æˆä½“éªŒä¸­å¾ˆé‡è¦çš„ä¸€éƒ¨åˆ†ï¼Œæ‰€ä»¥å®ƒä»¬çš„è¡Œä¸ºä¸èƒ½åšå‡ºä»»ä½•æ”¹å˜ã€‚\n\nè¿™ä¸ªç±»å…¶å®å·²ç»åšè¿‡äº†ä¼˜åŒ–ï¼Œé€šè¿‡æŸ¥è¡¨çš„æ–¹å¼ï¼Œå¯¹æ¯ä¸ªtimestepæ‰€éœ€è¦çš„å€¼éƒ½é¢„å…ˆè®¡ç®—è¿‡å¹¶å­˜å‚¨åœ¨ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œæ‰€ä»¥åœ¨è¯»å–è¿™äº›æ•°å€¼æ—¶ä¸å¿…å†æ¬¡è®¡ç®—ï¼Œæ‰€ä»¥å‡å°‘äº†è®¡ç®—çš„è€—æ—¶ã€‚è¿™æ˜¯ä¸€ä¸ªæ˜æ™ºçš„é€‰æ‹©ï¼Œå› ä¸ºæ›²çº¿çš„ä¸€é˜¶å’ŒäºŒæ¬¡é›†æˆæ˜¯ä¸€ä¸ªæ˜‚è´µçš„è¿›ç¨‹ã€‚ä¸ºæ¯ä¸ªç³»ç»Ÿä¸­çš„æ¯ä¸ªç²’å­ä¸Šçš„åŠ¨ç”»å˜é‡è¿›è¡Œè¿™ä¸ªæ“ä½œä¼šä½¿å¾—å¤„ç†è¿‡ç¨‹å¤§å¤§å‡å°‘ã€‚\n\n![](http://7xrgsx.com1.z0.glb.clouddn.com/graphpointgraphsmaller.png)\n\nåŠ¨ç”»å˜é‡æ›²çº¿çš„æŸ¥è¯¢è¡¨\n\nåœ¨æŸ¥è¯¢æ€§èƒ½é—®é¢˜æ—¶ï¼Œé€šè¿‡æ‰¾åˆ°æœ€åçš„åœºæ™¯æ¥æ”¾å¤§é—®é¢˜å¾€å¾€æ˜¯ä¸€ä¸ªååˆ†æœ‰ç”¨çš„æŠ€å·§ã€‚ä¸ºäº†æ¨¡æ‹Ÿç²’å­å¤„ç†å‡ç¼“ï¼Œæˆ‘å¼€å§‹äº†ä¸€åœºå•ä¸ªç©å®¶çš„æ¸¸æˆï¼Œæ¸¸æˆä¸­æœ‰9ä¸ªä¸­æœŸçº§åˆ«çš„ç”µè„‘ï¼Œå¹¶ä¸”åœ¨ä¸‹è·¯æŒ‘èµ·äº†ä¸€åœºæ··ä¹±çš„å›¢æˆ˜ã€‚æ¥ç€ï¼Œæˆ‘åœ¨å›¢æˆ˜æœŸé—´åœ¨å®¢æˆ·ç«¯ä¸Šè¿è¡Œäº†VTuneï¼Œè®°å½•äº†å¤§é‡çš„æ•°æ®ç”¨äºåˆ†æã€‚è¿™äº›æ•°æ®ç»™å‡ºäº†åœ¨Evaluateä»£ç ä¸­çš„å½’å› æ ·æœ¬ï¼ˆå¦‚ä¸‹å›¾æ‰€ç¤ºï¼‰ã€‚\n\nä¸‹å›¾ä¸­æˆ‘æˆªå–äº†ç¬¬91-95è¡Œä»£ç ï¼Œä¸ºäº†æ›´å¥½çš„è¯´æ˜ç¬¬90è¡Œè°ƒç”¨Evaluateçš„æƒ…å½¢ã€‚\n\n![](http://7xrgsx.com1.z0.glb.clouddn.com/VTune2.png)\n\nVTuneä¸­çš„åˆ†ææ ·æœ¬\n\nå¯¹äºä¸ç†Ÿæ‚‰VTuneçš„äººæ¥è¯´ï¼Œå…¶å®è¿™ä¸ªè¯•å›¾å±•ç¤ºçš„å°±æ˜¯è§£ææœŸé—´æ‰€æ”¶é›†çš„ä»£ç ã€‚å³ä¾§çš„çº¢è‰²æ¨ªæ¡æŒ‡ç¤ºäº†å‘½ä¸­æ¬¡æ•°ï¼Œæ¨ªæ¡è¶Šé•¿å°±æ„å‘³ç€å‘½ä¸­æ¬¡æ•°è¶Šå¤šï¼Œè€Œå‘½ä¸­æ¬¡æ•°è¶Šå¤šè¡¨ç¤ºè¿™ä¸€è¡Œæ‰§è¡Œè¶Šæ…¢ã€‚æŒ¨ç€æ¨ªæ¡çš„æ—¶é—´æ˜¯å¤„ç†è¿™è¡Œä»£ç æ‰€ç”¨çš„é¢„ä¼°æ—¶é—´ã€‚ä½ ä¹Ÿå¯ä»¥å°±æŸä¸ªç‰¹å®šå‡½æ•°çš„åˆ°ä¸€ä¸ªå‡†ç¡®è§†å›¾æ¥æŸ¥çœ‹æ˜¯ä»€ä¹ˆå› ç´ â€œè´¡çŒ®â€äº†æ‰§è¡Œç¼“æ…¢ã€‚\n\nå¦‚æœå°±çº¢è‰²çš„æ¨ªæ¡æ¥çœ‹ï¼Œç¬¬95è¡Œä»£ç å°±æ˜¯é—®é¢˜æ‰€åœ¨ã€‚ä½†æ˜¯è¿™æ®µä»£ç æ‰€åšçš„ä»…ä»…æ˜¯åœ¨Vector3fä¸­å¤åˆ¶å‡ºæ‹¼å†™é”™è¯¯çš„æŸ¥è¯¢è¡¨ï¼Œä¸ºä»€ä¹ˆè¿™ä¸ªå‡½æ•°æˆä¸ºæœ€æ…¢çš„éƒ¨åˆ†å‘¢ï¼Ÿä¸ºä»€ä¹ˆ12å­—èŠ‚çš„å¤åˆ¶è¿™ä¹ˆæ…¢ï¼Ÿ\n\nç­”æ¡ˆåœ¨äºç°ä»£CPUè®¿é—®å†…å­˜çš„æ–¹å¼ä¸­ã€‚CPUéå¸¸å¿ å®çš„éµå¾ªäº†æ‘©å°”å®šå¾‹ï¼Œæ¯å¹´éƒ½ä¼šæé€Ÿ60%ï¼Œè€Œå†…å­˜é€Ÿåº¦æ¯å¹´çš„å¢é€Ÿåªæœ‰å¯æ€œçš„10%ã€‚\n\n![](http://7xrgsx.com1.z0.glb.clouddn.com/processor_memory_gap.jpg)\n\nå›¾å‡ºè‡ªã€Šè®¡ç®—æœºä½“ç³»ç»“æ„ï¼šé‡åŒ–ç ”ç©¶æ–¹æ³•ã€‹By John L. Hennessy, David A. Patterson, Andrea C. Arpaci-Dusseau\n\nç¼“å­˜å¯ä»¥å‡å°æ€§èƒ½å·®è·ï¼Œè¿è¡Œè‹±é›„è”ç›Ÿçš„å¤§å¤šæ•°CPUéƒ½æœ‰3çº§ç¼“å­˜ï¼Œä¸€çº§ç¼“å­˜æœ€å¿«ä½†å®¹é‡æœ€å°ï¼Œä¸‰çº§ç¼“å­˜æœ€æ…¢ä½†å®¹é‡ç›¸å¯¹æœ€å¤§ã€‚ä»ä¸€çº§ç¼“å­˜è¯»å–æ•°æ®åªéœ€è¦4ä¸ªå‘¨æœŸï¼Œè€Œè¯»å–ä¸»å†…å­˜å´éœ€è¦å¤§çº¦300ä¸ªå‘¨æœŸç”šè‡³æ›´å¤šã€‚ä½ å¯ä»¥åœ¨300ä¸ªå‘¨æœŸå†…åšå¤§é‡å¤„ç†å·¥ä½œã€‚\n\næœ€åˆæŸ¥è¯¢è¡¨çš„è§£å†³æ–¹æ¡ˆçš„é—®é¢˜åœ¨äºï¼Œè™½ç„¶ä»æŸ¥è¯¢è¡¨ä¸­çš„é¡ºåºè¯»å–å€¼çš„æ“ä½œæ˜¯éå¸¸å¿«çš„(ç”±äºç¡¬ä»¶é¢„å–)ï¼Œä½†æ˜¯æˆ‘ä»¬æ­£åœ¨å¤„ç†çš„é¢—ç²’å¹¶ä¸æ˜¯æŒ‰ç…§æ—¶é—´é¡ºåºå­˜å‚¨ï¼Œæ‰€ä»¥å®é™…æŸ¥æ‰¾é¡ºåºæ˜¯éšæœºçš„ã€‚è¿™é€šå¸¸ä¼šå¯¼è‡´CPUç­‰å¾…ä»ä¸»å­˜å‚¨è®¾å¤‡è¯»å–æ•°æ®æ—¶äº§ç”Ÿå»¶è¿Ÿã€‚è™½ç„¶300ä¸ªå‘¨æœŸæ¯”ä¸€çº§æˆ–è€…äºŒçº§é›†æˆä»£ä»·æ›´ä½ï¼Œä½†æˆ‘ä»¬è¿˜æ˜¯éœ€è¦çŸ¥é“è¿™ä¸ªå‡½æ•°åœ¨æ¸¸æˆä¸­çš„ä½¿ç”¨é¢‘ç‡å¦‚ä½•ï¼Œå› ä¸ºæ¯•ç«Ÿè¿™ä¸ªå‡½æ•°åœ¨æ¸¸æˆä¸­è¢«å¤§é‡çš„ä½¿ç”¨ã€‚\n\nä¸ºäº†æ¢æ±‚çœŸç›¸ï¼Œæˆ‘ä»¬åœ¨ä»£ç ä¸­æ·»åŠ ä¸€äº›é¢å¤–çš„å†…å®¹æ¥æ”¶é›†AnimatedVariablesçš„æ•°é‡å’Œç±»å‹ã€‚ç»“æœè¡¨ç¤ºï¼Œåœ¨38000ä¸ªAnimatedVariablesä¸­ï¼š\n\n* 37500ä¸ªæ˜¯çº¿æ€§æ’å€¼ï¼›100ä¸ªæ˜¯ä¸€çº§ï¼Œ400ä¸ªæ˜¯äºŒçº§\n* 31500ä¸ªä»…æœ‰ä¸€ä¸ªå…³é”®å€¼ï¼›2500ä¸ªæœ‰3ä¸ªå…³é”®å€¼ï¼›1500æœ‰2ä¸ªæˆ–è€…4ä¸ªå…³é”®å€¼\n\næ‰€ä»¥æœ€å¸¸è§çš„é€”å¾„æ˜¯é’ˆå¯¹å•é”®å€¼ã€‚å› ä¸ºä»£ç æ€»æ˜¯ç”ŸæˆæŸ¥è¯¢è¡¨ï¼Œè¿™å°±äº§ç”Ÿäº†ä¸€ä¸ªä¸éœ€è¦ä¼ æ’­çš„å•æ•°å€¼è¡¨ã€‚ä¹Ÿå°±æ„å‘³ç€æ¯æ¬¡æŸ¥è¯¢ï¼ˆæ€»æ˜¯è¿”å›ç›¸åŒå€¼ï¼‰ä¸€èˆ¬ä¼šäº§ç”Ÿç¼“å­˜ä¸¢å¤±ï¼Œè¿›è€Œå¯¼è‡´å¤§é‡çš„å†…å­˜å’ŒCPUå‘¨æœŸæµªè´¹ã€‚\n\né€šå¸¸æ¥è®²ï¼Œä»£ç æˆä¸ºç“¶é¢ˆä¸€åŠæœ‰å››ä¸ªåŸå› ï¼š\n\n* è°ƒç”¨é¢‘ç‡è¿‡é«˜\n* ç®—æ³•é€‰æ‹©ä¸ä½³ï¼šå¦‚O(n^2)vsO(n)\n* åšäº†ä¸å¿…è¦çš„å·¥ä½œæˆ–è€…å¤ªé¢‘ç¹çš„æ‰§è¡Œå¿…è¦çš„æ“ä½œ\n* æ•°æ®è¾ƒå·®ï¼šæˆ–è€…æ˜¯æ•°æ®é‡å¤ªå¤§ï¼Œæˆ–è€…æ˜¯æ•°æ®åˆ†å¸ƒå’Œè®¿é—®æ¨¡å¼è¾ƒå·®\n\nè¿™é‡Œäº§ç”Ÿçš„é—®é¢˜åŸå› ä¸æ˜¯ç”±äºä»£ç è®¾è®¡ä¸å¥½æˆ–è€…å¼€å‘è´¨é‡å¯¼è‡´ã€‚è§£å†³æ–¹æ¡ˆæ˜¯å¥½çš„ï¼Œä½†æ˜¯åœ¨è¢«ç¾æœ¯å¸ˆå¤§é‡ä½¿ç”¨ä¹‹åï¼Œæ™®é€šè·¯å¾„æ˜¯é’ˆå¯¹å•å€¼çš„ï¼Œè€Œè¿™äº›ç®€å•çš„é—®é¢˜åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­æ˜¯å¾ˆä¸æ˜æ˜¾çš„ã€‚\n\né¡ºä¾¿è¯´ä¸€å¥ï¼Œæˆ‘å­¦ä¼šäº†ä½œä¸ºä¸€åç¨‹åºå‘˜æœ€é‡è¦çš„äº‹æƒ…ä¹‹ä¸€ä¾¿æ˜¯å°Šé‡ä½ æ­£åœ¨å¤„ç†çš„ä»£ç ã€‚ä»£ç æœ‰å¯èƒ½çœ‹èµ·å¾ˆç–¯ç‹‚ï¼Œä½†æ˜¯è¿™æ ·å†™çš„ç›®çš„å¯èƒ½æ˜¯åŸºäºä¸€ä¸ªå¥½çš„å‡ºå‘ç‚¹ã€‚åœ¨æ²¡æœ‰å®Œå…¨ç†è§£ä»£ç å¦‚ä½•ä½¿ç”¨å’Œå…¶ä¸ºä½•è®¾è®¡ä¹‹å‰ä¸è¦é”™è¯¯çš„è®¤ä¸ºè¿™äº›ä»£ç æ˜¯ä¸‘é™‹æ„šè ¢çš„ã€‚\n\n![](http://7xrgsx.com1.z0.glb.clouddn.com/codesoftly_comic.jpg)\n\næ¥è‡ªï¼š[http://codesoftly.com/2010/03/ha-code-entropy-explained.html](http://codesoftly.com/2010/03/ha-code-entropy-explained.html)\n\n## æ­¥éª¤3:è¿­ä»£\n\nç°åœ¨æˆ‘ä»¬äº†è§£äº†å“ªéƒ¨åˆ†ä»£ç æ‰§è¡Œè¾ƒæ…¢ã€è¿™éƒ¨åˆ†ä»£ç æœ¬æ„æ˜¯ä»€ä¹ˆå’Œä¸ºä½•æ‰§è¡Œè¾ƒæ…¢ï¼Œæ˜¯æ—¶å€™å¼€å§‹æ„æƒ³è§£å†³æ–¹æ¡ˆäº†ã€‚æ¯ä¸ªå¸¸è§çš„æ‰§è¡Œè·¯å¾„éƒ½æ˜¯ä¸ºå•ç‹¬å˜é‡è®¾è®¡ï¼Œæˆ‘ä»¬è¿˜çŸ¥é“æ•°é‡å°‘çš„é”®çš„çº¿æ€§æ’å€¼éå¸¸å¿«ï¼ˆåœ¨å°‘é‡é«˜é€Ÿç¼“å­˜ä¸­ä½œç®€å•çš„è®¡ç®—ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨è€ƒè™‘è¿™ç§æƒ…å†µçš„åŸºç¡€ä¸Šè¿›è¡Œé‡æ–°è®¾è®¡ã€‚æœ€åï¼Œæˆ‘ä»¬å¯ä»¥å›åˆ°å‰é¢ç½•è§é›†æˆæ›²çº¿çš„é¢„è®¡ç®—æŸ¥è¯¢è¡¨ä¸Šã€‚\n\nåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå½“æˆ‘ä»¬ä¸ä½¿ç”¨æŸ¥è¯¢è¡¨æ—¶ï¼Œé¦–å…ˆæ„é€ è¿™äº›è¡¨æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œæ‰€ä»¥ä¼šé‡Šæ”¾å¤§é‡æ„ä¹‰éå‡¡çš„å†…å­˜ï¼ˆå¤§å¤šæ•°è¡¨å…·æœ‰256ä¸ªæ¡ç›®æˆ–è€…æ›´å¤šï¼Œæ¯ä¸ªæ¡ç›®å¯è¾¾12å­—èŠ‚çš„å¤§å°ï¼Œè¿™ç›¸å½“äºå¤§çº¦æ¯å¼ è¡¨3kbï¼‰ã€‚æ‰€ä»¥ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨é¢å¤–çš„ä¸€äº›å†…å­˜æ¥æ·»åŠ ç¼“å­˜çš„æ¡ç›®å’Œå­˜å‚¨çš„å•å€¼çš„æ•°é‡ã€‚\n\nä¹‹å‰çš„ä»£ç çœ‹èµ·æ¥æ˜¯è¿™ä¸ªæ ·å­çš„ï¼š\n\n```c++\ntemplate <typename T>\nclass AnimatedVariable\n{\n    // <snip>\nprivate:\n    std::vector<float> mTimes;\n    std::vector<T>     mValues;\n};\n\ntemplate <typename T>\nclass AnimatedVariablePrecomputed\n{\n    // <snip>\nprivate:\n    std::vector<T> mPrecomutedValues;\n};\n\n```\nAnimatedVariablePrecomputedå¯¹è±¡åœ¨AnimatedVariableä¸­è¿›è¡Œæ„é€ ï¼Œä»å®ƒçš„æŒ‡å®šå¤§å°æ’å€¼å’Œæ„å»ºä¸€ä¸ªè¡¨ã€‚Evaluate()ä»…åœ¨é¢„è®¡ç®—å¯¹è±¡ä¸­è¢«è°ƒç”¨ã€‚\n\næˆ‘ä»¬ä¿®æ”¹äº†ä¸€ä¸‹AnimatedVariableç±»ï¼Œç°åœ¨çœ‹èµ·æ¥æ˜¯è¿™ä¸ªæ ·å­çš„ï¼š\n\n```c++\ntemplate <typename T>\nclass AnimatedVariable\n{\n    // <snip>\nprivate:\n    int mNumValues;\n    T mSingleValue;\n\n    struct Key\n    {\n        float mTime;\n        T     mvalue;\n    };\n    std::vector<Key> mKeys;\n    AnimatedVariablePrecomputed<T> *mPrecomputed;\n};\n\n```\næˆ‘ä»¬æ·»åŠ äº†ä¸€ä¸ªç¼“å­˜å€¼mSingleValueï¼Œå’Œä¸€ä¸ªæ•´æ•°mNumValuesï¼Œç”¨äºå‘Šè¯‰æˆ‘ä»¬ä½•æ—¶æ‰ä½¿ç”¨mSingleValueã€‚å¦‚æœmNumValuesæ˜¯1ï¼ˆå³å¯¹åº”å•å€¼çš„æƒ…å†µï¼‰ï¼ŒEvaluate()ä¼šç›´æ¥è¿”å›mSingleValueçš„å€¼â€”â€”ä¸éœ€è¦å…¶ä»–å¤šä½™çš„å¤„ç†ã€‚ä½ è¿˜å¯ä»¥æ³¨æ„åˆ°æ’å…¥æ—¶é—´å’Œå€¼æ„é€ çš„Keyèƒ½å¤Ÿå‡å°‘ç¼“å­˜æœªå‘½ä¸­çš„æƒ…å†µã€‚\n\næŒ‡å‘æ­¤ç±»çš„æ•°æ®å‘é‡å¤§å°ç°åœ¨èŒƒå›´ä»24åˆ°36ä¸ªå­—èŠ‚ä¸ç­‰ï¼Œå…·ä½“å–å†³äºæ¨¡æ¿ç±»å‹ï¼ˆåŒæ—¶ä¹Ÿä¾èµ–ä¸å¹³å°ï¼Œstd::vector<>çš„å¤§å°ä¹Ÿä¼šä¸åŒï¼‰ã€‚\n\nEvaluate()ä¹‹å‰çš„ä»£ç çœ‹èµ·æ¥æ˜¯è¿™æ ·å­çš„ï¼š\n\n```c++\ntemplate <typename T>\nT AnimatedVariablePrecomputed<T>::Evaluate(float time) const\n{\n    in numValues = mPrecomputedValues.size();\n    RIOT_ASSERT(numValues > 1);\n\n    int index = static_cast<int>(time * numValues);\n    // clamp to valid table entry to handle the 1.0 boundary or out of bounds input\n    index = Clamp(index, 0, numValues - 1);\n    return mPrecomputedValues[index];\n}\n```\n\nä¿®æ”¹åçš„Evaluate()æ–¹æ³•ä»£ç å¦‚ä¸‹ï¼Œè¿™æ˜¯åœ¨VTuneä¸­å±•ç¤ºçš„ã€‚ä½ å¯ä»¥çœ‹åˆ°ä¸‰ä¸ªå¯èƒ½çš„æ‰§è¡Œcaseï¼šå•å€¼ï¼ˆçº¢è‰²éƒ¨åˆ†ï¼‰ï¼Œçº¿æ€§æ’å€¼ï¼ˆè“è‰²éƒ¨åˆ†ï¼‰å’Œé¢„è®¡ç®—æŸ¥è¯¢ï¼ˆç»¿è‰²éƒ¨åˆ†ï¼‰ã€‚\n\n![](http://7xrgsx.com1.z0.glb.clouddn.com/VTune3.PNG)\n\nåœ¨VTuneä¸­å±•ç¤ºçš„ä¼˜åŒ–è¿‡çš„ä»£ç ç‰‡æ®µ\n\nä¿®æ”¹åçš„ä»£ç æ‰§è¡Œé€Ÿåº¦å¤§çº¦å¿«äº†3å€ï¼šåœ¨æœ€æ…¢çš„å‡½æ•°åˆ—è¡¨ä¸­è¯¥å‡½æ•°ä»ç¬¬ä¸‰ä½é™åˆ°äº†ç¬¬22ä½ï¼ä¸ä»…æ‰§è¡Œæ›´å¿«ï¼ŒåŒæ—¶è¿˜é™ä½äº†å†…å­˜çš„ä½¿ç”¨ï¼Œå¤§çº¦å‡å°‘äº†750kbã€‚è¿™è¿˜ä¸ç®—å®Œï¼Œä¸ä»…å‡½æ•°æ‰§è¡Œæ›´å¿«ï¼Œå å†…å­˜æ›´å°‘ï¼ŒåŒæ—¶æé«˜äº†çº¿æ€§æ’å€¼çš„å‡†ç¡®åº¦ã€‚å¯è°“ä¸€çŸ³ä¸‰é¸Ÿã€‚\n\nè¿™é‡Œå¹¶æ²¡æœ‰æåˆ°çš„å†…å®¹ï¼ˆå°½ç®¡æ–‡ç« å·²ç»è¶³å¤Ÿé•¿äº†ï¼‰æ˜¯æˆ‘å¦‚ä½•é€šè¿‡ä¸æ–­è¿­ä»£æ‰¾åˆ°äº†è¿™ä¸ªè§£å†³æ–¹æ¡ˆã€‚æˆ‘æœ€åˆçš„å°è¯•å‡å°‘åœ¨ç²’å­ç”Ÿå‘½å‘¨æœŸå†…æ ·æœ¬è¡¨çš„å¤§å°ã€‚è¿™ä¸ªæ–¹æ¡ˆå‡ ä¹æœ‰æ•ˆâ€”â€”ä½†æœ‰äº›ç§»åŠ¨è¾ƒå¿«çš„ç²’å­ç”±äºæ ·æœ¬è¡¨çš„å‡å°‘ï¼Œå˜çš„å‚å·®ä¸é½ã€‚å¹¸è¿çš„æ˜¯ï¼Œè¿™ä¸ªç°è±¡å¾ˆå¿«å°±è¢«å‘ç°äº†ï¼Œä½¿å¾—æˆ‘ä¾ç„¶èƒ½å¤Ÿå°†æ–¹æ¡ˆæ›´æ¢ä¸ºæœ¬æ–‡ä¸­æåˆ°çš„æ–¹æ³•ã€‚å½“ç„¶è¿˜æœ‰ä¸€äº›å…¶ä»–çš„ä»£ç ä¿®æ”¹ï¼Œä½†æ˜¯å¯¹äºæ€§èƒ½æé«˜å¹¶æ²¡æœ‰ç›´æ¥æ•ˆæœï¼Œä¹Ÿæœ‰äº›ä»£ç çš„ä¿®æ”¹ç”šè‡³é€ æˆäº†ä»£ç æ‰§è¡Œæ›´æ…¢ã€‚\n\n## æ€»ç»“\n\næœ¬æ–‡ä¸­ä»‹ç»çš„æ˜¯è‹±é›„è”ç›Ÿæ¸¸æˆä»£ç åº“ä¸­ä»£ç ä¼˜åŒ–çš„ä¸€ä¸ªå…¸å‹æ¡ˆä¾‹ã€‚è™½ç„¶å˜åŠ¨æ›´å°ï¼Œä½†æ˜¯è¿™ä¸ªæ”¹åŠ¨ä½¿å¾—å†…å­˜èŠ‚çº¦äº†750kbï¼Œç²’å­çº¿ç¨‹æ¯”è¾ƒä¹‹å‰è¿è¡Œå¿«äº†1åˆ°2æ¯«ç§’ï¼Œè¿™ä½¿å¾—ä¸»çº¿ç¨‹æ‰§è¡Œçš„æ›´å¿«ã€‚\n\nå½“ç¨‹åºå‘˜å¯»æ±‚ä¼˜åŒ–çš„æ—¶å€™ï¼Œè™½ç„¶çœ‹ä¼¼æ˜¾è€Œæ˜“è§ï¼Œä½†è¿™é‡Œæåˆ°çš„ä¸‰ä¸ªé˜¶æ®µéƒ½å¸¸å¸¸ä¼šè¢«å¿½è§†ã€‚è¿™é‡Œåªæ˜¯ä¸ºäº†å¼ºè°ƒä¸€ä¸‹ï¼š\n\n1. é‰´åˆ«ï¼šåˆ†æåº”ç”¨å¹¶æ‰¾å‡ºæ€§èƒ½æœ€å·®çš„éƒ¨åˆ†\n2. ç†è§£ï¼šç†è§£ä»£ç çš„æœ¬æ„å’Œæ‰§è¡Œç¼“æ…¢çš„åŸå› \n3. è¿­ä»£ï¼šåŸºäºä¸Šé¢ä¸¤ä¸ªé˜¶æ®µçš„åˆ°çš„æˆæœè¿›è¡Œä»£ç çš„ä¿®æ”¹ã€è¿­ä»£ï¼Œå¹¶é‡æ–°åˆ†æã€‚é‡å¤è¿™ä¸‰ä¸ªæ­¥éª¤ç›´åˆ°è¶³å¤Ÿå¿«ã€‚\n\nä¸Šé¢æåˆ°çš„è§£å†³æ–¹æ¡ˆä¸è§å¾—æ˜¯æœ€å¿«çš„è§£å†³æ–¹æ¡ˆï¼Œä½†è‡³å°‘æ–¹å‘æ˜¯æ­£ç¡®çš„â€”â€”æ€§èƒ½æå‡çš„å®‰å…¨è·¯å¾„æ˜¯é€šè¿‡è¿­ä»£æ”¹è¿›ã€‚\n\næœ¬æ–‡ä½œè€…ï¼šTony Albrecht\n\n\n\n\n\n\n\n","slug":"è‹±é›„è”ç›Ÿä¸­çš„éšæœºè¡Œä¸ºä¼˜åŒ–","published":1,"updated":"2016-03-07T06:41:10.956Z","_id":"cilhkfrf10000nohlu2kgx3mr","comments":1,"layout":"post","photos":[],"link":"","content":"<blockquote>\n<p>åŸæ–‡åœ°å€ï¼š<a href=\"http://engineering.riotgames.com/news/random-acts-optimization\" target=\"_blank\" rel=\"external\">ä¼ é€é—¨</a><br>åŸåˆ›ç¿»è¯‘ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„</p>\n</blockquote>\n<p><img src=\"http://7xrgsx.com1.z0.glb.clouddn.com/particlesheader2.png\" alt=\"\"></p>\n<p>å¯¹äºåƒè‹±é›„è”ç›Ÿè¿™æ ·ä¸æ–­æ¼”è¿›çš„äº§å“çš„å¼€å‘è€…è€Œè¨€ï¼Œéœ€è¦ä¸æ–­çš„è‡´åŠ›äºä¸ç³»ç»Ÿçš„ç†µä½œæ–—äº‰ï¼Œå› ä¸ºä»–ä»¬å°†è¶Šæ¥è¶Šå¤šçš„å†…å®¹æ·»åŠ åˆ°èµ„æºæœ‰é™çš„æœåŠ¡å™¨ä¸­ã€‚æ–°çš„å†…å®¹å¸¦äº†æ–°çš„éšæ€§æˆæœ¬â€”â€”ä¸ä»…æ˜¯æ›´å¤šçš„å®æ–½æˆæœ¬ï¼ŒåŒæ—¶ä¹ŸåŒ…æ‹¬ç”±äºåˆ›é€ äº†æ›´å¤šçš„çº¹ç†ã€ä»¿çœŸå’Œå¤„ç†é€ æˆçš„å†…å­˜å’Œæ€§èƒ½æˆæœ¬ã€‚å¦‚æœæˆ‘ä»¬å¿½ç•¥ï¼ˆæˆ–è€…é”™è¯¯ä¼°ç®—ï¼‰äº†è¿™äº›æˆæœ¬ï¼Œåˆ™æ•´ä½“æ¸¸æˆæ€§èƒ½ä¸ä½³ï¼Œå¯ç©æ€§å‡å°‘ã€‚æ•…éšœä½¿äººåŒæ¶ï¼Œå»¶è¿Ÿä½¿äººæ„¤æ€’ï¼Œå¸§ç‡ä¸‹é™è®©äººæ²®ä¸§ã€‚<br><a id=\"more\"></a></p>\n<p>æˆ‘æ˜¯è‡´åŠ›äºæé«˜è‹±é›„è”ç›Ÿæ€§èƒ½å›¢é˜Ÿä¸­çš„ä¸€å‘˜ã€‚æˆ‘ä»¬ä¸ºå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨åšå¿«ç…§ï¼Œå‘ç°é—®é¢˜ (æ€§èƒ½ç›¸å…³å’Œå…¶ä»–)ï¼Œç„¶åä¿®å¤é—®é¢˜ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬å°†åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å­¦åˆ°çš„ä¸œè¥¿åé¦ˆå…¶ä»–å›¢é˜Ÿï¼Œå¹¶ä¸”ç»™ä»–ä»¬æä¾›å·¥å…·ï¼Œä½¿ä»–ä»¬åœ¨å½±å“ç”¨æˆ·ä¹‹å‰æ¥æ£€æµ‹å¹¶å®šä½ä»–ä»¬è‡ªå·±çš„æ€§èƒ½é—®é¢˜ã€‚æˆ‘ä»¬ä¸æ–­çš„æé«˜è‹±é›„è”ç›Ÿçš„æ€§èƒ½ä¸ºè‰ºæœ¯å®¶å’Œè®¾è®¡å¸ˆæ·»åŠ æ–°çš„ä¸œè¥¿æä¾›äº†ç©ºé—´ï¼šå½“ä»–ä»¬ä½¿æ¸¸æˆæ›´åºå¤§æ›´ä¼˜ç§€çš„åŒæ—¶ï¼Œæˆ‘ä»¬ä½¿ä¹‹æ›´å¿«ã€‚</p>\n<p>è¿™æ˜¯å…³äºæˆ‘ä»¬å›¢é˜Ÿå¦‚ä½•ä¼˜åŒ–è‹±é›„è”ç›Ÿæ€§èƒ½ç³»åˆ—çš„ç¬¬ä¸€ç¯‡æ–‡ç« ï¼Œåç»­æˆ‘ä»¬å°†ä¸æ–­æŒç»­æ›´æ–°ã€‚è¿™æ˜¯ä¸€é¡¹å›æŠ¥ä¸°åšçš„æŒ‘æˆ˜ï¼Œè¿™ç¯‡æ–‡ç« å°†æ·±å…¥ä»‹ç»æˆ‘ä»¬åœ¨ç²’å­ç³»ç»Ÿä¸­é‡åˆ°çš„ä¸€äº›æœ‰è¶£çš„æŒ‘æˆ˜â€”â€”æ­£å¦‚åœ¨ä¸‹å›¾ä¸­ï¼Œä½ å¯ä»¥çœ‹åˆ°ç²’å­ç³»ç»Ÿåœ¨æ¸¸æˆä¸­æ‰®æ¼”äº†ååˆ†é‡è¦çš„è§’è‰²ã€‚</p>\n<p><img src=\"http://7xrgsx.com1.z0.glb.clouddn.com/TeamParticles.gif\" alt=\"GIFå›¾\"></p>\n<p>ä¸Šå›¾æ˜¯åœ¨è‹±é›„è”ç›Ÿæ¸¸æˆä¸­é«˜ç²’å­å¯†åº¦çš„ä¸€ä¸ªä¾‹å­ã€‚</p>\n<p>ä¼˜åŒ–ï¼Œå¹¶ä¸æ˜¯åœ¨ç¨‹åºé›†ä¸­é‡å†™å¤§é‡çš„ä»£ç â€”â€”å°½ç®¡æœ‰äº›æ—¶å€™æ˜¯è¿™æ ·çš„ã€‚æˆ‘ä»¬ä»…å˜æ›´é‚£äº›ä¸ä»…èƒ½å¤Ÿæé«˜æ€§èƒ½ï¼Œè€Œä¸”ç»´æŠ¤æ­£ç¡®æ€§çš„ä»£ç ï¼Œå¦‚æœæœ‰å¯èƒ½çš„è¯ï¼Œè¿˜ä¼šæé«˜ä»£ç è´¨é‡ã€‚æœ€åä¸€é¡¹ç•¥æ˜¾æŒ‘å‰”ï¼šä»»ä½•ä¸æ˜“è¯»ã€ä¸æ˜“ç»´æŠ¤çš„ä»£ç éƒ½ä¼šäº§ç”ŸæŠ€æœ¯å€ºåŠ¡ï¼Œè¿™ä¸ªæˆ‘ä»¬ç¨åå†è°ˆã€‚</p>\n<p>ä¼˜åŒ–å·²æœ‰çš„ä»£ç åº“ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†ä¸‰ä¸ªåŸºæœ¬æ­¥éª¤ï¼šé‰´åˆ«ã€ç†è§£å’Œè¿­ä»£ã€‚</p>\n<p><em>æ­¥éª¤ä¸€ï¼šé‰´åˆ«</em></p>\n<p>åœ¨å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦ç¡®è®¤å“ªäº›ä»£ç éœ€è¦è¿›è¡Œä¼˜åŒ–ã€‚å³ä½¿æœ‰äº›ä»£ç çœ‹èµ·æ¥æ˜æ˜¾æ€§èƒ½è¾ƒå·®ï¼Œä½†æ˜¯ç”±äºå…¶å¯¹æ•´ä½“æ€§èƒ½å½±å“æå°ï¼Œä¼˜åŒ–è¿™ç±»ä»£ç æ”¶ç›Šæå°‘ï¼ˆå°¤å…¶å½“èŠ±è´¹åœ¨ä¸Šé¢çš„æ—¶é—´å’Œç²¾åŠ›åœ¨å…¶ä»–æ–¹é¢å¯ä»¥åšåˆ°æ›´å¥½çš„æ”¶ç›Šï¼‰ã€‚æˆ‘ä»¬ä½¿ç”¨ä»£ç æ£€æµ‹å·¥å…·å’Œé‡‡æ ·åˆ†æå™¨æ¥å¸®åŠ©è¯†åˆ«éæ€§èƒ½éƒ¨åˆ†çš„åŸºæœ¬ä»£ç ã€‚</p>\n<p><em>æ­¥éª¤äºŒï¼šç†è§£</em></p>\n<p>ä¸€æ—¦æˆ‘ä»¬å¾—çŸ¥ä»£ç åº“çš„å“ªéƒ¨åˆ†ä»£ç æ€§èƒ½è¾ƒå·®ï¼Œæˆ‘ä»¬ä¾¿ä¼šè¯¦ç»†çš„æŸ¥çœ‹è¿™éƒ¨åˆ†ä»£ç ä»¥æ±‚å®Œå…¨ç†è§£ä»£ç ã€‚ç†è§£ä»£ç æ„å‘³ç€ç†è§£è¿™äº›ä»£ç çš„å«ä¹‰åŠåŸæœ¬çš„ç›®çš„ã€‚æ¥ç€ï¼Œæˆ‘ä»¬å°±èƒ½çŸ¥æ‚‰ä¸ºä½•è¿™äº›ä»£ç äº§ç”Ÿç“¶é¢ˆäº†ã€‚</p>\n<p><em>æ­¥éª¤ä¸‰ï¼šè¿­ä»£</em></p>\n<p>å½“æˆ‘ä»¬ç†è§£äº†ä¸ºä½•ç‰¹å®šéƒ¨åˆ†ä»£ç æ‰§è¡Œè¾ƒæ…¢åŠä»£ç æœ¬æ„è¦æ‰§è¡Œçš„å†…å®¹ï¼Œæˆ‘ä»¬å°±æœ‰äº†è¶³å¤Ÿçš„ä¿¡æ¯æ¥è®¾è®¡å’Œå¼€å‘ä¸€å¥—å¯è¡Œçš„è§£å†³æ–¹æ¡ˆã€‚ä½¿ç”¨é‰´åˆ«æ­¥éª¤ä¸­çš„å·¥å…·å’Œå¾—åˆ°çš„å¿«ç…§æ•°æ®ï¼Œæˆ‘ä»¬å°†æ–°ä»£ç å’Œæ—§ä»£ç çš„æ€§èƒ½åšäº†æ¯”è¾ƒã€‚å¦‚æœè§£å†³æ–¹æ¡ˆæ•ˆæœå‡ºä¼—ï¼Œæˆ‘ä»¬ä¼šå½»åº•çš„è¿›è¡Œæµ‹è¯•ä»¥ç¡®ä¿ä¸å¼•å…¥æ¥æ–°çš„bugï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥å°±å¯ä»¥å‡»æŒåº†è´ºäº†ï¼Œå› ä¸ºæˆ‘ä»¬å·²ç»ä¸ºå…¶ä»–å†…éƒ¨æµ‹è¯•åšå¥½äº†å……åˆ†çš„å‡†å¤‡ã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæ–°çš„ä»£ç ä¸è§çš„è¶³å¤Ÿå¿«ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸æ–­è¿­ä»£è§£å†³æ–¹æ¡ˆï¼ŒçŸ¥é“æ–°çš„ä»£ç èƒ½è¾¾åˆ°ä¼˜åŒ–çš„ç›®çš„ã€‚</p>\n<p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬çœ‹ä¸‹åœ¨è‹±é›„è”ç›Ÿä»£ç åº“ä¸­è¿™å‡ ä¸ªæ­¥éª¤çš„å®æ–½ç»†èŠ‚ï¼Œå¹¶ä»¥æœ€è¿‘ä¼˜åŒ–çš„ç²’å­ç³»ç»Ÿé€æ­¥ä»‹ç»ã€‚</p>\n<h2 id=\"æ­¥éª¤1-é‰´åˆ«\"><a href=\"#æ­¥éª¤1-é‰´åˆ«\" class=\"headerlink\" title=\"æ­¥éª¤1:é‰´åˆ«\"></a>æ­¥éª¤1:é‰´åˆ«</h2><p>æ‹³å¤´çš„å·¥ç¨‹å¸ˆä½¿ç”¨å¤§é‡çš„åˆ†æå·¥å…·æ¥æ£€æŸ¥æ¸¸æˆå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨çš„æ€§èƒ½ã€‚æˆ‘ä»¬å…ˆæŸ¥çœ‹æ¥å®¢æˆ·ç«¯çš„å¸§ç‡å’Œé€šè¿‡Waffleså¾—åˆ°çš„é«˜çº§åˆ†æä¿¡æ¯ï¼ˆé€šè¿‡å·¥å…·çš„ç‰¹å®šå‡½æ•°è·å¾—çš„è¾“å‡ºä¿¡æ¯ï¼‰ï¼Œè¿™ä¸ªå†…éƒ¨å·¥å…·å¯ä»¥è®©æˆ‘ä»¬åœ¨å†…éƒ¨æ„å»ºçš„å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¿æŒè”é€šã€‚æ­¤å¤–ï¼ŒWafflesè¿˜å…·å¤‡å…¶ä»–åŠŸèƒ½ï¼Œå¦‚åœ¨æµ‹è¯•è¿‡ç¨‹ä¸­è§¦å‘è°ƒè¯•ã€æ£€æŸ¥æ¸¸æˆå†…éƒ¨æ•°æ®å¦‚å¯¼èˆªåˆ†æ ¼å’Œæš‚åœæˆ–è€…å‡ç¼“æ¸¸æˆè¿‡ç¨‹ã€‚</p>\n<p><img src=\"http://7xrgsx.com1.z0.glb.clouddn.com/Waffles.png\" alt=\"\"><br>Wafflesæˆªå›¾</p>\n<p>Wafflesæä¾›äº†ä¸€ä¸ªå®æ—¶å±•ç¤ºç•Œé¢ï¼Œå¹¶æä¾›è¯¦ç»†çš„æ€§èƒ½ä¿¡æ¯ã€‚ä¸Šå›¾æ˜¯Waffleså¦‚ä½•å±•ç°å®¢æˆ·ç«¯æ€§èƒ½è¡¨ç°çš„ç»å…¸ä¾‹å­ï¼Œä¸Šè¾¹å›¾å½¢ï¼ˆç»¿è‰²æŸ±çŠ¶å›¾ï¼‰ä»¥æ¯«ç§’ä¸ºå•ä½è¡¨ç¤ºäº†å¸§ç‡â€”â€”è¶Šé«˜çš„æŸ±çŠ¶å›¾è¡¨ç¤ºè¶Šä½çš„å¸§ç‡ã€‚éå¸¸æ…¢çš„å¸§ç‡åœ¨æ¸¸æˆä¸­æ˜¯å¯ä»¥æ„Ÿå—å¾—åˆ°çš„ã€‚æŸ±çŠ¶å›¾ä¸‹é¢æ˜¯é‡è¦åŠŸèƒ½çš„åˆ†å±‚è§†å›¾ï¼Œé€šè¿‡ç‚¹å‡»ä»»ä½•ç»¿è‰²æŸ±çŠ¶å›¾ï¼Œå·¥ç¨‹å¸ˆéƒ½ä¼šçœ‹åˆ°å½±å“è¯¥å¸§ç‡çš„è¯¦ç»†ä¿¡æ¯ã€‚é€šè¿‡è¿™é‡Œï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºäº›ç«¯å€ªï¼Œå³å“ªéƒ¨åˆ†ä»£ç è¿è¡Œæ—¶å¯¼è‡´æ€§èƒ½è¾ƒå·®çš„å…³é”®ã€‚</p>\n<p>æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªç®€å•çš„å®åœ¨ä»£ç åº“å†…æ‰‹å·¥æ£€æµ‹ä¸€äº›é‡è¦å‡½æ•°æ¥æä¾›è¿™ä»½æ€§èƒ½ç›¸å…³çš„ä¿¡æ¯ã€‚åœ¨å¯¹å¤–å‘å¸ƒçš„æ¸¸æˆç‰ˆæœ¬ä¸­ï¼Œè¿™ä¸ªå®å¹¶æ²¡æœ‰è¢«æ‰“åŒ…ç¼–è¯‘ï¼Œä½†åœ¨æµ‹è¯•ç‰ˆæœ¬æ‰“åŒ…ä¸­ï¼Œè¿™ä¸ªå®ä½œä¸ºä¸€ä¸ªå¾ˆå°çš„classå­˜åœ¨ï¼Œå®ƒåˆ›å»ºäº†ä¸€ä¸ªäº‹ä»¶ï¼Œå­˜æ”¾äºé…ç½®æ–‡ä»¶ç¼“å†²åŒºã€‚è¯¥äº‹ä»¶åŒ…å«ä¸€ä¸ªå­—ç¬¦ä¸²è¯†åˆ«ç ã€ä¸€ä¸ªçº¿ç¨‹IDã€ä¸€ä¸ªæ—¶é—´æˆ³å’Œå…¶ä»–å¿…è¦çš„ä¿¡æ¯ï¼ˆæ¯”å¦‚å®ƒè¿˜å¯ä»¥å­˜å‚¨åœ¨å…¶ç”Ÿå‘½å‘¨æœŸå†…æ‰€æœ‰å‘ç”Ÿçš„å†…å­˜é…ç½®æ•°ï¼‰ã€‚å½“å¯¹è±¡è¶…å‡ºèŒƒå›´åï¼Œææ„å™¨ä¼šåœ¨é…ç½®ç¼“å†²åŒºä¸­æ›´æ–°è¯¥äº‹ä»¶è‡ªæ„é€ ä»¥æ¥çš„è¿è¡Œæ—¶é—´ã€‚åœ¨éšåçš„æ—¶é—´ï¼Œå¯ä»¥è¾“å‡ºå’Œè§£ææ­¤é…ç½®æ–‡ä»¶ç¼“å†²åŒºâ€”â€”ç†æƒ³çš„æƒ…å†µæ˜¯åœ¨å¦ä¸€ä¸ªè¿›ç¨‹è¿›è¡Œä»¥å°½é‡å‡å°‘å¯¹æ¸¸æˆæœ¬èº«çš„å½±å“ã€‚</p>\n<p><img src=\"http://7xrgsx.com1.z0.glb.clouddn.com/ChromeTracing1.png\" alt=\"\"><br>Chrome Tracing</p>\n<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†åˆ†æç¼“å†²åŒºè¾“å‡ºåˆ°æ–‡ä»¶ï¼Œå¹¶ä¸”è¯»å…¥åˆ°æ„å»ºåœ¨Chromeæµè§ˆä¸­å¯è§†åŒ–å·¥å…·ä¸­ï¼ˆå…³äºè·Ÿè¸ªå·¥å…·çš„æ›´å¤šä¿¡æ¯ï¼Œå¯ä»¥ç‚¹å‡»<a href=\"https://github.com/catapult-project/catapult/wiki/Trace-Viewer-Getting-Started\" target=\"_blank\" rel=\"external\">è¿™é‡Œ</a>ï¼Œä½ å¯ä»¥åœ¨è‡ªå·±çš„Chromeæµè§ˆå™¨ä¸­é€šè¿‡åœ¨åœ°å€æ æ•²å…¥â€chrome://tracing/â€œè¿›è¡Œå°è¯•ã€‚è¿™ä¸ªæ‰©å±•ç¨‹åºè¢«è®¾è®¡ç”¨æ¥è¿›è¡Œç½‘é¡µæ€§èƒ½åˆ†æï¼Œè¾“å…¥æ ¼å¼æ—¶JSONï¼Œæ‰€ä»¥ä½ å¯ä»¥è½»æ¾çš„æ ¹æ®ä½ è‡ªå·±çš„æ•°æ®æ„é€ è¾“å…¥ï¼‰ã€‚é€šè¿‡å›¾å½¢åŒ–åçš„ç»“æœï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å“ªäº›æ˜¯æ‰§è¡Œè¾ƒæ…¢çš„å‡½æ•°ï¼Œæˆ–è€…åœ¨é‚£é‡Œä¸æ–­æœ‰å¤§é‡çš„å°å‡½æ•°è¢«è°ƒç”¨ï¼šè¿™äº›éƒ½æ˜¯æ¬¡ä¼˜ä»£ç çš„è¿¹è±¡ã€‚</p>\n<p>è®©æˆ‘æ¥å±•ç¤ºè¯¦ç»†æ“ä½œï¼šä¸Šé¢çš„è§†å›¾æ˜¯Chrome Tracingçš„è§†å›¾ï¼Œå›¾ä¸­å±•ç¤ºäº†å®¢æˆ·ç«¯ä¸Šä¸¤ä¸ªè¿è¡Œçš„çº¿ç¨‹ã€‚ä¸Šéƒ¨åˆ†çš„æ˜¯ä¸»çº¿ç¨‹ï¼Œæ‰§è¡Œå¤§å¤šæ•°çš„å¤„ç†å·¥ä½œï¼Œåº•éƒ¨çš„æ˜¯ç²’å­çº¿ç¨‹ï¼Œç”¨æ¥æ‰§è¡Œç²’å­å¤„ç†ã€‚æ¯ä¸€ä¸ªç€è‰²çš„æ¨ªæ¡å‡å¯¹åº”ä¸€ä¸ªå‡½æ•°ï¼Œæ¨ªæ¡çš„é•¿åº¦æŒ‡ç¤ºäº†å…¶æ‰§è¡Œæ—¶é—´ã€‚è¢«è°ƒç”¨çš„å‡½æ•°ç”±ç«–ç›´æ ˆç»“æ„å±•ç¤ºï¼Œçˆ¶å‡½æ•°åœ¨å­å‡½æ•°ä¹‹ä¸Šã€‚è¿™ä¸ªå·¥å…·æä¾›ç»™æˆ‘ä»¬ä¸€ç§éå¸¸ç¥å¥‡æ–¹å¼æ¥å¯è§†åŒ–æ‰§è¡Œå¤æ‚åº¦ä»¥åŠå¸§çš„ç­¾åæ—¶é—´ã€‚å½“æˆ‘ä»¬å‘ç°ä¸€ä¸ªæ¬¡ä¼˜ä»£ç åŒºåŸŸï¼Œæˆ‘ä»¬å¯ä»¥æ”¾å¤§ç²’å­åŒºåŸŸä»¥æ±‚æŸ¥çœ‹æ›´å¤šç»†èŠ‚ã€‚</p>\n<p><img src=\"http://7xrgsx.com1.z0.glb.clouddn.com/ChromeTracing2.png\" alt=\"\"><br>Chrome Tracingæ”¾å¤§æ•ˆæœå›¾</p>\n<p>è®©æˆ‘ä»¬æ”¾å¤§å›¾å½¢ä¸­é—´éƒ¨åˆ†ã€‚ä»ä¸Šé¢çš„çº¿ç¨‹ä¸­æˆ‘å¯ä»¥çœ‹åˆ°ä¸€ä¸ªéå¸¸åœºçš„ç­‰å¾…ï¼Œåªæœ‰å½“ä¸‹é¢çš„ç²’å­æ¨¡æ‹Ÿå‡½æ•°æ‰§è¡Œå®Œæ¯•æ‰ç»“æŸã€‚æ¨¡æ‹ŸåŠŸèƒ½åŒ…å«å¤§é‡ä¸åŒå‡½æ•°ï¼ˆç€è‰²çš„æ¨ªæ¡ï¼‰çš„è°ƒç”¨ã€‚æ¯ä¸€ç±»éƒ½æ˜¯ç²’å­ç³»ç»Ÿçš„æ›´æ–°åŠŸèƒ½ï¼Œç”¨äºå°†ä½ç½®ã€ æ–¹å‘å’Œæ¯ä¸ªç²’å­åœ¨è¯¥ç³»ç»Ÿä¸­å…¶ä»–å¯è§æ€§çŠ¶æ€è¿›è¡Œæ›´æ–°ã€‚ä¸€ä¸ªæ˜æ˜¾çš„ä¼˜åŒ–æ–¹å¼æ˜¯å°†æ¨¡æ‹Ÿå‡½æ•°æ”¹é€ æˆå¤šçº¿ç¨‹æ–¹å¼ï¼Œå³å¯è¿è¡Œåœ¨ä¸»çº¿ç¨‹ä¸­ï¼Œä¹Ÿå¯ä»¥åœ¨ç²’å­çº¿ç¨‹ä¸­æ‰§è¡Œï¼Œå¯¹äºæœ¬ä¾‹ï¼Œæˆ‘ä»¬ä»…å…³æ³¨ä¸ä¼˜åŒ–æ¨¡æ‹Ÿä»£ç æœ¬èº«ã€‚</p>\n<p>æ—¢ç„¶ç°åœ¨æˆ‘ä»¬çŸ¥é“å»ä½•å¤„æŸ¥çœ‹æ€§èƒ½é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥åˆ‡æ¢åˆ°æ ·æœ¬åˆ†æã€‚è¿™ç±»åˆ†æå‘¨æœŸæ€§çš„è¯»å–å’Œå­˜å‚¨<a href=\"https://en.wikipedia.org/wiki/Program_counter\" target=\"_blank\" rel=\"external\">ç¨‹åºè®¡æ•°å™¨</a>å’Œè¿è¡Œä¸­çš„è¿›ç¨‹çš„æ ˆä¿¡æ¯ï¼ˆå¯é€‰ï¼‰ã€‚ä¸€æ®µæ—¶é—´åï¼Œè¿™ä¸ªä¿¡æ¯å¯ä»¥ç»™å‡ºä¸€ä¸ªéšæœºæ¦‚è¿°ï¼Œæ¦‚è¿°ä¸­æè¿°äº†ä»£ç åº“å†…çš„è€—æ—¶ã€‚è¾ƒæ…¢çš„å‡½æ•°ä¼šå¾—åˆ°æ›´å¤šçš„æ ·æœ¬ï¼Œæ›´æœ‰ç”¨çš„æ˜¯ï¼Œç”¨æ—¶æœ€é•¿çš„å•ä¸ªå‡½æ•°ä¼šç´¯ç§¯æ›´å¤šçš„æ ·æœ¬ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä¸ä»…å¯ä»¥çœ‹åˆ°å“ªäº›å‡½æ•°æ‰§è¡Œæœ€æ…¢ï¼ŒåŒæ—¶å¯ä»¥çœ‹åˆ°å“ªå‡ è¡Œä»£ç æ‰§è¡Œæœ€æ…¢ã€‚å¦‚ä»Šæœ‰å¾ˆå¤šä¸é”™çš„æ ·æœ¬åˆ†æå·¥å…·å¯ä¾›é€‰æ‹©ï¼Œä»å…è´¹çš„<a href=\"http://www.codersnotes.com/sleepy\" target=\"_blank\" rel=\"external\">Very Sleepy</a>åˆ°æ›´å¤šç‰¹æ€§æ”¯æŒçš„å•†ä¸šè½¯ä»¶ï¼Œå¦‚Intelçš„<a href=\"https://software.intel.com/en-us/intel-vtune-amplifier-xe\" target=\"_blank\" rel=\"external\">VTune</a>ã€‚</p>\n<p>é€šè¿‡åœ¨æ¸¸æˆå®¢æˆ·ç«¯ä¸Šè¿è¡ŒVTuneæ¥æ£€æŸ¥ç²’å­çº¿ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¦‚ä¸‹åˆ—è¡¨ä¸­è¿è¡Œæœ€æ…¢çš„å‡½æ•°ã€‚</p>\n<p><img src=\"http://7xrgsx.com1.z0.glb.clouddn.com/VTune.PNG\" alt=\"\"></p>\n<p>VTuneä¸­çš„Hot Functions</p>\n<p>ä¸Šé¢çš„è¡¨æ ¼å±•ç°äº†ä¸€äº›ç²’å­ç›¸å…³çš„å‡½æ•°ã€‚ä½œä¸ºå‚è€ƒï¼Œæœ€ä¸Šé¢ä¸¤ä¸ªè¾ƒå¤§çš„å‡½æ•°ç”¨äºä¸ºæ¯ä¸ªç²’å­æ›´æ–°çŸ©é˜µå’Œä½ç½®ã€æ–¹å‘ç›¸å…³çš„çŠ¶æ€ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œæˆ‘ä»¬æ¥çœ‹åœ¨ç¬¬ä¸‰å’Œç¬¬ä¹é¡¹AnimatedVariableWithRandomFactor&lt;&gt;ä¸­çš„Evaluateå‡½æ•°ï¼Œå‡½æ•°å¾ˆå°ï¼ˆå¹¶ä¸”å®¹æ˜“ç†è§£ï¼‰ï¼Œä½†æ˜¯ç›¸å¯¹è€Œè¨€æ¯”è¾ƒè€—æ—¶ã€‚</p>\n<h2 id=\"æ­¥éª¤2-ç†è§£\"><a href=\"#æ­¥éª¤2-ç†è§£\" class=\"headerlink\" title=\"æ­¥éª¤2:ç†è§£\"></a>æ­¥éª¤2:ç†è§£</h2><p>ç°åœ¨ï¼Œæˆ‘ä»¬é€‰æ‹©äº†ä¸€ä¸ªéœ€è¦ä¼˜åŒ–çš„å‡½æ•°ï¼Œåˆ™éœ€è¦ç†è§£è¿™ä¸ªå‡½æ•°è¦åšçš„äº‹æƒ…å’Œä¸ºä»€ä¹ˆè¿™ä¹ˆåšçš„åŸå› ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼ŒAnimatedVariablesè¢«è‹±é›„è”ç›Ÿç¾æœ¯å¸ˆç”¨æ¥å®šä¹‰ç²’å­ç‰¹å¾æ˜¯å¦‚ä½•éšç€æ—¶é—´å˜åŒ–ã€‚ä¸€æ—¦ä¸€ä¸ªç¾æœ¯å¸ˆä¸ºä¸€ä¸ªç‰¹å®šçš„ç²’å­å¯è§æ€§æŒ‡å®šå…³é”®å¸§å€¼åï¼Œä»£ç ä¸­ä¾¿ä¼šæ’å…¥è¿™äº›æ•°æ®æ¥äº§ç”Ÿä¸€æ¡æ›²çº¿ã€‚æ’å€¼æ–¹æ³•æ˜¯çº¿æ€§æ’å€¼æˆ–ä¸€é˜¶æˆ–äºŒæ¬¡é›†æˆã€‚åŠ¨ç”»æ›²çº¿è¢«å¤§é‡çš„ä½¿ç”¨â€”â€”å°½åœ¨å¬å”¤å¸ˆå³¡è°·ï¼ˆè¯‘è€…æ³¨ï¼šè‹±é›„è”ç›Ÿçš„åœ°å›¾ä¹‹ä¸€ï¼Œä¹Ÿæ˜¯æœ€çƒ­é—¨çš„åœ°å›¾ï¼‰ä¸­å°±æœ‰æ¥è¿‘40000çš„åŠ¨ç”»æ›²çº¿â€”â€”æ¶µç›–äº†ä»ç²’å­é¢œè‰²æ‰©å±•åˆ°æ—‹è½¬é€Ÿåº¦æ–¹æ–¹é¢é¢ã€‚Evaluateå‡½æ•°åœ¨æ¯åœºæ¸¸æˆä¸­ä¼šè¢«è°ƒç”¨æ•°ä»¥äº¿è®¡æ¬¡ã€‚æ­¤å¤–ï¼ŒLOLä¸­çš„ç²’å­ç³»ç»Ÿæ˜¯æ¸¸æˆä½“éªŒä¸­å¾ˆé‡è¦çš„ä¸€éƒ¨åˆ†ï¼Œæ‰€ä»¥å®ƒä»¬çš„è¡Œä¸ºä¸èƒ½åšå‡ºä»»ä½•æ”¹å˜ã€‚</p>\n<p>è¿™ä¸ªç±»å…¶å®å·²ç»åšè¿‡äº†ä¼˜åŒ–ï¼Œé€šè¿‡æŸ¥è¡¨çš„æ–¹å¼ï¼Œå¯¹æ¯ä¸ªtimestepæ‰€éœ€è¦çš„å€¼éƒ½é¢„å…ˆè®¡ç®—è¿‡å¹¶å­˜å‚¨åœ¨ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œæ‰€ä»¥åœ¨è¯»å–è¿™äº›æ•°å€¼æ—¶ä¸å¿…å†æ¬¡è®¡ç®—ï¼Œæ‰€ä»¥å‡å°‘äº†è®¡ç®—çš„è€—æ—¶ã€‚è¿™æ˜¯ä¸€ä¸ªæ˜æ™ºçš„é€‰æ‹©ï¼Œå› ä¸ºæ›²çº¿çš„ä¸€é˜¶å’ŒäºŒæ¬¡é›†æˆæ˜¯ä¸€ä¸ªæ˜‚è´µçš„è¿›ç¨‹ã€‚ä¸ºæ¯ä¸ªç³»ç»Ÿä¸­çš„æ¯ä¸ªç²’å­ä¸Šçš„åŠ¨ç”»å˜é‡è¿›è¡Œè¿™ä¸ªæ“ä½œä¼šä½¿å¾—å¤„ç†è¿‡ç¨‹å¤§å¤§å‡å°‘ã€‚</p>\n<p><img src=\"http://7xrgsx.com1.z0.glb.clouddn.com/graphpointgraphsmaller.png\" alt=\"\"></p>\n<p>åŠ¨ç”»å˜é‡æ›²çº¿çš„æŸ¥è¯¢è¡¨</p>\n<p>åœ¨æŸ¥è¯¢æ€§èƒ½é—®é¢˜æ—¶ï¼Œé€šè¿‡æ‰¾åˆ°æœ€åçš„åœºæ™¯æ¥æ”¾å¤§é—®é¢˜å¾€å¾€æ˜¯ä¸€ä¸ªååˆ†æœ‰ç”¨çš„æŠ€å·§ã€‚ä¸ºäº†æ¨¡æ‹Ÿç²’å­å¤„ç†å‡ç¼“ï¼Œæˆ‘å¼€å§‹äº†ä¸€åœºå•ä¸ªç©å®¶çš„æ¸¸æˆï¼Œæ¸¸æˆä¸­æœ‰9ä¸ªä¸­æœŸçº§åˆ«çš„ç”µè„‘ï¼Œå¹¶ä¸”åœ¨ä¸‹è·¯æŒ‘èµ·äº†ä¸€åœºæ··ä¹±çš„å›¢æˆ˜ã€‚æ¥ç€ï¼Œæˆ‘åœ¨å›¢æˆ˜æœŸé—´åœ¨å®¢æˆ·ç«¯ä¸Šè¿è¡Œäº†VTuneï¼Œè®°å½•äº†å¤§é‡çš„æ•°æ®ç”¨äºåˆ†æã€‚è¿™äº›æ•°æ®ç»™å‡ºäº†åœ¨Evaluateä»£ç ä¸­çš„å½’å› æ ·æœ¬ï¼ˆå¦‚ä¸‹å›¾æ‰€ç¤ºï¼‰ã€‚</p>\n<p>ä¸‹å›¾ä¸­æˆ‘æˆªå–äº†ç¬¬91-95è¡Œä»£ç ï¼Œä¸ºäº†æ›´å¥½çš„è¯´æ˜ç¬¬90è¡Œè°ƒç”¨Evaluateçš„æƒ…å½¢ã€‚</p>\n<p><img src=\"http://7xrgsx.com1.z0.glb.clouddn.com/VTune2.png\" alt=\"\"></p>\n<p>VTuneä¸­çš„åˆ†ææ ·æœ¬</p>\n<p>å¯¹äºä¸ç†Ÿæ‚‰VTuneçš„äººæ¥è¯´ï¼Œå…¶å®è¿™ä¸ªè¯•å›¾å±•ç¤ºçš„å°±æ˜¯è§£ææœŸé—´æ‰€æ”¶é›†çš„ä»£ç ã€‚å³ä¾§çš„çº¢è‰²æ¨ªæ¡æŒ‡ç¤ºäº†å‘½ä¸­æ¬¡æ•°ï¼Œæ¨ªæ¡è¶Šé•¿å°±æ„å‘³ç€å‘½ä¸­æ¬¡æ•°è¶Šå¤šï¼Œè€Œå‘½ä¸­æ¬¡æ•°è¶Šå¤šè¡¨ç¤ºè¿™ä¸€è¡Œæ‰§è¡Œè¶Šæ…¢ã€‚æŒ¨ç€æ¨ªæ¡çš„æ—¶é—´æ˜¯å¤„ç†è¿™è¡Œä»£ç æ‰€ç”¨çš„é¢„ä¼°æ—¶é—´ã€‚ä½ ä¹Ÿå¯ä»¥å°±æŸä¸ªç‰¹å®šå‡½æ•°çš„åˆ°ä¸€ä¸ªå‡†ç¡®è§†å›¾æ¥æŸ¥çœ‹æ˜¯ä»€ä¹ˆå› ç´ â€œè´¡çŒ®â€äº†æ‰§è¡Œç¼“æ…¢ã€‚</p>\n<p>å¦‚æœå°±çº¢è‰²çš„æ¨ªæ¡æ¥çœ‹ï¼Œç¬¬95è¡Œä»£ç å°±æ˜¯é—®é¢˜æ‰€åœ¨ã€‚ä½†æ˜¯è¿™æ®µä»£ç æ‰€åšçš„ä»…ä»…æ˜¯åœ¨Vector3fä¸­å¤åˆ¶å‡ºæ‹¼å†™é”™è¯¯çš„æŸ¥è¯¢è¡¨ï¼Œä¸ºä»€ä¹ˆè¿™ä¸ªå‡½æ•°æˆä¸ºæœ€æ…¢çš„éƒ¨åˆ†å‘¢ï¼Ÿä¸ºä»€ä¹ˆ12å­—èŠ‚çš„å¤åˆ¶è¿™ä¹ˆæ…¢ï¼Ÿ</p>\n<p>ç­”æ¡ˆåœ¨äºç°ä»£CPUè®¿é—®å†…å­˜çš„æ–¹å¼ä¸­ã€‚CPUéå¸¸å¿ å®çš„éµå¾ªäº†æ‘©å°”å®šå¾‹ï¼Œæ¯å¹´éƒ½ä¼šæé€Ÿ60%ï¼Œè€Œå†…å­˜é€Ÿåº¦æ¯å¹´çš„å¢é€Ÿåªæœ‰å¯æ€œçš„10%ã€‚</p>\n<p><img src=\"http://7xrgsx.com1.z0.glb.clouddn.com/processor_memory_gap.jpg\" alt=\"\"></p>\n<p>å›¾å‡ºè‡ªã€Šè®¡ç®—æœºä½“ç³»ç»“æ„ï¼šé‡åŒ–ç ”ç©¶æ–¹æ³•ã€‹By John L. Hennessy, David A. Patterson, Andrea C. Arpaci-Dusseau</p>\n<p>ç¼“å­˜å¯ä»¥å‡å°æ€§èƒ½å·®è·ï¼Œè¿è¡Œè‹±é›„è”ç›Ÿçš„å¤§å¤šæ•°CPUéƒ½æœ‰3çº§ç¼“å­˜ï¼Œä¸€çº§ç¼“å­˜æœ€å¿«ä½†å®¹é‡æœ€å°ï¼Œä¸‰çº§ç¼“å­˜æœ€æ…¢ä½†å®¹é‡ç›¸å¯¹æœ€å¤§ã€‚ä»ä¸€çº§ç¼“å­˜è¯»å–æ•°æ®åªéœ€è¦4ä¸ªå‘¨æœŸï¼Œè€Œè¯»å–ä¸»å†…å­˜å´éœ€è¦å¤§çº¦300ä¸ªå‘¨æœŸç”šè‡³æ›´å¤šã€‚ä½ å¯ä»¥åœ¨300ä¸ªå‘¨æœŸå†…åšå¤§é‡å¤„ç†å·¥ä½œã€‚</p>\n<p>æœ€åˆæŸ¥è¯¢è¡¨çš„è§£å†³æ–¹æ¡ˆçš„é—®é¢˜åœ¨äºï¼Œè™½ç„¶ä»æŸ¥è¯¢è¡¨ä¸­çš„é¡ºåºè¯»å–å€¼çš„æ“ä½œæ˜¯éå¸¸å¿«çš„(ç”±äºç¡¬ä»¶é¢„å–)ï¼Œä½†æ˜¯æˆ‘ä»¬æ­£åœ¨å¤„ç†çš„é¢—ç²’å¹¶ä¸æ˜¯æŒ‰ç…§æ—¶é—´é¡ºåºå­˜å‚¨ï¼Œæ‰€ä»¥å®é™…æŸ¥æ‰¾é¡ºåºæ˜¯éšæœºçš„ã€‚è¿™é€šå¸¸ä¼šå¯¼è‡´CPUç­‰å¾…ä»ä¸»å­˜å‚¨è®¾å¤‡è¯»å–æ•°æ®æ—¶äº§ç”Ÿå»¶è¿Ÿã€‚è™½ç„¶300ä¸ªå‘¨æœŸæ¯”ä¸€çº§æˆ–è€…äºŒçº§é›†æˆä»£ä»·æ›´ä½ï¼Œä½†æˆ‘ä»¬è¿˜æ˜¯éœ€è¦çŸ¥é“è¿™ä¸ªå‡½æ•°åœ¨æ¸¸æˆä¸­çš„ä½¿ç”¨é¢‘ç‡å¦‚ä½•ï¼Œå› ä¸ºæ¯•ç«Ÿè¿™ä¸ªå‡½æ•°åœ¨æ¸¸æˆä¸­è¢«å¤§é‡çš„ä½¿ç”¨ã€‚</p>\n<p>ä¸ºäº†æ¢æ±‚çœŸç›¸ï¼Œæˆ‘ä»¬åœ¨ä»£ç ä¸­æ·»åŠ ä¸€äº›é¢å¤–çš„å†…å®¹æ¥æ”¶é›†AnimatedVariablesçš„æ•°é‡å’Œç±»å‹ã€‚ç»“æœè¡¨ç¤ºï¼Œåœ¨38000ä¸ªAnimatedVariablesä¸­ï¼š</p>\n<ul>\n<li>37500ä¸ªæ˜¯çº¿æ€§æ’å€¼ï¼›100ä¸ªæ˜¯ä¸€çº§ï¼Œ400ä¸ªæ˜¯äºŒçº§</li>\n<li>31500ä¸ªä»…æœ‰ä¸€ä¸ªå…³é”®å€¼ï¼›2500ä¸ªæœ‰3ä¸ªå…³é”®å€¼ï¼›1500æœ‰2ä¸ªæˆ–è€…4ä¸ªå…³é”®å€¼</li>\n</ul>\n<p>æ‰€ä»¥æœ€å¸¸è§çš„é€”å¾„æ˜¯é’ˆå¯¹å•é”®å€¼ã€‚å› ä¸ºä»£ç æ€»æ˜¯ç”ŸæˆæŸ¥è¯¢è¡¨ï¼Œè¿™å°±äº§ç”Ÿäº†ä¸€ä¸ªä¸éœ€è¦ä¼ æ’­çš„å•æ•°å€¼è¡¨ã€‚ä¹Ÿå°±æ„å‘³ç€æ¯æ¬¡æŸ¥è¯¢ï¼ˆæ€»æ˜¯è¿”å›ç›¸åŒå€¼ï¼‰ä¸€èˆ¬ä¼šäº§ç”Ÿç¼“å­˜ä¸¢å¤±ï¼Œè¿›è€Œå¯¼è‡´å¤§é‡çš„å†…å­˜å’ŒCPUå‘¨æœŸæµªè´¹ã€‚</p>\n<p>é€šå¸¸æ¥è®²ï¼Œä»£ç æˆä¸ºç“¶é¢ˆä¸€åŠæœ‰å››ä¸ªåŸå› ï¼š</p>\n<ul>\n<li>è°ƒç”¨é¢‘ç‡è¿‡é«˜</li>\n<li>ç®—æ³•é€‰æ‹©ä¸ä½³ï¼šå¦‚O(n^2)vsO(n)</li>\n<li>åšäº†ä¸å¿…è¦çš„å·¥ä½œæˆ–è€…å¤ªé¢‘ç¹çš„æ‰§è¡Œå¿…è¦çš„æ“ä½œ</li>\n<li>æ•°æ®è¾ƒå·®ï¼šæˆ–è€…æ˜¯æ•°æ®é‡å¤ªå¤§ï¼Œæˆ–è€…æ˜¯æ•°æ®åˆ†å¸ƒå’Œè®¿é—®æ¨¡å¼è¾ƒå·®</li>\n</ul>\n<p>è¿™é‡Œäº§ç”Ÿçš„é—®é¢˜åŸå› ä¸æ˜¯ç”±äºä»£ç è®¾è®¡ä¸å¥½æˆ–è€…å¼€å‘è´¨é‡å¯¼è‡´ã€‚è§£å†³æ–¹æ¡ˆæ˜¯å¥½çš„ï¼Œä½†æ˜¯åœ¨è¢«ç¾æœ¯å¸ˆå¤§é‡ä½¿ç”¨ä¹‹åï¼Œæ™®é€šè·¯å¾„æ˜¯é’ˆå¯¹å•å€¼çš„ï¼Œè€Œè¿™äº›ç®€å•çš„é—®é¢˜åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­æ˜¯å¾ˆä¸æ˜æ˜¾çš„ã€‚</p>\n<p>é¡ºä¾¿è¯´ä¸€å¥ï¼Œæˆ‘å­¦ä¼šäº†ä½œä¸ºä¸€åç¨‹åºå‘˜æœ€é‡è¦çš„äº‹æƒ…ä¹‹ä¸€ä¾¿æ˜¯å°Šé‡ä½ æ­£åœ¨å¤„ç†çš„ä»£ç ã€‚ä»£ç æœ‰å¯èƒ½çœ‹èµ·å¾ˆç–¯ç‹‚ï¼Œä½†æ˜¯è¿™æ ·å†™çš„ç›®çš„å¯èƒ½æ˜¯åŸºäºä¸€ä¸ªå¥½çš„å‡ºå‘ç‚¹ã€‚åœ¨æ²¡æœ‰å®Œå…¨ç†è§£ä»£ç å¦‚ä½•ä½¿ç”¨å’Œå…¶ä¸ºä½•è®¾è®¡ä¹‹å‰ä¸è¦é”™è¯¯çš„è®¤ä¸ºè¿™äº›ä»£ç æ˜¯ä¸‘é™‹æ„šè ¢çš„ã€‚</p>\n<p><img src=\"http://7xrgsx.com1.z0.glb.clouddn.com/codesoftly_comic.jpg\" alt=\"\"></p>\n<p>æ¥è‡ªï¼š<a href=\"http://codesoftly.com/2010/03/ha-code-entropy-explained.html\" target=\"_blank\" rel=\"external\">http://codesoftly.com/2010/03/ha-code-entropy-explained.html</a></p>\n<h2 id=\"æ­¥éª¤3-è¿­ä»£\"><a href=\"#æ­¥éª¤3-è¿­ä»£\" class=\"headerlink\" title=\"æ­¥éª¤3:è¿­ä»£\"></a>æ­¥éª¤3:è¿­ä»£</h2><p>ç°åœ¨æˆ‘ä»¬äº†è§£äº†å“ªéƒ¨åˆ†ä»£ç æ‰§è¡Œè¾ƒæ…¢ã€è¿™éƒ¨åˆ†ä»£ç æœ¬æ„æ˜¯ä»€ä¹ˆå’Œä¸ºä½•æ‰§è¡Œè¾ƒæ…¢ï¼Œæ˜¯æ—¶å€™å¼€å§‹æ„æƒ³è§£å†³æ–¹æ¡ˆäº†ã€‚æ¯ä¸ªå¸¸è§çš„æ‰§è¡Œè·¯å¾„éƒ½æ˜¯ä¸ºå•ç‹¬å˜é‡è®¾è®¡ï¼Œæˆ‘ä»¬è¿˜çŸ¥é“æ•°é‡å°‘çš„é”®çš„çº¿æ€§æ’å€¼éå¸¸å¿«ï¼ˆåœ¨å°‘é‡é«˜é€Ÿç¼“å­˜ä¸­ä½œç®€å•çš„è®¡ç®—ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨è€ƒè™‘è¿™ç§æƒ…å†µçš„åŸºç¡€ä¸Šè¿›è¡Œé‡æ–°è®¾è®¡ã€‚æœ€åï¼Œæˆ‘ä»¬å¯ä»¥å›åˆ°å‰é¢ç½•è§é›†æˆæ›²çº¿çš„é¢„è®¡ç®—æŸ¥è¯¢è¡¨ä¸Šã€‚</p>\n<p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå½“æˆ‘ä»¬ä¸ä½¿ç”¨æŸ¥è¯¢è¡¨æ—¶ï¼Œé¦–å…ˆæ„é€ è¿™äº›è¡¨æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œæ‰€ä»¥ä¼šé‡Šæ”¾å¤§é‡æ„ä¹‰éå‡¡çš„å†…å­˜ï¼ˆå¤§å¤šæ•°è¡¨å…·æœ‰256ä¸ªæ¡ç›®æˆ–è€…æ›´å¤šï¼Œæ¯ä¸ªæ¡ç›®å¯è¾¾12å­—èŠ‚çš„å¤§å°ï¼Œè¿™ç›¸å½“äºå¤§çº¦æ¯å¼ è¡¨3kbï¼‰ã€‚æ‰€ä»¥ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨é¢å¤–çš„ä¸€äº›å†…å­˜æ¥æ·»åŠ ç¼“å­˜çš„æ¡ç›®å’Œå­˜å‚¨çš„å•å€¼çš„æ•°é‡ã€‚</p>\n<p>ä¹‹å‰çš„ä»£ç çœ‹èµ·æ¥æ˜¯è¿™ä¸ªæ ·å­çš„ï¼š</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">template</span> &lt;<span class=\"keyword\">typename</span> T&gt;</span><br><span class=\"line\"><span class=\"keyword\">class</span> AnimatedVariable</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">// &lt;snip&gt;</span></span><br><span class=\"line\"><span class=\"keyword\">private</span>:</span><br><span class=\"line\">    <span class=\"built_in\">std</span>::<span class=\"built_in\">vector</span>&lt;<span class=\"keyword\">float</span>&gt; mTimes;</span><br><span class=\"line\">    <span class=\"built_in\">std</span>::<span class=\"built_in\">vector</span>&lt;T&gt;     mValues;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">template</span> &lt;<span class=\"keyword\">typename</span> T&gt;</span><br><span class=\"line\"><span class=\"keyword\">class</span> AnimatedVariablePrecomputed</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">// &lt;snip&gt;</span></span><br><span class=\"line\"><span class=\"keyword\">private</span>:</span><br><span class=\"line\">    <span class=\"built_in\">std</span>::<span class=\"built_in\">vector</span>&lt;T&gt; mPrecomutedValues;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>AnimatedVariablePrecomputedå¯¹è±¡åœ¨AnimatedVariableä¸­è¿›è¡Œæ„é€ ï¼Œä»å®ƒçš„æŒ‡å®šå¤§å°æ’å€¼å’Œæ„å»ºä¸€ä¸ªè¡¨ã€‚Evaluate()ä»…åœ¨é¢„è®¡ç®—å¯¹è±¡ä¸­è¢«è°ƒç”¨ã€‚</p>\n<p>æˆ‘ä»¬ä¿®æ”¹äº†ä¸€ä¸‹AnimatedVariableç±»ï¼Œç°åœ¨çœ‹èµ·æ¥æ˜¯è¿™ä¸ªæ ·å­çš„ï¼š</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">template</span> &lt;<span class=\"keyword\">typename</span> T&gt;</span><br><span class=\"line\"><span class=\"keyword\">class</span> AnimatedVariable</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">// &lt;snip&gt;</span></span><br><span class=\"line\"><span class=\"keyword\">private</span>:</span><br><span class=\"line\">    <span class=\"keyword\">int</span> mNumValues;</span><br><span class=\"line\">    T mSingleValue;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">struct</span> Key</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">float</span> mTime;</span><br><span class=\"line\">        T     mvalue;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    <span class=\"built_in\">std</span>::<span class=\"built_in\">vector</span>&lt;Key&gt; mKeys;</span><br><span class=\"line\">    AnimatedVariablePrecomputed&lt;T&gt; *mPrecomputed;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>æˆ‘ä»¬æ·»åŠ äº†ä¸€ä¸ªç¼“å­˜å€¼mSingleValueï¼Œå’Œä¸€ä¸ªæ•´æ•°mNumValuesï¼Œç”¨äºå‘Šè¯‰æˆ‘ä»¬ä½•æ—¶æ‰ä½¿ç”¨mSingleValueã€‚å¦‚æœmNumValuesæ˜¯1ï¼ˆå³å¯¹åº”å•å€¼çš„æƒ…å†µï¼‰ï¼ŒEvaluate()ä¼šç›´æ¥è¿”å›mSingleValueçš„å€¼â€”â€”ä¸éœ€è¦å…¶ä»–å¤šä½™çš„å¤„ç†ã€‚ä½ è¿˜å¯ä»¥æ³¨æ„åˆ°æ’å…¥æ—¶é—´å’Œå€¼æ„é€ çš„Keyèƒ½å¤Ÿå‡å°‘ç¼“å­˜æœªå‘½ä¸­çš„æƒ…å†µã€‚</p>\n<p>æŒ‡å‘æ­¤ç±»çš„æ•°æ®å‘é‡å¤§å°ç°åœ¨èŒƒå›´ä»24åˆ°36ä¸ªå­—èŠ‚ä¸ç­‰ï¼Œå…·ä½“å–å†³äºæ¨¡æ¿ç±»å‹ï¼ˆåŒæ—¶ä¹Ÿä¾èµ–ä¸å¹³å°ï¼Œstd::vector&lt;&gt;çš„å¤§å°ä¹Ÿä¼šä¸åŒï¼‰ã€‚</p>\n<p>Evaluate()ä¹‹å‰çš„ä»£ç çœ‹èµ·æ¥æ˜¯è¿™æ ·å­çš„ï¼š</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">template</span> &lt;<span class=\"keyword\">typename</span> T&gt;</span><br><span class=\"line\">T AnimatedVariablePrecomputed&lt;T&gt;::Evaluate(<span class=\"keyword\">float</span> time) <span class=\"keyword\">const</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    in numValues = mPrecomputedValues.size();</span><br><span class=\"line\">    RIOT_ASSERT(numValues &gt; <span class=\"number\">1</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">int</span> index = <span class=\"keyword\">static_cast</span>&lt;<span class=\"keyword\">int</span>&gt;(time * numValues);</span><br><span class=\"line\">    <span class=\"comment\">// clamp to valid table entry to handle the 1.0 boundary or out of bounds input</span></span><br><span class=\"line\">    index = Clamp(index, <span class=\"number\">0</span>, numValues - <span class=\"number\">1</span>);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> mPrecomputedValues[index];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ä¿®æ”¹åçš„Evaluate()æ–¹æ³•ä»£ç å¦‚ä¸‹ï¼Œè¿™æ˜¯åœ¨VTuneä¸­å±•ç¤ºçš„ã€‚ä½ å¯ä»¥çœ‹åˆ°ä¸‰ä¸ªå¯èƒ½çš„æ‰§è¡Œcaseï¼šå•å€¼ï¼ˆçº¢è‰²éƒ¨åˆ†ï¼‰ï¼Œçº¿æ€§æ’å€¼ï¼ˆè“è‰²éƒ¨åˆ†ï¼‰å’Œé¢„è®¡ç®—æŸ¥è¯¢ï¼ˆç»¿è‰²éƒ¨åˆ†ï¼‰ã€‚</p>\n<p><img src=\"http://7xrgsx.com1.z0.glb.clouddn.com/VTune3.PNG\" alt=\"\"></p>\n<p>åœ¨VTuneä¸­å±•ç¤ºçš„ä¼˜åŒ–è¿‡çš„ä»£ç ç‰‡æ®µ</p>\n<p>ä¿®æ”¹åçš„ä»£ç æ‰§è¡Œé€Ÿåº¦å¤§çº¦å¿«äº†3å€ï¼šåœ¨æœ€æ…¢çš„å‡½æ•°åˆ—è¡¨ä¸­è¯¥å‡½æ•°ä»ç¬¬ä¸‰ä½é™åˆ°äº†ç¬¬22ä½ï¼ä¸ä»…æ‰§è¡Œæ›´å¿«ï¼ŒåŒæ—¶è¿˜é™ä½äº†å†…å­˜çš„ä½¿ç”¨ï¼Œå¤§çº¦å‡å°‘äº†750kbã€‚è¿™è¿˜ä¸ç®—å®Œï¼Œä¸ä»…å‡½æ•°æ‰§è¡Œæ›´å¿«ï¼Œå å†…å­˜æ›´å°‘ï¼ŒåŒæ—¶æé«˜äº†çº¿æ€§æ’å€¼çš„å‡†ç¡®åº¦ã€‚å¯è°“ä¸€çŸ³ä¸‰é¸Ÿã€‚</p>\n<p>è¿™é‡Œå¹¶æ²¡æœ‰æåˆ°çš„å†…å®¹ï¼ˆå°½ç®¡æ–‡ç« å·²ç»è¶³å¤Ÿé•¿äº†ï¼‰æ˜¯æˆ‘å¦‚ä½•é€šè¿‡ä¸æ–­è¿­ä»£æ‰¾åˆ°äº†è¿™ä¸ªè§£å†³æ–¹æ¡ˆã€‚æˆ‘æœ€åˆçš„å°è¯•å‡å°‘åœ¨ç²’å­ç”Ÿå‘½å‘¨æœŸå†…æ ·æœ¬è¡¨çš„å¤§å°ã€‚è¿™ä¸ªæ–¹æ¡ˆå‡ ä¹æœ‰æ•ˆâ€”â€”ä½†æœ‰äº›ç§»åŠ¨è¾ƒå¿«çš„ç²’å­ç”±äºæ ·æœ¬è¡¨çš„å‡å°‘ï¼Œå˜çš„å‚å·®ä¸é½ã€‚å¹¸è¿çš„æ˜¯ï¼Œè¿™ä¸ªç°è±¡å¾ˆå¿«å°±è¢«å‘ç°äº†ï¼Œä½¿å¾—æˆ‘ä¾ç„¶èƒ½å¤Ÿå°†æ–¹æ¡ˆæ›´æ¢ä¸ºæœ¬æ–‡ä¸­æåˆ°çš„æ–¹æ³•ã€‚å½“ç„¶è¿˜æœ‰ä¸€äº›å…¶ä»–çš„ä»£ç ä¿®æ”¹ï¼Œä½†æ˜¯å¯¹äºæ€§èƒ½æé«˜å¹¶æ²¡æœ‰ç›´æ¥æ•ˆæœï¼Œä¹Ÿæœ‰äº›ä»£ç çš„ä¿®æ”¹ç”šè‡³é€ æˆäº†ä»£ç æ‰§è¡Œæ›´æ…¢ã€‚</p>\n<h2 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a>æ€»ç»“</h2><p>æœ¬æ–‡ä¸­ä»‹ç»çš„æ˜¯è‹±é›„è”ç›Ÿæ¸¸æˆä»£ç åº“ä¸­ä»£ç ä¼˜åŒ–çš„ä¸€ä¸ªå…¸å‹æ¡ˆä¾‹ã€‚è™½ç„¶å˜åŠ¨æ›´å°ï¼Œä½†æ˜¯è¿™ä¸ªæ”¹åŠ¨ä½¿å¾—å†…å­˜èŠ‚çº¦äº†750kbï¼Œç²’å­çº¿ç¨‹æ¯”è¾ƒä¹‹å‰è¿è¡Œå¿«äº†1åˆ°2æ¯«ç§’ï¼Œè¿™ä½¿å¾—ä¸»çº¿ç¨‹æ‰§è¡Œçš„æ›´å¿«ã€‚</p>\n<p>å½“ç¨‹åºå‘˜å¯»æ±‚ä¼˜åŒ–çš„æ—¶å€™ï¼Œè™½ç„¶çœ‹ä¼¼æ˜¾è€Œæ˜“è§ï¼Œä½†è¿™é‡Œæåˆ°çš„ä¸‰ä¸ªé˜¶æ®µéƒ½å¸¸å¸¸ä¼šè¢«å¿½è§†ã€‚è¿™é‡Œåªæ˜¯ä¸ºäº†å¼ºè°ƒä¸€ä¸‹ï¼š</p>\n<ol>\n<li>é‰´åˆ«ï¼šåˆ†æåº”ç”¨å¹¶æ‰¾å‡ºæ€§èƒ½æœ€å·®çš„éƒ¨åˆ†</li>\n<li>ç†è§£ï¼šç†è§£ä»£ç çš„æœ¬æ„å’Œæ‰§è¡Œç¼“æ…¢çš„åŸå› </li>\n<li>è¿­ä»£ï¼šåŸºäºä¸Šé¢ä¸¤ä¸ªé˜¶æ®µçš„åˆ°çš„æˆæœè¿›è¡Œä»£ç çš„ä¿®æ”¹ã€è¿­ä»£ï¼Œå¹¶é‡æ–°åˆ†æã€‚é‡å¤è¿™ä¸‰ä¸ªæ­¥éª¤ç›´åˆ°è¶³å¤Ÿå¿«ã€‚</li>\n</ol>\n<p>ä¸Šé¢æåˆ°çš„è§£å†³æ–¹æ¡ˆä¸è§å¾—æ˜¯æœ€å¿«çš„è§£å†³æ–¹æ¡ˆï¼Œä½†è‡³å°‘æ–¹å‘æ˜¯æ­£ç¡®çš„â€”â€”æ€§èƒ½æå‡çš„å®‰å…¨è·¯å¾„æ˜¯é€šè¿‡è¿­ä»£æ”¹è¿›ã€‚</p>\n<p>æœ¬æ–‡ä½œè€…ï¼šTony Albrecht</p>\n","excerpt":"<blockquote>\n<p>åŸæ–‡åœ°å€ï¼š<a href=\"http://engineering.riotgames.com/news/random-acts-optimization\">ä¼ é€é—¨</a><br>åŸåˆ›ç¿»è¯‘ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„</p>\n</blockquote>\n<p><img src=\"http://7xrgsx.com1.z0.glb.clouddn.com/particlesheader2.png\" alt=\"\"></p>\n<p>å¯¹äºåƒè‹±é›„è”ç›Ÿè¿™æ ·ä¸æ–­æ¼”è¿›çš„äº§å“çš„å¼€å‘è€…è€Œè¨€ï¼Œéœ€è¦ä¸æ–­çš„è‡´åŠ›äºä¸ç³»ç»Ÿçš„ç†µä½œæ–—äº‰ï¼Œå› ä¸ºä»–ä»¬å°†è¶Šæ¥è¶Šå¤šçš„å†…å®¹æ·»åŠ åˆ°èµ„æºæœ‰é™çš„æœåŠ¡å™¨ä¸­ã€‚æ–°çš„å†…å®¹å¸¦äº†æ–°çš„éšæ€§æˆæœ¬â€”â€”ä¸ä»…æ˜¯æ›´å¤šçš„å®æ–½æˆæœ¬ï¼ŒåŒæ—¶ä¹ŸåŒ…æ‹¬ç”±äºåˆ›é€ äº†æ›´å¤šçš„çº¹ç†ã€ä»¿çœŸå’Œå¤„ç†é€ æˆçš„å†…å­˜å’Œæ€§èƒ½æˆæœ¬ã€‚å¦‚æœæˆ‘ä»¬å¿½ç•¥ï¼ˆæˆ–è€…é”™è¯¯ä¼°ç®—ï¼‰äº†è¿™äº›æˆæœ¬ï¼Œåˆ™æ•´ä½“æ¸¸æˆæ€§èƒ½ä¸ä½³ï¼Œå¯ç©æ€§å‡å°‘ã€‚æ•…éšœä½¿äººåŒæ¶ï¼Œå»¶è¿Ÿä½¿äººæ„¤æ€’ï¼Œå¸§ç‡ä¸‹é™è®©äººæ²®ä¸§ã€‚<br>","more":"</p>\n<p>æˆ‘æ˜¯è‡´åŠ›äºæé«˜è‹±é›„è”ç›Ÿæ€§èƒ½å›¢é˜Ÿä¸­çš„ä¸€å‘˜ã€‚æˆ‘ä»¬ä¸ºå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨åšå¿«ç…§ï¼Œå‘ç°é—®é¢˜ (æ€§èƒ½ç›¸å…³å’Œå…¶ä»–)ï¼Œç„¶åä¿®å¤é—®é¢˜ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬å°†åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å­¦åˆ°çš„ä¸œè¥¿åé¦ˆå…¶ä»–å›¢é˜Ÿï¼Œå¹¶ä¸”ç»™ä»–ä»¬æä¾›å·¥å…·ï¼Œä½¿ä»–ä»¬åœ¨å½±å“ç”¨æˆ·ä¹‹å‰æ¥æ£€æµ‹å¹¶å®šä½ä»–ä»¬è‡ªå·±çš„æ€§èƒ½é—®é¢˜ã€‚æˆ‘ä»¬ä¸æ–­çš„æé«˜è‹±é›„è”ç›Ÿçš„æ€§èƒ½ä¸ºè‰ºæœ¯å®¶å’Œè®¾è®¡å¸ˆæ·»åŠ æ–°çš„ä¸œè¥¿æä¾›äº†ç©ºé—´ï¼šå½“ä»–ä»¬ä½¿æ¸¸æˆæ›´åºå¤§æ›´ä¼˜ç§€çš„åŒæ—¶ï¼Œæˆ‘ä»¬ä½¿ä¹‹æ›´å¿«ã€‚</p>\n<p>è¿™æ˜¯å…³äºæˆ‘ä»¬å›¢é˜Ÿå¦‚ä½•ä¼˜åŒ–è‹±é›„è”ç›Ÿæ€§èƒ½ç³»åˆ—çš„ç¬¬ä¸€ç¯‡æ–‡ç« ï¼Œåç»­æˆ‘ä»¬å°†ä¸æ–­æŒç»­æ›´æ–°ã€‚è¿™æ˜¯ä¸€é¡¹å›æŠ¥ä¸°åšçš„æŒ‘æˆ˜ï¼Œè¿™ç¯‡æ–‡ç« å°†æ·±å…¥ä»‹ç»æˆ‘ä»¬åœ¨ç²’å­ç³»ç»Ÿä¸­é‡åˆ°çš„ä¸€äº›æœ‰è¶£çš„æŒ‘æˆ˜â€”â€”æ­£å¦‚åœ¨ä¸‹å›¾ä¸­ï¼Œä½ å¯ä»¥çœ‹åˆ°ç²’å­ç³»ç»Ÿåœ¨æ¸¸æˆä¸­æ‰®æ¼”äº†ååˆ†é‡è¦çš„è§’è‰²ã€‚</p>\n<p><img src=\"http://7xrgsx.com1.z0.glb.clouddn.com/TeamParticles.gif\" alt=\"GIFå›¾\"></p>\n<p>ä¸Šå›¾æ˜¯åœ¨è‹±é›„è”ç›Ÿæ¸¸æˆä¸­é«˜ç²’å­å¯†åº¦çš„ä¸€ä¸ªä¾‹å­ã€‚</p>\n<p>ä¼˜åŒ–ï¼Œå¹¶ä¸æ˜¯åœ¨ç¨‹åºé›†ä¸­é‡å†™å¤§é‡çš„ä»£ç â€”â€”å°½ç®¡æœ‰äº›æ—¶å€™æ˜¯è¿™æ ·çš„ã€‚æˆ‘ä»¬ä»…å˜æ›´é‚£äº›ä¸ä»…èƒ½å¤Ÿæé«˜æ€§èƒ½ï¼Œè€Œä¸”ç»´æŠ¤æ­£ç¡®æ€§çš„ä»£ç ï¼Œå¦‚æœæœ‰å¯èƒ½çš„è¯ï¼Œè¿˜ä¼šæé«˜ä»£ç è´¨é‡ã€‚æœ€åä¸€é¡¹ç•¥æ˜¾æŒ‘å‰”ï¼šä»»ä½•ä¸æ˜“è¯»ã€ä¸æ˜“ç»´æŠ¤çš„ä»£ç éƒ½ä¼šäº§ç”ŸæŠ€æœ¯å€ºåŠ¡ï¼Œè¿™ä¸ªæˆ‘ä»¬ç¨åå†è°ˆã€‚</p>\n<p>ä¼˜åŒ–å·²æœ‰çš„ä»£ç åº“ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†ä¸‰ä¸ªåŸºæœ¬æ­¥éª¤ï¼šé‰´åˆ«ã€ç†è§£å’Œè¿­ä»£ã€‚</p>\n<p><em>æ­¥éª¤ä¸€ï¼šé‰´åˆ«</em></p>\n<p>åœ¨å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦ç¡®è®¤å“ªäº›ä»£ç éœ€è¦è¿›è¡Œä¼˜åŒ–ã€‚å³ä½¿æœ‰äº›ä»£ç çœ‹èµ·æ¥æ˜æ˜¾æ€§èƒ½è¾ƒå·®ï¼Œä½†æ˜¯ç”±äºå…¶å¯¹æ•´ä½“æ€§èƒ½å½±å“æå°ï¼Œä¼˜åŒ–è¿™ç±»ä»£ç æ”¶ç›Šæå°‘ï¼ˆå°¤å…¶å½“èŠ±è´¹åœ¨ä¸Šé¢çš„æ—¶é—´å’Œç²¾åŠ›åœ¨å…¶ä»–æ–¹é¢å¯ä»¥åšåˆ°æ›´å¥½çš„æ”¶ç›Šï¼‰ã€‚æˆ‘ä»¬ä½¿ç”¨ä»£ç æ£€æµ‹å·¥å…·å’Œé‡‡æ ·åˆ†æå™¨æ¥å¸®åŠ©è¯†åˆ«éæ€§èƒ½éƒ¨åˆ†çš„åŸºæœ¬ä»£ç ã€‚</p>\n<p><em>æ­¥éª¤äºŒï¼šç†è§£</em></p>\n<p>ä¸€æ—¦æˆ‘ä»¬å¾—çŸ¥ä»£ç åº“çš„å“ªéƒ¨åˆ†ä»£ç æ€§èƒ½è¾ƒå·®ï¼Œæˆ‘ä»¬ä¾¿ä¼šè¯¦ç»†çš„æŸ¥çœ‹è¿™éƒ¨åˆ†ä»£ç ä»¥æ±‚å®Œå…¨ç†è§£ä»£ç ã€‚ç†è§£ä»£ç æ„å‘³ç€ç†è§£è¿™äº›ä»£ç çš„å«ä¹‰åŠåŸæœ¬çš„ç›®çš„ã€‚æ¥ç€ï¼Œæˆ‘ä»¬å°±èƒ½çŸ¥æ‚‰ä¸ºä½•è¿™äº›ä»£ç äº§ç”Ÿç“¶é¢ˆäº†ã€‚</p>\n<p><em>æ­¥éª¤ä¸‰ï¼šè¿­ä»£</em></p>\n<p>å½“æˆ‘ä»¬ç†è§£äº†ä¸ºä½•ç‰¹å®šéƒ¨åˆ†ä»£ç æ‰§è¡Œè¾ƒæ…¢åŠä»£ç æœ¬æ„è¦æ‰§è¡Œçš„å†…å®¹ï¼Œæˆ‘ä»¬å°±æœ‰äº†è¶³å¤Ÿçš„ä¿¡æ¯æ¥è®¾è®¡å’Œå¼€å‘ä¸€å¥—å¯è¡Œçš„è§£å†³æ–¹æ¡ˆã€‚ä½¿ç”¨é‰´åˆ«æ­¥éª¤ä¸­çš„å·¥å…·å’Œå¾—åˆ°çš„å¿«ç…§æ•°æ®ï¼Œæˆ‘ä»¬å°†æ–°ä»£ç å’Œæ—§ä»£ç çš„æ€§èƒ½åšäº†æ¯”è¾ƒã€‚å¦‚æœè§£å†³æ–¹æ¡ˆæ•ˆæœå‡ºä¼—ï¼Œæˆ‘ä»¬ä¼šå½»åº•çš„è¿›è¡Œæµ‹è¯•ä»¥ç¡®ä¿ä¸å¼•å…¥æ¥æ–°çš„bugï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥å°±å¯ä»¥å‡»æŒåº†è´ºäº†ï¼Œå› ä¸ºæˆ‘ä»¬å·²ç»ä¸ºå…¶ä»–å†…éƒ¨æµ‹è¯•åšå¥½äº†å……åˆ†çš„å‡†å¤‡ã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæ–°çš„ä»£ç ä¸è§çš„è¶³å¤Ÿå¿«ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸æ–­è¿­ä»£è§£å†³æ–¹æ¡ˆï¼ŒçŸ¥é“æ–°çš„ä»£ç èƒ½è¾¾åˆ°ä¼˜åŒ–çš„ç›®çš„ã€‚</p>\n<p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬çœ‹ä¸‹åœ¨è‹±é›„è”ç›Ÿä»£ç åº“ä¸­è¿™å‡ ä¸ªæ­¥éª¤çš„å®æ–½ç»†èŠ‚ï¼Œå¹¶ä»¥æœ€è¿‘ä¼˜åŒ–çš„ç²’å­ç³»ç»Ÿé€æ­¥ä»‹ç»ã€‚</p>\n<h2 id=\"æ­¥éª¤1-é‰´åˆ«\"><a href=\"#æ­¥éª¤1-é‰´åˆ«\" class=\"headerlink\" title=\"æ­¥éª¤1:é‰´åˆ«\"></a>æ­¥éª¤1:é‰´åˆ«</h2><p>æ‹³å¤´çš„å·¥ç¨‹å¸ˆä½¿ç”¨å¤§é‡çš„åˆ†æå·¥å…·æ¥æ£€æŸ¥æ¸¸æˆå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨çš„æ€§èƒ½ã€‚æˆ‘ä»¬å…ˆæŸ¥çœ‹æ¥å®¢æˆ·ç«¯çš„å¸§ç‡å’Œé€šè¿‡Waffleså¾—åˆ°çš„é«˜çº§åˆ†æä¿¡æ¯ï¼ˆé€šè¿‡å·¥å…·çš„ç‰¹å®šå‡½æ•°è·å¾—çš„è¾“å‡ºä¿¡æ¯ï¼‰ï¼Œè¿™ä¸ªå†…éƒ¨å·¥å…·å¯ä»¥è®©æˆ‘ä»¬åœ¨å†…éƒ¨æ„å»ºçš„å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¿æŒè”é€šã€‚æ­¤å¤–ï¼ŒWafflesè¿˜å…·å¤‡å…¶ä»–åŠŸèƒ½ï¼Œå¦‚åœ¨æµ‹è¯•è¿‡ç¨‹ä¸­è§¦å‘è°ƒè¯•ã€æ£€æŸ¥æ¸¸æˆå†…éƒ¨æ•°æ®å¦‚å¯¼èˆªåˆ†æ ¼å’Œæš‚åœæˆ–è€…å‡ç¼“æ¸¸æˆè¿‡ç¨‹ã€‚</p>\n<p><img src=\"http://7xrgsx.com1.z0.glb.clouddn.com/Waffles.png\" alt=\"\"><br>Wafflesæˆªå›¾</p>\n<p>Wafflesæä¾›äº†ä¸€ä¸ªå®æ—¶å±•ç¤ºç•Œé¢ï¼Œå¹¶æä¾›è¯¦ç»†çš„æ€§èƒ½ä¿¡æ¯ã€‚ä¸Šå›¾æ˜¯Waffleså¦‚ä½•å±•ç°å®¢æˆ·ç«¯æ€§èƒ½è¡¨ç°çš„ç»å…¸ä¾‹å­ï¼Œä¸Šè¾¹å›¾å½¢ï¼ˆç»¿è‰²æŸ±çŠ¶å›¾ï¼‰ä»¥æ¯«ç§’ä¸ºå•ä½è¡¨ç¤ºäº†å¸§ç‡â€”â€”è¶Šé«˜çš„æŸ±çŠ¶å›¾è¡¨ç¤ºè¶Šä½çš„å¸§ç‡ã€‚éå¸¸æ…¢çš„å¸§ç‡åœ¨æ¸¸æˆä¸­æ˜¯å¯ä»¥æ„Ÿå—å¾—åˆ°çš„ã€‚æŸ±çŠ¶å›¾ä¸‹é¢æ˜¯é‡è¦åŠŸèƒ½çš„åˆ†å±‚è§†å›¾ï¼Œé€šè¿‡ç‚¹å‡»ä»»ä½•ç»¿è‰²æŸ±çŠ¶å›¾ï¼Œå·¥ç¨‹å¸ˆéƒ½ä¼šçœ‹åˆ°å½±å“è¯¥å¸§ç‡çš„è¯¦ç»†ä¿¡æ¯ã€‚é€šè¿‡è¿™é‡Œï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºäº›ç«¯å€ªï¼Œå³å“ªéƒ¨åˆ†ä»£ç è¿è¡Œæ—¶å¯¼è‡´æ€§èƒ½è¾ƒå·®çš„å…³é”®ã€‚</p>\n<p>æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªç®€å•çš„å®åœ¨ä»£ç åº“å†…æ‰‹å·¥æ£€æµ‹ä¸€äº›é‡è¦å‡½æ•°æ¥æä¾›è¿™ä»½æ€§èƒ½ç›¸å…³çš„ä¿¡æ¯ã€‚åœ¨å¯¹å¤–å‘å¸ƒçš„æ¸¸æˆç‰ˆæœ¬ä¸­ï¼Œè¿™ä¸ªå®å¹¶æ²¡æœ‰è¢«æ‰“åŒ…ç¼–è¯‘ï¼Œä½†åœ¨æµ‹è¯•ç‰ˆæœ¬æ‰“åŒ…ä¸­ï¼Œè¿™ä¸ªå®ä½œä¸ºä¸€ä¸ªå¾ˆå°çš„classå­˜åœ¨ï¼Œå®ƒåˆ›å»ºäº†ä¸€ä¸ªäº‹ä»¶ï¼Œå­˜æ”¾äºé…ç½®æ–‡ä»¶ç¼“å†²åŒºã€‚è¯¥äº‹ä»¶åŒ…å«ä¸€ä¸ªå­—ç¬¦ä¸²è¯†åˆ«ç ã€ä¸€ä¸ªçº¿ç¨‹IDã€ä¸€ä¸ªæ—¶é—´æˆ³å’Œå…¶ä»–å¿…è¦çš„ä¿¡æ¯ï¼ˆæ¯”å¦‚å®ƒè¿˜å¯ä»¥å­˜å‚¨åœ¨å…¶ç”Ÿå‘½å‘¨æœŸå†…æ‰€æœ‰å‘ç”Ÿçš„å†…å­˜é…ç½®æ•°ï¼‰ã€‚å½“å¯¹è±¡è¶…å‡ºèŒƒå›´åï¼Œææ„å™¨ä¼šåœ¨é…ç½®ç¼“å†²åŒºä¸­æ›´æ–°è¯¥äº‹ä»¶è‡ªæ„é€ ä»¥æ¥çš„è¿è¡Œæ—¶é—´ã€‚åœ¨éšåçš„æ—¶é—´ï¼Œå¯ä»¥è¾“å‡ºå’Œè§£ææ­¤é…ç½®æ–‡ä»¶ç¼“å†²åŒºâ€”â€”ç†æƒ³çš„æƒ…å†µæ˜¯åœ¨å¦ä¸€ä¸ªè¿›ç¨‹è¿›è¡Œä»¥å°½é‡å‡å°‘å¯¹æ¸¸æˆæœ¬èº«çš„å½±å“ã€‚</p>\n<p><img src=\"http://7xrgsx.com1.z0.glb.clouddn.com/ChromeTracing1.png\" alt=\"\"><br>Chrome Tracing</p>\n<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†åˆ†æç¼“å†²åŒºè¾“å‡ºåˆ°æ–‡ä»¶ï¼Œå¹¶ä¸”è¯»å…¥åˆ°æ„å»ºåœ¨Chromeæµè§ˆä¸­å¯è§†åŒ–å·¥å…·ä¸­ï¼ˆå…³äºè·Ÿè¸ªå·¥å…·çš„æ›´å¤šä¿¡æ¯ï¼Œå¯ä»¥ç‚¹å‡»<a href=\"https://github.com/catapult-project/catapult/wiki/Trace-Viewer-Getting-Started\">è¿™é‡Œ</a>ï¼Œä½ å¯ä»¥åœ¨è‡ªå·±çš„Chromeæµè§ˆå™¨ä¸­é€šè¿‡åœ¨åœ°å€æ æ•²å…¥â€chrome://tracing/â€œè¿›è¡Œå°è¯•ã€‚è¿™ä¸ªæ‰©å±•ç¨‹åºè¢«è®¾è®¡ç”¨æ¥è¿›è¡Œç½‘é¡µæ€§èƒ½åˆ†æï¼Œè¾“å…¥æ ¼å¼æ—¶JSONï¼Œæ‰€ä»¥ä½ å¯ä»¥è½»æ¾çš„æ ¹æ®ä½ è‡ªå·±çš„æ•°æ®æ„é€ è¾“å…¥ï¼‰ã€‚é€šè¿‡å›¾å½¢åŒ–åçš„ç»“æœï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å“ªäº›æ˜¯æ‰§è¡Œè¾ƒæ…¢çš„å‡½æ•°ï¼Œæˆ–è€…åœ¨é‚£é‡Œä¸æ–­æœ‰å¤§é‡çš„å°å‡½æ•°è¢«è°ƒç”¨ï¼šè¿™äº›éƒ½æ˜¯æ¬¡ä¼˜ä»£ç çš„è¿¹è±¡ã€‚</p>\n<p>è®©æˆ‘æ¥å±•ç¤ºè¯¦ç»†æ“ä½œï¼šä¸Šé¢çš„è§†å›¾æ˜¯Chrome Tracingçš„è§†å›¾ï¼Œå›¾ä¸­å±•ç¤ºäº†å®¢æˆ·ç«¯ä¸Šä¸¤ä¸ªè¿è¡Œçš„çº¿ç¨‹ã€‚ä¸Šéƒ¨åˆ†çš„æ˜¯ä¸»çº¿ç¨‹ï¼Œæ‰§è¡Œå¤§å¤šæ•°çš„å¤„ç†å·¥ä½œï¼Œåº•éƒ¨çš„æ˜¯ç²’å­çº¿ç¨‹ï¼Œç”¨æ¥æ‰§è¡Œç²’å­å¤„ç†ã€‚æ¯ä¸€ä¸ªç€è‰²çš„æ¨ªæ¡å‡å¯¹åº”ä¸€ä¸ªå‡½æ•°ï¼Œæ¨ªæ¡çš„é•¿åº¦æŒ‡ç¤ºäº†å…¶æ‰§è¡Œæ—¶é—´ã€‚è¢«è°ƒç”¨çš„å‡½æ•°ç”±ç«–ç›´æ ˆç»“æ„å±•ç¤ºï¼Œçˆ¶å‡½æ•°åœ¨å­å‡½æ•°ä¹‹ä¸Šã€‚è¿™ä¸ªå·¥å…·æä¾›ç»™æˆ‘ä»¬ä¸€ç§éå¸¸ç¥å¥‡æ–¹å¼æ¥å¯è§†åŒ–æ‰§è¡Œå¤æ‚åº¦ä»¥åŠå¸§çš„ç­¾åæ—¶é—´ã€‚å½“æˆ‘ä»¬å‘ç°ä¸€ä¸ªæ¬¡ä¼˜ä»£ç åŒºåŸŸï¼Œæˆ‘ä»¬å¯ä»¥æ”¾å¤§ç²’å­åŒºåŸŸä»¥æ±‚æŸ¥çœ‹æ›´å¤šç»†èŠ‚ã€‚</p>\n<p><img src=\"http://7xrgsx.com1.z0.glb.clouddn.com/ChromeTracing2.png\" alt=\"\"><br>Chrome Tracingæ”¾å¤§æ•ˆæœå›¾</p>\n<p>è®©æˆ‘ä»¬æ”¾å¤§å›¾å½¢ä¸­é—´éƒ¨åˆ†ã€‚ä»ä¸Šé¢çš„çº¿ç¨‹ä¸­æˆ‘å¯ä»¥çœ‹åˆ°ä¸€ä¸ªéå¸¸åœºçš„ç­‰å¾…ï¼Œåªæœ‰å½“ä¸‹é¢çš„ç²’å­æ¨¡æ‹Ÿå‡½æ•°æ‰§è¡Œå®Œæ¯•æ‰ç»“æŸã€‚æ¨¡æ‹ŸåŠŸèƒ½åŒ…å«å¤§é‡ä¸åŒå‡½æ•°ï¼ˆç€è‰²çš„æ¨ªæ¡ï¼‰çš„è°ƒç”¨ã€‚æ¯ä¸€ç±»éƒ½æ˜¯ç²’å­ç³»ç»Ÿçš„æ›´æ–°åŠŸèƒ½ï¼Œç”¨äºå°†ä½ç½®ã€ æ–¹å‘å’Œæ¯ä¸ªç²’å­åœ¨è¯¥ç³»ç»Ÿä¸­å…¶ä»–å¯è§æ€§çŠ¶æ€è¿›è¡Œæ›´æ–°ã€‚ä¸€ä¸ªæ˜æ˜¾çš„ä¼˜åŒ–æ–¹å¼æ˜¯å°†æ¨¡æ‹Ÿå‡½æ•°æ”¹é€ æˆå¤šçº¿ç¨‹æ–¹å¼ï¼Œå³å¯è¿è¡Œåœ¨ä¸»çº¿ç¨‹ä¸­ï¼Œä¹Ÿå¯ä»¥åœ¨ç²’å­çº¿ç¨‹ä¸­æ‰§è¡Œï¼Œå¯¹äºæœ¬ä¾‹ï¼Œæˆ‘ä»¬ä»…å…³æ³¨ä¸ä¼˜åŒ–æ¨¡æ‹Ÿä»£ç æœ¬èº«ã€‚</p>\n<p>æ—¢ç„¶ç°åœ¨æˆ‘ä»¬çŸ¥é“å»ä½•å¤„æŸ¥çœ‹æ€§èƒ½é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥åˆ‡æ¢åˆ°æ ·æœ¬åˆ†æã€‚è¿™ç±»åˆ†æå‘¨æœŸæ€§çš„è¯»å–å’Œå­˜å‚¨<a href=\"https://en.wikipedia.org/wiki/Program_counter\">ç¨‹åºè®¡æ•°å™¨</a>å’Œè¿è¡Œä¸­çš„è¿›ç¨‹çš„æ ˆä¿¡æ¯ï¼ˆå¯é€‰ï¼‰ã€‚ä¸€æ®µæ—¶é—´åï¼Œè¿™ä¸ªä¿¡æ¯å¯ä»¥ç»™å‡ºä¸€ä¸ªéšæœºæ¦‚è¿°ï¼Œæ¦‚è¿°ä¸­æè¿°äº†ä»£ç åº“å†…çš„è€—æ—¶ã€‚è¾ƒæ…¢çš„å‡½æ•°ä¼šå¾—åˆ°æ›´å¤šçš„æ ·æœ¬ï¼Œæ›´æœ‰ç”¨çš„æ˜¯ï¼Œç”¨æ—¶æœ€é•¿çš„å•ä¸ªå‡½æ•°ä¼šç´¯ç§¯æ›´å¤šçš„æ ·æœ¬ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä¸ä»…å¯ä»¥çœ‹åˆ°å“ªäº›å‡½æ•°æ‰§è¡Œæœ€æ…¢ï¼ŒåŒæ—¶å¯ä»¥çœ‹åˆ°å“ªå‡ è¡Œä»£ç æ‰§è¡Œæœ€æ…¢ã€‚å¦‚ä»Šæœ‰å¾ˆå¤šä¸é”™çš„æ ·æœ¬åˆ†æå·¥å…·å¯ä¾›é€‰æ‹©ï¼Œä»å…è´¹çš„<a href=\"http://www.codersnotes.com/sleepy\">Very Sleepy</a>åˆ°æ›´å¤šç‰¹æ€§æ”¯æŒçš„å•†ä¸šè½¯ä»¶ï¼Œå¦‚Intelçš„<a href=\"https://software.intel.com/en-us/intel-vtune-amplifier-xe\">VTune</a>ã€‚</p>\n<p>é€šè¿‡åœ¨æ¸¸æˆå®¢æˆ·ç«¯ä¸Šè¿è¡ŒVTuneæ¥æ£€æŸ¥ç²’å­çº¿ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¦‚ä¸‹åˆ—è¡¨ä¸­è¿è¡Œæœ€æ…¢çš„å‡½æ•°ã€‚</p>\n<p><img src=\"http://7xrgsx.com1.z0.glb.clouddn.com/VTune.PNG\" alt=\"\"></p>\n<p>VTuneä¸­çš„Hot Functions</p>\n<p>ä¸Šé¢çš„è¡¨æ ¼å±•ç°äº†ä¸€äº›ç²’å­ç›¸å…³çš„å‡½æ•°ã€‚ä½œä¸ºå‚è€ƒï¼Œæœ€ä¸Šé¢ä¸¤ä¸ªè¾ƒå¤§çš„å‡½æ•°ç”¨äºä¸ºæ¯ä¸ªç²’å­æ›´æ–°çŸ©é˜µå’Œä½ç½®ã€æ–¹å‘ç›¸å…³çš„çŠ¶æ€ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œæˆ‘ä»¬æ¥çœ‹åœ¨ç¬¬ä¸‰å’Œç¬¬ä¹é¡¹AnimatedVariableWithRandomFactor&lt;&gt;ä¸­çš„Evaluateå‡½æ•°ï¼Œå‡½æ•°å¾ˆå°ï¼ˆå¹¶ä¸”å®¹æ˜“ç†è§£ï¼‰ï¼Œä½†æ˜¯ç›¸å¯¹è€Œè¨€æ¯”è¾ƒè€—æ—¶ã€‚</p>\n<h2 id=\"æ­¥éª¤2-ç†è§£\"><a href=\"#æ­¥éª¤2-ç†è§£\" class=\"headerlink\" title=\"æ­¥éª¤2:ç†è§£\"></a>æ­¥éª¤2:ç†è§£</h2><p>ç°åœ¨ï¼Œæˆ‘ä»¬é€‰æ‹©äº†ä¸€ä¸ªéœ€è¦ä¼˜åŒ–çš„å‡½æ•°ï¼Œåˆ™éœ€è¦ç†è§£è¿™ä¸ªå‡½æ•°è¦åšçš„äº‹æƒ…å’Œä¸ºä»€ä¹ˆè¿™ä¹ˆåšçš„åŸå› ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼ŒAnimatedVariablesè¢«è‹±é›„è”ç›Ÿç¾æœ¯å¸ˆç”¨æ¥å®šä¹‰ç²’å­ç‰¹å¾æ˜¯å¦‚ä½•éšç€æ—¶é—´å˜åŒ–ã€‚ä¸€æ—¦ä¸€ä¸ªç¾æœ¯å¸ˆä¸ºä¸€ä¸ªç‰¹å®šçš„ç²’å­å¯è§æ€§æŒ‡å®šå…³é”®å¸§å€¼åï¼Œä»£ç ä¸­ä¾¿ä¼šæ’å…¥è¿™äº›æ•°æ®æ¥äº§ç”Ÿä¸€æ¡æ›²çº¿ã€‚æ’å€¼æ–¹æ³•æ˜¯çº¿æ€§æ’å€¼æˆ–ä¸€é˜¶æˆ–äºŒæ¬¡é›†æˆã€‚åŠ¨ç”»æ›²çº¿è¢«å¤§é‡çš„ä½¿ç”¨â€”â€”å°½åœ¨å¬å”¤å¸ˆå³¡è°·ï¼ˆè¯‘è€…æ³¨ï¼šè‹±é›„è”ç›Ÿçš„åœ°å›¾ä¹‹ä¸€ï¼Œä¹Ÿæ˜¯æœ€çƒ­é—¨çš„åœ°å›¾ï¼‰ä¸­å°±æœ‰æ¥è¿‘40000çš„åŠ¨ç”»æ›²çº¿â€”â€”æ¶µç›–äº†ä»ç²’å­é¢œè‰²æ‰©å±•åˆ°æ—‹è½¬é€Ÿåº¦æ–¹æ–¹é¢é¢ã€‚Evaluateå‡½æ•°åœ¨æ¯åœºæ¸¸æˆä¸­ä¼šè¢«è°ƒç”¨æ•°ä»¥äº¿è®¡æ¬¡ã€‚æ­¤å¤–ï¼ŒLOLä¸­çš„ç²’å­ç³»ç»Ÿæ˜¯æ¸¸æˆä½“éªŒä¸­å¾ˆé‡è¦çš„ä¸€éƒ¨åˆ†ï¼Œæ‰€ä»¥å®ƒä»¬çš„è¡Œä¸ºä¸èƒ½åšå‡ºä»»ä½•æ”¹å˜ã€‚</p>\n<p>è¿™ä¸ªç±»å…¶å®å·²ç»åšè¿‡äº†ä¼˜åŒ–ï¼Œé€šè¿‡æŸ¥è¡¨çš„æ–¹å¼ï¼Œå¯¹æ¯ä¸ªtimestepæ‰€éœ€è¦çš„å€¼éƒ½é¢„å…ˆè®¡ç®—è¿‡å¹¶å­˜å‚¨åœ¨ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œæ‰€ä»¥åœ¨è¯»å–è¿™äº›æ•°å€¼æ—¶ä¸å¿…å†æ¬¡è®¡ç®—ï¼Œæ‰€ä»¥å‡å°‘äº†è®¡ç®—çš„è€—æ—¶ã€‚è¿™æ˜¯ä¸€ä¸ªæ˜æ™ºçš„é€‰æ‹©ï¼Œå› ä¸ºæ›²çº¿çš„ä¸€é˜¶å’ŒäºŒæ¬¡é›†æˆæ˜¯ä¸€ä¸ªæ˜‚è´µçš„è¿›ç¨‹ã€‚ä¸ºæ¯ä¸ªç³»ç»Ÿä¸­çš„æ¯ä¸ªç²’å­ä¸Šçš„åŠ¨ç”»å˜é‡è¿›è¡Œè¿™ä¸ªæ“ä½œä¼šä½¿å¾—å¤„ç†è¿‡ç¨‹å¤§å¤§å‡å°‘ã€‚</p>\n<p><img src=\"http://7xrgsx.com1.z0.glb.clouddn.com/graphpointgraphsmaller.png\" alt=\"\"></p>\n<p>åŠ¨ç”»å˜é‡æ›²çº¿çš„æŸ¥è¯¢è¡¨</p>\n<p>åœ¨æŸ¥è¯¢æ€§èƒ½é—®é¢˜æ—¶ï¼Œé€šè¿‡æ‰¾åˆ°æœ€åçš„åœºæ™¯æ¥æ”¾å¤§é—®é¢˜å¾€å¾€æ˜¯ä¸€ä¸ªååˆ†æœ‰ç”¨çš„æŠ€å·§ã€‚ä¸ºäº†æ¨¡æ‹Ÿç²’å­å¤„ç†å‡ç¼“ï¼Œæˆ‘å¼€å§‹äº†ä¸€åœºå•ä¸ªç©å®¶çš„æ¸¸æˆï¼Œæ¸¸æˆä¸­æœ‰9ä¸ªä¸­æœŸçº§åˆ«çš„ç”µè„‘ï¼Œå¹¶ä¸”åœ¨ä¸‹è·¯æŒ‘èµ·äº†ä¸€åœºæ··ä¹±çš„å›¢æˆ˜ã€‚æ¥ç€ï¼Œæˆ‘åœ¨å›¢æˆ˜æœŸé—´åœ¨å®¢æˆ·ç«¯ä¸Šè¿è¡Œäº†VTuneï¼Œè®°å½•äº†å¤§é‡çš„æ•°æ®ç”¨äºåˆ†æã€‚è¿™äº›æ•°æ®ç»™å‡ºäº†åœ¨Evaluateä»£ç ä¸­çš„å½’å› æ ·æœ¬ï¼ˆå¦‚ä¸‹å›¾æ‰€ç¤ºï¼‰ã€‚</p>\n<p>ä¸‹å›¾ä¸­æˆ‘æˆªå–äº†ç¬¬91-95è¡Œä»£ç ï¼Œä¸ºäº†æ›´å¥½çš„è¯´æ˜ç¬¬90è¡Œè°ƒç”¨Evaluateçš„æƒ…å½¢ã€‚</p>\n<p><img src=\"http://7xrgsx.com1.z0.glb.clouddn.com/VTune2.png\" alt=\"\"></p>\n<p>VTuneä¸­çš„åˆ†ææ ·æœ¬</p>\n<p>å¯¹äºä¸ç†Ÿæ‚‰VTuneçš„äººæ¥è¯´ï¼Œå…¶å®è¿™ä¸ªè¯•å›¾å±•ç¤ºçš„å°±æ˜¯è§£ææœŸé—´æ‰€æ”¶é›†çš„ä»£ç ã€‚å³ä¾§çš„çº¢è‰²æ¨ªæ¡æŒ‡ç¤ºäº†å‘½ä¸­æ¬¡æ•°ï¼Œæ¨ªæ¡è¶Šé•¿å°±æ„å‘³ç€å‘½ä¸­æ¬¡æ•°è¶Šå¤šï¼Œè€Œå‘½ä¸­æ¬¡æ•°è¶Šå¤šè¡¨ç¤ºè¿™ä¸€è¡Œæ‰§è¡Œè¶Šæ…¢ã€‚æŒ¨ç€æ¨ªæ¡çš„æ—¶é—´æ˜¯å¤„ç†è¿™è¡Œä»£ç æ‰€ç”¨çš„é¢„ä¼°æ—¶é—´ã€‚ä½ ä¹Ÿå¯ä»¥å°±æŸä¸ªç‰¹å®šå‡½æ•°çš„åˆ°ä¸€ä¸ªå‡†ç¡®è§†å›¾æ¥æŸ¥çœ‹æ˜¯ä»€ä¹ˆå› ç´ â€œè´¡çŒ®â€äº†æ‰§è¡Œç¼“æ…¢ã€‚</p>\n<p>å¦‚æœå°±çº¢è‰²çš„æ¨ªæ¡æ¥çœ‹ï¼Œç¬¬95è¡Œä»£ç å°±æ˜¯é—®é¢˜æ‰€åœ¨ã€‚ä½†æ˜¯è¿™æ®µä»£ç æ‰€åšçš„ä»…ä»…æ˜¯åœ¨Vector3fä¸­å¤åˆ¶å‡ºæ‹¼å†™é”™è¯¯çš„æŸ¥è¯¢è¡¨ï¼Œä¸ºä»€ä¹ˆè¿™ä¸ªå‡½æ•°æˆä¸ºæœ€æ…¢çš„éƒ¨åˆ†å‘¢ï¼Ÿä¸ºä»€ä¹ˆ12å­—èŠ‚çš„å¤åˆ¶è¿™ä¹ˆæ…¢ï¼Ÿ</p>\n<p>ç­”æ¡ˆåœ¨äºç°ä»£CPUè®¿é—®å†…å­˜çš„æ–¹å¼ä¸­ã€‚CPUéå¸¸å¿ å®çš„éµå¾ªäº†æ‘©å°”å®šå¾‹ï¼Œæ¯å¹´éƒ½ä¼šæé€Ÿ60%ï¼Œè€Œå†…å­˜é€Ÿåº¦æ¯å¹´çš„å¢é€Ÿåªæœ‰å¯æ€œçš„10%ã€‚</p>\n<p><img src=\"http://7xrgsx.com1.z0.glb.clouddn.com/processor_memory_gap.jpg\" alt=\"\"></p>\n<p>å›¾å‡ºè‡ªã€Šè®¡ç®—æœºä½“ç³»ç»“æ„ï¼šé‡åŒ–ç ”ç©¶æ–¹æ³•ã€‹By John L. Hennessy, David A. Patterson, Andrea C. Arpaci-Dusseau</p>\n<p>ç¼“å­˜å¯ä»¥å‡å°æ€§èƒ½å·®è·ï¼Œè¿è¡Œè‹±é›„è”ç›Ÿçš„å¤§å¤šæ•°CPUéƒ½æœ‰3çº§ç¼“å­˜ï¼Œä¸€çº§ç¼“å­˜æœ€å¿«ä½†å®¹é‡æœ€å°ï¼Œä¸‰çº§ç¼“å­˜æœ€æ…¢ä½†å®¹é‡ç›¸å¯¹æœ€å¤§ã€‚ä»ä¸€çº§ç¼“å­˜è¯»å–æ•°æ®åªéœ€è¦4ä¸ªå‘¨æœŸï¼Œè€Œè¯»å–ä¸»å†…å­˜å´éœ€è¦å¤§çº¦300ä¸ªå‘¨æœŸç”šè‡³æ›´å¤šã€‚ä½ å¯ä»¥åœ¨300ä¸ªå‘¨æœŸå†…åšå¤§é‡å¤„ç†å·¥ä½œã€‚</p>\n<p>æœ€åˆæŸ¥è¯¢è¡¨çš„è§£å†³æ–¹æ¡ˆçš„é—®é¢˜åœ¨äºï¼Œè™½ç„¶ä»æŸ¥è¯¢è¡¨ä¸­çš„é¡ºåºè¯»å–å€¼çš„æ“ä½œæ˜¯éå¸¸å¿«çš„(ç”±äºç¡¬ä»¶é¢„å–)ï¼Œä½†æ˜¯æˆ‘ä»¬æ­£åœ¨å¤„ç†çš„é¢—ç²’å¹¶ä¸æ˜¯æŒ‰ç…§æ—¶é—´é¡ºåºå­˜å‚¨ï¼Œæ‰€ä»¥å®é™…æŸ¥æ‰¾é¡ºåºæ˜¯éšæœºçš„ã€‚è¿™é€šå¸¸ä¼šå¯¼è‡´CPUç­‰å¾…ä»ä¸»å­˜å‚¨è®¾å¤‡è¯»å–æ•°æ®æ—¶äº§ç”Ÿå»¶è¿Ÿã€‚è™½ç„¶300ä¸ªå‘¨æœŸæ¯”ä¸€çº§æˆ–è€…äºŒçº§é›†æˆä»£ä»·æ›´ä½ï¼Œä½†æˆ‘ä»¬è¿˜æ˜¯éœ€è¦çŸ¥é“è¿™ä¸ªå‡½æ•°åœ¨æ¸¸æˆä¸­çš„ä½¿ç”¨é¢‘ç‡å¦‚ä½•ï¼Œå› ä¸ºæ¯•ç«Ÿè¿™ä¸ªå‡½æ•°åœ¨æ¸¸æˆä¸­è¢«å¤§é‡çš„ä½¿ç”¨ã€‚</p>\n<p>ä¸ºäº†æ¢æ±‚çœŸç›¸ï¼Œæˆ‘ä»¬åœ¨ä»£ç ä¸­æ·»åŠ ä¸€äº›é¢å¤–çš„å†…å®¹æ¥æ”¶é›†AnimatedVariablesçš„æ•°é‡å’Œç±»å‹ã€‚ç»“æœè¡¨ç¤ºï¼Œåœ¨38000ä¸ªAnimatedVariablesä¸­ï¼š</p>\n<ul>\n<li>37500ä¸ªæ˜¯çº¿æ€§æ’å€¼ï¼›100ä¸ªæ˜¯ä¸€çº§ï¼Œ400ä¸ªæ˜¯äºŒçº§</li>\n<li>31500ä¸ªä»…æœ‰ä¸€ä¸ªå…³é”®å€¼ï¼›2500ä¸ªæœ‰3ä¸ªå…³é”®å€¼ï¼›1500æœ‰2ä¸ªæˆ–è€…4ä¸ªå…³é”®å€¼</li>\n</ul>\n<p>æ‰€ä»¥æœ€å¸¸è§çš„é€”å¾„æ˜¯é’ˆå¯¹å•é”®å€¼ã€‚å› ä¸ºä»£ç æ€»æ˜¯ç”ŸæˆæŸ¥è¯¢è¡¨ï¼Œè¿™å°±äº§ç”Ÿäº†ä¸€ä¸ªä¸éœ€è¦ä¼ æ’­çš„å•æ•°å€¼è¡¨ã€‚ä¹Ÿå°±æ„å‘³ç€æ¯æ¬¡æŸ¥è¯¢ï¼ˆæ€»æ˜¯è¿”å›ç›¸åŒå€¼ï¼‰ä¸€èˆ¬ä¼šäº§ç”Ÿç¼“å­˜ä¸¢å¤±ï¼Œè¿›è€Œå¯¼è‡´å¤§é‡çš„å†…å­˜å’ŒCPUå‘¨æœŸæµªè´¹ã€‚</p>\n<p>é€šå¸¸æ¥è®²ï¼Œä»£ç æˆä¸ºç“¶é¢ˆä¸€åŠæœ‰å››ä¸ªåŸå› ï¼š</p>\n<ul>\n<li>è°ƒç”¨é¢‘ç‡è¿‡é«˜</li>\n<li>ç®—æ³•é€‰æ‹©ä¸ä½³ï¼šå¦‚O(n^2)vsO(n)</li>\n<li>åšäº†ä¸å¿…è¦çš„å·¥ä½œæˆ–è€…å¤ªé¢‘ç¹çš„æ‰§è¡Œå¿…è¦çš„æ“ä½œ</li>\n<li>æ•°æ®è¾ƒå·®ï¼šæˆ–è€…æ˜¯æ•°æ®é‡å¤ªå¤§ï¼Œæˆ–è€…æ˜¯æ•°æ®åˆ†å¸ƒå’Œè®¿é—®æ¨¡å¼è¾ƒå·®</li>\n</ul>\n<p>è¿™é‡Œäº§ç”Ÿçš„é—®é¢˜åŸå› ä¸æ˜¯ç”±äºä»£ç è®¾è®¡ä¸å¥½æˆ–è€…å¼€å‘è´¨é‡å¯¼è‡´ã€‚è§£å†³æ–¹æ¡ˆæ˜¯å¥½çš„ï¼Œä½†æ˜¯åœ¨è¢«ç¾æœ¯å¸ˆå¤§é‡ä½¿ç”¨ä¹‹åï¼Œæ™®é€šè·¯å¾„æ˜¯é’ˆå¯¹å•å€¼çš„ï¼Œè€Œè¿™äº›ç®€å•çš„é—®é¢˜åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­æ˜¯å¾ˆä¸æ˜æ˜¾çš„ã€‚</p>\n<p>é¡ºä¾¿è¯´ä¸€å¥ï¼Œæˆ‘å­¦ä¼šäº†ä½œä¸ºä¸€åç¨‹åºå‘˜æœ€é‡è¦çš„äº‹æƒ…ä¹‹ä¸€ä¾¿æ˜¯å°Šé‡ä½ æ­£åœ¨å¤„ç†çš„ä»£ç ã€‚ä»£ç æœ‰å¯èƒ½çœ‹èµ·å¾ˆç–¯ç‹‚ï¼Œä½†æ˜¯è¿™æ ·å†™çš„ç›®çš„å¯èƒ½æ˜¯åŸºäºä¸€ä¸ªå¥½çš„å‡ºå‘ç‚¹ã€‚åœ¨æ²¡æœ‰å®Œå…¨ç†è§£ä»£ç å¦‚ä½•ä½¿ç”¨å’Œå…¶ä¸ºä½•è®¾è®¡ä¹‹å‰ä¸è¦é”™è¯¯çš„è®¤ä¸ºè¿™äº›ä»£ç æ˜¯ä¸‘é™‹æ„šè ¢çš„ã€‚</p>\n<p><img src=\"http://7xrgsx.com1.z0.glb.clouddn.com/codesoftly_comic.jpg\" alt=\"\"></p>\n<p>æ¥è‡ªï¼š<a href=\"http://codesoftly.com/2010/03/ha-code-entropy-explained.html\">http://codesoftly.com/2010/03/ha-code-entropy-explained.html</a></p>\n<h2 id=\"æ­¥éª¤3-è¿­ä»£\"><a href=\"#æ­¥éª¤3-è¿­ä»£\" class=\"headerlink\" title=\"æ­¥éª¤3:è¿­ä»£\"></a>æ­¥éª¤3:è¿­ä»£</h2><p>ç°åœ¨æˆ‘ä»¬äº†è§£äº†å“ªéƒ¨åˆ†ä»£ç æ‰§è¡Œè¾ƒæ…¢ã€è¿™éƒ¨åˆ†ä»£ç æœ¬æ„æ˜¯ä»€ä¹ˆå’Œä¸ºä½•æ‰§è¡Œè¾ƒæ…¢ï¼Œæ˜¯æ—¶å€™å¼€å§‹æ„æƒ³è§£å†³æ–¹æ¡ˆäº†ã€‚æ¯ä¸ªå¸¸è§çš„æ‰§è¡Œè·¯å¾„éƒ½æ˜¯ä¸ºå•ç‹¬å˜é‡è®¾è®¡ï¼Œæˆ‘ä»¬è¿˜çŸ¥é“æ•°é‡å°‘çš„é”®çš„çº¿æ€§æ’å€¼éå¸¸å¿«ï¼ˆåœ¨å°‘é‡é«˜é€Ÿç¼“å­˜ä¸­ä½œç®€å•çš„è®¡ç®—ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨è€ƒè™‘è¿™ç§æƒ…å†µçš„åŸºç¡€ä¸Šè¿›è¡Œé‡æ–°è®¾è®¡ã€‚æœ€åï¼Œæˆ‘ä»¬å¯ä»¥å›åˆ°å‰é¢ç½•è§é›†æˆæ›²çº¿çš„é¢„è®¡ç®—æŸ¥è¯¢è¡¨ä¸Šã€‚</p>\n<p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå½“æˆ‘ä»¬ä¸ä½¿ç”¨æŸ¥è¯¢è¡¨æ—¶ï¼Œé¦–å…ˆæ„é€ è¿™äº›è¡¨æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œæ‰€ä»¥ä¼šé‡Šæ”¾å¤§é‡æ„ä¹‰éå‡¡çš„å†…å­˜ï¼ˆå¤§å¤šæ•°è¡¨å…·æœ‰256ä¸ªæ¡ç›®æˆ–è€…æ›´å¤šï¼Œæ¯ä¸ªæ¡ç›®å¯è¾¾12å­—èŠ‚çš„å¤§å°ï¼Œè¿™ç›¸å½“äºå¤§çº¦æ¯å¼ è¡¨3kbï¼‰ã€‚æ‰€ä»¥ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨é¢å¤–çš„ä¸€äº›å†…å­˜æ¥æ·»åŠ ç¼“å­˜çš„æ¡ç›®å’Œå­˜å‚¨çš„å•å€¼çš„æ•°é‡ã€‚</p>\n<p>ä¹‹å‰çš„ä»£ç çœ‹èµ·æ¥æ˜¯è¿™ä¸ªæ ·å­çš„ï¼š</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">template</span> &lt;<span class=\"keyword\">typename</span> T&gt;</span><br><span class=\"line\"><span class=\"keyword\">class</span> AnimatedVariable</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">// &lt;snip&gt;</span></span><br><span class=\"line\"><span class=\"keyword\">private</span>:</span><br><span class=\"line\">    <span class=\"built_in\">std</span>::<span class=\"built_in\">vector</span>&lt;<span class=\"keyword\">float</span>&gt; mTimes;</span><br><span class=\"line\">    <span class=\"built_in\">std</span>::<span class=\"built_in\">vector</span>&lt;T&gt;     mValues;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">template</span> &lt;<span class=\"keyword\">typename</span> T&gt;</span><br><span class=\"line\"><span class=\"keyword\">class</span> AnimatedVariablePrecomputed</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">// &lt;snip&gt;</span></span><br><span class=\"line\"><span class=\"keyword\">private</span>:</span><br><span class=\"line\">    <span class=\"built_in\">std</span>::<span class=\"built_in\">vector</span>&lt;T&gt; mPrecomutedValues;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>AnimatedVariablePrecomputedå¯¹è±¡åœ¨AnimatedVariableä¸­è¿›è¡Œæ„é€ ï¼Œä»å®ƒçš„æŒ‡å®šå¤§å°æ’å€¼å’Œæ„å»ºä¸€ä¸ªè¡¨ã€‚Evaluate()ä»…åœ¨é¢„è®¡ç®—å¯¹è±¡ä¸­è¢«è°ƒç”¨ã€‚</p>\n<p>æˆ‘ä»¬ä¿®æ”¹äº†ä¸€ä¸‹AnimatedVariableç±»ï¼Œç°åœ¨çœ‹èµ·æ¥æ˜¯è¿™ä¸ªæ ·å­çš„ï¼š</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">template</span> &lt;<span class=\"keyword\">typename</span> T&gt;</span><br><span class=\"line\"><span class=\"keyword\">class</span> AnimatedVariable</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">// &lt;snip&gt;</span></span><br><span class=\"line\"><span class=\"keyword\">private</span>:</span><br><span class=\"line\">    <span class=\"keyword\">int</span> mNumValues;</span><br><span class=\"line\">    T mSingleValue;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">struct</span> Key</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">float</span> mTime;</span><br><span class=\"line\">        T     mvalue;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    <span class=\"built_in\">std</span>::<span class=\"built_in\">vector</span>&lt;Key&gt; mKeys;</span><br><span class=\"line\">    AnimatedVariablePrecomputed&lt;T&gt; *mPrecomputed;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>æˆ‘ä»¬æ·»åŠ äº†ä¸€ä¸ªç¼“å­˜å€¼mSingleValueï¼Œå’Œä¸€ä¸ªæ•´æ•°mNumValuesï¼Œç”¨äºå‘Šè¯‰æˆ‘ä»¬ä½•æ—¶æ‰ä½¿ç”¨mSingleValueã€‚å¦‚æœmNumValuesæ˜¯1ï¼ˆå³å¯¹åº”å•å€¼çš„æƒ…å†µï¼‰ï¼ŒEvaluate()ä¼šç›´æ¥è¿”å›mSingleValueçš„å€¼â€”â€”ä¸éœ€è¦å…¶ä»–å¤šä½™çš„å¤„ç†ã€‚ä½ è¿˜å¯ä»¥æ³¨æ„åˆ°æ’å…¥æ—¶é—´å’Œå€¼æ„é€ çš„Keyèƒ½å¤Ÿå‡å°‘ç¼“å­˜æœªå‘½ä¸­çš„æƒ…å†µã€‚</p>\n<p>æŒ‡å‘æ­¤ç±»çš„æ•°æ®å‘é‡å¤§å°ç°åœ¨èŒƒå›´ä»24åˆ°36ä¸ªå­—èŠ‚ä¸ç­‰ï¼Œå…·ä½“å–å†³äºæ¨¡æ¿ç±»å‹ï¼ˆåŒæ—¶ä¹Ÿä¾èµ–ä¸å¹³å°ï¼Œstd::vector&lt;&gt;çš„å¤§å°ä¹Ÿä¼šä¸åŒï¼‰ã€‚</p>\n<p>Evaluate()ä¹‹å‰çš„ä»£ç çœ‹èµ·æ¥æ˜¯è¿™æ ·å­çš„ï¼š</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">template</span> &lt;<span class=\"keyword\">typename</span> T&gt;</span><br><span class=\"line\">T AnimatedVariablePrecomputed&lt;T&gt;::Evaluate(<span class=\"keyword\">float</span> time) <span class=\"keyword\">const</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    in numValues = mPrecomputedValues.size();</span><br><span class=\"line\">    RIOT_ASSERT(numValues &gt; <span class=\"number\">1</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">int</span> index = <span class=\"keyword\">static_cast</span>&lt;<span class=\"keyword\">int</span>&gt;(time * numValues);</span><br><span class=\"line\">    <span class=\"comment\">// clamp to valid table entry to handle the 1.0 boundary or out of bounds input</span></span><br><span class=\"line\">    index = Clamp(index, <span class=\"number\">0</span>, numValues - <span class=\"number\">1</span>);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> mPrecomputedValues[index];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ä¿®æ”¹åçš„Evaluate()æ–¹æ³•ä»£ç å¦‚ä¸‹ï¼Œè¿™æ˜¯åœ¨VTuneä¸­å±•ç¤ºçš„ã€‚ä½ å¯ä»¥çœ‹åˆ°ä¸‰ä¸ªå¯èƒ½çš„æ‰§è¡Œcaseï¼šå•å€¼ï¼ˆçº¢è‰²éƒ¨åˆ†ï¼‰ï¼Œçº¿æ€§æ’å€¼ï¼ˆè“è‰²éƒ¨åˆ†ï¼‰å’Œé¢„è®¡ç®—æŸ¥è¯¢ï¼ˆç»¿è‰²éƒ¨åˆ†ï¼‰ã€‚</p>\n<p><img src=\"http://7xrgsx.com1.z0.glb.clouddn.com/VTune3.PNG\" alt=\"\"></p>\n<p>åœ¨VTuneä¸­å±•ç¤ºçš„ä¼˜åŒ–è¿‡çš„ä»£ç ç‰‡æ®µ</p>\n<p>ä¿®æ”¹åçš„ä»£ç æ‰§è¡Œé€Ÿåº¦å¤§çº¦å¿«äº†3å€ï¼šåœ¨æœ€æ…¢çš„å‡½æ•°åˆ—è¡¨ä¸­è¯¥å‡½æ•°ä»ç¬¬ä¸‰ä½é™åˆ°äº†ç¬¬22ä½ï¼ä¸ä»…æ‰§è¡Œæ›´å¿«ï¼ŒåŒæ—¶è¿˜é™ä½äº†å†…å­˜çš„ä½¿ç”¨ï¼Œå¤§çº¦å‡å°‘äº†750kbã€‚è¿™è¿˜ä¸ç®—å®Œï¼Œä¸ä»…å‡½æ•°æ‰§è¡Œæ›´å¿«ï¼Œå å†…å­˜æ›´å°‘ï¼ŒåŒæ—¶æé«˜äº†çº¿æ€§æ’å€¼çš„å‡†ç¡®åº¦ã€‚å¯è°“ä¸€çŸ³ä¸‰é¸Ÿã€‚</p>\n<p>è¿™é‡Œå¹¶æ²¡æœ‰æåˆ°çš„å†…å®¹ï¼ˆå°½ç®¡æ–‡ç« å·²ç»è¶³å¤Ÿé•¿äº†ï¼‰æ˜¯æˆ‘å¦‚ä½•é€šè¿‡ä¸æ–­è¿­ä»£æ‰¾åˆ°äº†è¿™ä¸ªè§£å†³æ–¹æ¡ˆã€‚æˆ‘æœ€åˆçš„å°è¯•å‡å°‘åœ¨ç²’å­ç”Ÿå‘½å‘¨æœŸå†…æ ·æœ¬è¡¨çš„å¤§å°ã€‚è¿™ä¸ªæ–¹æ¡ˆå‡ ä¹æœ‰æ•ˆâ€”â€”ä½†æœ‰äº›ç§»åŠ¨è¾ƒå¿«çš„ç²’å­ç”±äºæ ·æœ¬è¡¨çš„å‡å°‘ï¼Œå˜çš„å‚å·®ä¸é½ã€‚å¹¸è¿çš„æ˜¯ï¼Œè¿™ä¸ªç°è±¡å¾ˆå¿«å°±è¢«å‘ç°äº†ï¼Œä½¿å¾—æˆ‘ä¾ç„¶èƒ½å¤Ÿå°†æ–¹æ¡ˆæ›´æ¢ä¸ºæœ¬æ–‡ä¸­æåˆ°çš„æ–¹æ³•ã€‚å½“ç„¶è¿˜æœ‰ä¸€äº›å…¶ä»–çš„ä»£ç ä¿®æ”¹ï¼Œä½†æ˜¯å¯¹äºæ€§èƒ½æé«˜å¹¶æ²¡æœ‰ç›´æ¥æ•ˆæœï¼Œä¹Ÿæœ‰äº›ä»£ç çš„ä¿®æ”¹ç”šè‡³é€ æˆäº†ä»£ç æ‰§è¡Œæ›´æ…¢ã€‚</p>\n<h2 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a>æ€»ç»“</h2><p>æœ¬æ–‡ä¸­ä»‹ç»çš„æ˜¯è‹±é›„è”ç›Ÿæ¸¸æˆä»£ç åº“ä¸­ä»£ç ä¼˜åŒ–çš„ä¸€ä¸ªå…¸å‹æ¡ˆä¾‹ã€‚è™½ç„¶å˜åŠ¨æ›´å°ï¼Œä½†æ˜¯è¿™ä¸ªæ”¹åŠ¨ä½¿å¾—å†…å­˜èŠ‚çº¦äº†750kbï¼Œç²’å­çº¿ç¨‹æ¯”è¾ƒä¹‹å‰è¿è¡Œå¿«äº†1åˆ°2æ¯«ç§’ï¼Œè¿™ä½¿å¾—ä¸»çº¿ç¨‹æ‰§è¡Œçš„æ›´å¿«ã€‚</p>\n<p>å½“ç¨‹åºå‘˜å¯»æ±‚ä¼˜åŒ–çš„æ—¶å€™ï¼Œè™½ç„¶çœ‹ä¼¼æ˜¾è€Œæ˜“è§ï¼Œä½†è¿™é‡Œæåˆ°çš„ä¸‰ä¸ªé˜¶æ®µéƒ½å¸¸å¸¸ä¼šè¢«å¿½è§†ã€‚è¿™é‡Œåªæ˜¯ä¸ºäº†å¼ºè°ƒä¸€ä¸‹ï¼š</p>\n<ol>\n<li>é‰´åˆ«ï¼šåˆ†æåº”ç”¨å¹¶æ‰¾å‡ºæ€§èƒ½æœ€å·®çš„éƒ¨åˆ†</li>\n<li>ç†è§£ï¼šç†è§£ä»£ç çš„æœ¬æ„å’Œæ‰§è¡Œç¼“æ…¢çš„åŸå› </li>\n<li>è¿­ä»£ï¼šåŸºäºä¸Šé¢ä¸¤ä¸ªé˜¶æ®µçš„åˆ°çš„æˆæœè¿›è¡Œä»£ç çš„ä¿®æ”¹ã€è¿­ä»£ï¼Œå¹¶é‡æ–°åˆ†æã€‚é‡å¤è¿™ä¸‰ä¸ªæ­¥éª¤ç›´åˆ°è¶³å¤Ÿå¿«ã€‚</li>\n</ol>\n<p>ä¸Šé¢æåˆ°çš„è§£å†³æ–¹æ¡ˆä¸è§å¾—æ˜¯æœ€å¿«çš„è§£å†³æ–¹æ¡ˆï¼Œä½†è‡³å°‘æ–¹å‘æ˜¯æ­£ç¡®çš„â€”â€”æ€§èƒ½æå‡çš„å®‰å…¨è·¯å¾„æ˜¯é€šè¿‡è¿­ä»£æ”¹è¿›ã€‚</p>\n<p>æœ¬æ–‡ä½œè€…ï¼šTony Albrecht</p>"}],"PostAsset":[],"PostCategory":[],"PostTag":[{"post_id":"cilay2b4q0000lvmztlmf5lji","tag_id":"cilay2b560001lvmzxl7rk47p","_id":"cilay2b5c0002lvmza0y2kj71"},{"post_id":"cilhkfrf10000nohlu2kgx3mr","tag_id":"cilhkfrfb0001nohl61dgbsnx","_id":"cilhkfrfe0002nohlvwsz4kg6"}],"Tag":[{"name":"æ‚","_id":"cilay2b560001lvmzxl7rk47p"},{"name":"ç¿»è¯‘","_id":"cilhkfrfb0001nohl61dgbsnx"}]}}